(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"4fRq":function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},"4t0b":function(t,e){!function(){"use strict";var t,e,n,i,r,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x,C="leader-line",S={top:1,right:2,bottom:3,left:4},k={straight:1,arc:2,fluid:3,magnet:4,grid:5},E="behind",I={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},T={behind:E,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},O={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},D=[1,2,3,4],A="auto",R={x:"left",y:"top",width:"width",height:"height"},P=10,M=.5522847,L=.25*Math.PI,N=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,F="http://www.w3.org/2000/svg",B=!(G="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled)&&!!document.uniqueID,V="MozAppearance"in document.documentElement.style,z=!(G||V||!window.chrome||!window.CSS),j=!(G||B||V||z||window.chrome||!("WebkitAppearance"in document.documentElement.style)),H=B||G?.2:.1,U={path:3,lineColor:"coral",lineSize:4,plugSE:[E,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},$=(_={}.toString,x=(w={}.hasOwnProperty.toString).call(Object),function(t){return t&&"[object Object]"===_.call(t)&&(!(t=Object.getPrototypeOf(t))||(t=t.hasOwnProperty("constructor")&&t.constructor)&&"function"==typeof t&&w.call(t)===x)}),q=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},W=(p={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},f=1e3/60/2,m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,f)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(t){clearTimeout(t)},v=Number.isFinite||function(t){return"number"==typeof t&&window.isFinite(t)},y=[],b=0,{add:function(t,e,n,i,r,s,o){var a,l,c,h,u,d,m,g,v,_,w=++b;function x(e,n){return{value:t(n),timeRatio:e,outputRatio:n}}if("string"==typeof r&&(r=p[r]),t=t||function(){},n<f)a=[x(0,0),x(1,1)];else{if(l=f/n,a=[x(0,0)],0===r[0]&&0===r[1]&&1===r[2]&&1===r[3])for(h=l;h<=1;h+=l)a.push(x(h,h));else for(u=c=(h=l)/10;u<=1;u+=c)_=void 0,g=(_=u*u)*u,_*=3*(v=1-u),h<=(d={x:(m=v*v*3*u)*r[0]+_*r[2]+g,y:m*r[1]+_*r[3]+g}).x&&(a.push(x(d.x,d.y)),h+=l);a.push(x(1,1))}return y.push(s={animId:w,frameCallback:e,duration:n,count:i,frames:a,reverse:!!s}),!1!==o&&rt(s,o),w},remove:function(t){var e;y.some((function(n,i){return n.animId===t&&(e=i,!(n.framesStart=null))}))&&y.splice(e,1)},start:function(t,e,n){y.some((function(i){return i.animId===t&&(i.reverse=!!e,rt(i,n),!0)}))},stop:function(t,e){var n;return y.some((function(i){return i.animId===t&&(e?null!=i.lastFrame&&(n=i.frames[i.lastFrame].timeRatio):(n=(Date.now()-i.framesStart)/i.duration,(n=i.reverse?1-n:n)<0?n=0:1<n&&(n=1)),!(i.framesStart=null))})),n},validTiming:function(t){return"string"==typeof t?p[t]:Array.isArray(t)&&[0,1,2,3].every((function(e){return v(t[e])&&0<=t[e]&&t[e]<=1}))?[t[0],t[1],t[2],t[3]]:null}}),G=(u={},nt.m=h=[function(t,e,n){n.r(e);var i=[],r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return clearTimeout(t)},o=Date.now(),a=void 0;function l(){var t=void 0,e=void 0;a&&(s.call(window,a),a=null),i.forEach((function(e){var n;(n=e.event)&&(e.event=null,e.listener(n),t=!0)})),t?(o=Date.now(),e=!0):Date.now()-o<500&&(e=!0),e&&(a=r.call(window,l))}function c(t){var e=-1;return i.some((function(n,i){return n.listener===t&&(e=i,!0)})),e}e.default={add:function(t){var e=void 0;return-1===c(t)?(i.push(e={listener:t}),function(t){e.event=t,a||l()}):null},remove:function(t){-1<(t=c(t))&&(i.splice(t,1),!i.length&&a&&(s.call(window,a),a=null))}}}],nt.c=u,nt.d=function(t,e,n){nt.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},nt.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},nt.t=function(t,e){if(1&e&&(t=nt(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(nt.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)nt.d(n,i,(function(e){return t[e]}).bind(null,i));return n},nt.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return nt.d(e,"a",e),e},nt.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},nt.p="",nt(nt.s=0).default),Y={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:E},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:E},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:E},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},X={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},K="fade",Z=[],Q={},J=0,tt={},et=0;function nt(t){if(u[t])return u[t].exports;var e=u[t]={i:t,l:!1,exports:{}};return h[t].call(e.exports,e,e.exports,nt),e.l=!0,e.exports}function it(){var t=Date.now(),e=!1;d&&(g.call(window,d),d=null),y.forEach((function(n){var i,r,s;if(n.framesStart){if((i=t-n.framesStart)>=n.duration&&n.count&&n.loopsLeft<=1)return s=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(s.value,!0,s.timeRatio,s.outputRatio),void(n.framesStart=null);if(i>n.duration){if(r=Math.floor(i/n.duration),n.count){if(r>=n.loopsLeft)return s=n.frames[n.lastFrame=n.reverse?0:n.frames.length-1],n.frameCallback(s.value,!0,s.timeRatio,s.outputRatio),void(n.framesStart=null);n.loopsLeft-=r}n.framesStart+=n.duration*r,i=t-n.framesStart}n.reverse&&(i=n.duration-i),s=n.frames[n.lastFrame=Math.round(i/f)],!1!==n.frameCallback(s.value,!1,s.timeRatio,s.outputRatio)?e=!0:n.framesStart=null}})),e&&(d=m.call(window,it))}function rt(t,e){t.framesStart=Date.now(),null!=e&&(t.framesStart-=t.duration*(t.reverse?1-e:e)),t.loopsLeft=t.count,t.lastFrame=null,it()}function st(t,e){var n,i;return typeof t!=typeof e||(n=$(t)?"obj":Array.isArray(t)?"array":"")!=($(e)?"obj":Array.isArray(e)?"array":"")||("obj"===n?st(i=Object.keys(t).sort(),Object.keys(e).sort())||i.some((function(n){return st(t[n],e[n])})):"array"===n?t.length!==e.length||t.some((function(t,n){return st(t,e[n])})):t!==e)}function ot(t){return t&&($(t)?Object.keys(t).reduce((function(e,n){return e[n]=ot(t[n]),e}),{}):Array.isArray(t)?t.map(ot):t)}function at(t){var e,n,i,r=1,s=t=(t+"").trim();function o(t){var e=1;return(t=N.exec(t))&&(e=parseFloat(t[1]),t[2]?e=0<=e&&e<=100?e/100:1:(e<0||1<e)&&(e=1)),e}return(e=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(t))?(n=e[1].toLowerCase(),i=e[2].trim().split(/\s*,\s*/),"rgba"===n&&4===i.length?(r=o(i[3]),s="rgb("+i.slice(0,3).join(", ")+")"):"hsla"===n&&4===i.length?(r=o(i[3]),s="hsl("+i.slice(0,3).join(", ")+")"):"hwb"===n&&4===i.length?(r=o(i[3]),s="hwb("+i.slice(0,3).join(", ")+")"):"gray"===n&&2===i.length?(r=o(i[1]),s="gray("+i[0]+")"):"device-cmyk"===n&&5<=i.length&&(r=o(i[4]),s="device-cmyk("+i.slice(0,4).join(", ")+")")):(e=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(t))?s=e[1]?(r=parseInt(e[2],16)/255,"#"+e[1]):(r=parseInt(e[4]+e[4],16)/255,"#"+e[3]):"transparent"===t.toLocaleLowerCase()&&(r=0),[r,s]}function lt(t){return!(!t||t.nodeType!==Node.ELEMENT_NODE||"function"!=typeof t.getBoundingClientRect)}function ct(t,e){var n,i,r,s={};if(!(r=t.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(i in n=t.getBoundingClientRect())s[i]=n[i];if(!e){if(!(r=r.defaultView))return console.error("Cannot get window that contains the element."),null;s.left+=r.pageXOffset,s.right+=r.pageXOffset,s.top+=r.pageYOffset,s.bottom+=r.pageYOffset}return s}function ht(t,e){var n,i=[],r=t;for(e=e||window;;){if(!(n=r.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(n=n.defaultView))return console.error("Cannot get window that contains the element."),null;if(n===e)break;if(!(r=n.frameElement))return console.error("`baseWindow` was not found."),null;i.unshift(r)}return i}function ut(t,e){var n=0,i=0;return(e=ht(t,e=e||window))?e.length?(e.forEach((function(t,e){var r=ct(t,0<e);n+=r.left,i+=r.top,t=(e=t).ownerDocument.defaultView.getComputedStyle(e,""),r={left:e.clientLeft+parseFloat(t.paddingLeft),top:e.clientTop+parseFloat(t.paddingTop)},n+=r.left,i+=r.top})),(e=ct(t,!0)).left+=n,e.right+=n,e.top+=i,e.bottom+=i,e):ct(t):null}function dt(t,e){var n=t.x-e.x;return e=t.y-e.y,Math.sqrt(n*n+e*e)}function pt(t,e,n){var i=e.x-t.x;return{x:t.x+i*n,y:t.y+(e=e.y-t.y)*n,angle:Math.atan2(e,i)/(Math.PI/180)}}function ft(t,e,n){return t=Math.atan2(t.y-e.y,e.x-t.x),{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n*-1}}function mt(t,e,n,i,r){var s=1-r,o=(c=(h=s*s)*s)*t.x+3*h*r*e.x+3*s*(d=r*r)*n.x+(u=d*r)*i.x,a=c*t.y+3*h*r*e.y+3*s*d*n.y+u*i.y,l=t.x+2*r*(e.x-t.x)+d*(n.x-2*e.x+t.x),c=t.y+2*r*(e.y-t.y)+d*(n.y-2*e.y+t.y),h=e.x+2*r*(n.x-e.x)+d*(i.x-2*n.x+e.x),u=e.y+2*r*(n.y-e.y)+d*(i.y-2*n.y+e.y),d=s*t.x+r*e.x;return t=s*t.y+r*e.y,e=s*n.x+r*i.x,r=s*n.y+r*i.y,i=90-180*Math.atan2(l-h,c-u)/Math.PI,{x:o,y:a,fromP2:{x:l,y:c},toP1:{x:h,y:u},fromP1:{x:d,y:t},toP2:{x:e,y:r},angle:i+=180<i?-180:180}}function gt(t,e,n,i,r){function s(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}var o,a,l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],c=0,h=(r=null==r||1<r?1:r<0?0:r)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach((function(r,u){o=s(a=h*r+h,t.x,e.x,n.x,i.x),a=s(a,t.y,e.y,n.y,i.y),a=o*o+a*a,c+=l[u]*Math.sqrt(a)})),h*c}function vt(t,e,n,i,r){for(var s,o=.5,a=1-o;s=gt(t,e,n,i,a),!(Math.abs(s-r)<=.01);)a+=(s<r?1:-1)*(o/=2);return a}function yt(t,e){var n;return t.forEach((function(t){t=e?t.map((function(t){return e(t={x:t.x,y:t.y}),t})):t,(n=n||[{type:"M",values:[t[0].x,t[0].y]}]).push(t.length?2===t.length?{type:"L",values:[t[1].x,t[1].y]}:{type:"C",values:[t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]}:{type:"Z",values:[]})})),n}function bt(t){var e=[],n=0;return t.forEach((function(t){t=(2===t.length?dt:gt).apply(null,t),e.push(t),n+=t})),{segsLen:e,lenAll:n}}function _t(t,e){return null==t||null==e||t.length!==e.length||t.some((function(t,n){var i=e[n];return t.type!==i.type||t.values.some((function(t,e){return t!==i.values[e]}))}))}function wt(t,e,n){t.events[e]?t.events[e].indexOf(n)<0&&t.events[e].push(n):t.events[e]=[n]}function xt(t,e,n){var i;t.events[e]&&-1<(i=t.events[e].indexOf(n))&&t.events[e].splice(i,1)}function Ct(t){o&&clearTimeout(o),Z.push(t),o=setTimeout((function(){Z.forEach((function(t){t()})),Z=[]}),0)}function St(t,e){t.reflowTargets.indexOf(e)<0&&t.reflowTargets.push(e)}function kt(t){t.reflowTargets.forEach((function(t){var e;e=t,setTimeout((function(){var t=e.parentNode,n=e.nextSibling;t.insertBefore(t.removeChild(e),n)}),0)})),t.reflowTargets=[]}function Et(t,e,n,i,r,s,o){var l;"auto-start-reverse"===n?("boolean"!=typeof a&&(e.setAttribute("orient","auto-start-reverse"),a=e.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),a?e.setAttribute("orient",n):((l=r.createSVGTransform()).setRotate(180,0,0),s.transform.baseVal.appendItem(l),e.setAttribute("orient","auto"),l=!0)):(e.setAttribute("orient",n),!1===a&&s.transform.baseVal.clear()),e=e.viewBox.baseVal,l?(e.x=-i.right,e.y=-i.bottom):(e.x=i.left,e.y=i.top),e.width=i.width,e.height=i.height,B&&St(t,o)}function It(t,e){return{prop:t?"markerEnd":"markerStart",orient:e?e.noRotate?"0":t?"auto":"auto-start-reverse":null}}function Tt(t,e){Object.keys(e).forEach((function(n){var i=e[n];t[n]=null!=i.iniValue?i.hasSE?[i.iniValue,i.iniValue]:i.iniValue:i.hasSE?i.hasProps?[{},{}]:[]:i.hasProps?{}:null}))}function Ot(t,e,n,i,r){return i!==e[n]&&(e[n]=i,r&&r.forEach((function(e){e(t,i,n)})),!0)}function Dt(t){function e(t,e){return t+parseFloat(e)}var n=t.getComputedStyle((i=t.document).documentElement,""),i=(t=t.getComputedStyle(i.body,""),{x:0,y:0});return"static"!==t.position?(i.x-=[n.marginLeft,n.borderLeftWidth,n.paddingLeft,t.marginLeft,t.borderLeftWidth].reduce(e,0),i.y-=[n.marginTop,n.borderTopWidth,n.paddingTop,t.marginTop,t.borderTopWidth].reduce(e,0)):"static"!==n.position&&(i.x-=[n.marginLeft,n.borderLeftWidth].reduce(e,0),i.y-=[n.marginTop,n.borderTopWidth].reduce(e,0)),i}function At(t){var e,n=t.document;n.getElementById("leader-line-defs")||(e=(new t.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:white}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:black}.leader-line-caps-mask-anchor{stroke:black}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:rgba(0,0,0,0)}.leader-line-line-mask-shape{stroke:white}.leader-line-line-outline-mask-shape{stroke:black}.leader-line-plug-mask-shape{fill:white;stroke:black}.leader-line-plug-outline-mask-shape{fill:black;stroke:white}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',"image/svg+xml"),n.body.appendChild(e.documentElement),function(t){t.SVGPathElement.prototype.getPathData&&t.SVGPathElement.prototype.setPathData||function(){function e(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var n={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},i=-1!==t.navigator.userAgent.indexOf("MSIE ");function r(t){if(!t||0===t.length)return[];var n=new e(t),i=[];if(n.initialCommandIsMoveTo())for(;n.hasMoreData();){var r=n.parseSegment();if(null===r)break;i.push(r)}return i}function s(t){return t.map((function(t){return{type:t.type,values:Array.prototype.slice.call(t.values)}}))}function o(t){var e=[],n=null,i=null,r=null,s=null,o=null,a=null,l=null;return t.forEach((function(t){var c,h,d,p,f,m,g,v;"M"===t.type?(e.push({type:"M",values:[g=t.values[0],v=t.values[1]]}),s=a=g,o=l=v):"C"===t.type?(e.push({type:"C",values:[f=t.values[0],m=t.values[1],c=t.values[2],h=t.values[3],g=t.values[4],v=t.values[5]]}),i=c,r=h,s=g,o=v):"L"===t.type?(e.push({type:"L",values:[g=t.values[0],v=t.values[1]]}),s=g,o=v):"H"===t.type?(e.push({type:"L",values:[g=t.values[0],o]}),s=g):"V"===t.type?(e.push({type:"L",values:[s,v=t.values[0]]}),o=v):"S"===t.type?(p="C"===n||"S"===n?(d=s+(s-i),o+(o-r)):(d=s,o),e.push({type:"C",values:[d,p,c=t.values[0],h=t.values[1],g=t.values[2],v=t.values[3]]}),i=c,r=h,s=g,o=v):"T"===t.type?(m="Q"===n||"T"===n?(f=s+(s-i),o+(o-r)):(f=s,o),e.push({type:"C",values:[d=s+2*(f-s)/3,p=o+2*(m-o)/3,(g=t.values[0])+2*(f-g)/3,(v=t.values[1])+2*(m-v)/3,g,v]}),i=f,r=m,s=g,o=v):"Q"===t.type?(e.push({type:"C",values:[d=s+2*((f=t.values[0])-s)/3,p=o+2*((m=t.values[1])-o)/3,(g=t.values[2])+2*(f-g)/3,(v=t.values[3])+2*(m-v)/3,g,v]}),i=f,r=m,s=g,o=v):"A"===t.type?(d=t.values[1],p=t.values[2],f=t.values[3],m=t.values[4],g=t.values[5],v=t.values[6],0===(h=t.values[0])||0===d?(e.push({type:"C",values:[s,o,g,v,g,v]}),s=g,o=v):s===g&&o===v||u(s,o,g,v,h,d,p,f,m).forEach((function(t){e.push({type:"C",values:t}),s=g,o=v}))):"Z"===t.type&&(e.push(t),s=a,o=l),n=t.type})),e}e.prototype={parseSegment:function(){var t=n[e=this._string[this._currentIndex]]||null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||"0"<=e&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var e,i=null;return"H"===(e=(this._prevCommand=t).toUpperCase())||"V"===e?i=[this._parseNumber()]:"M"===e||"L"===e||"T"===e?i=[this._parseNumber(),this._parseNumber()]:"S"===e||"Q"===e?i=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===e?i=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===e?i=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===e&&(this._skipOptionalSpaces(),i=[]),null===i||0<=i.indexOf(null)?null:{type:t,values:i}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){return n[this._string[this._currentIndex]]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return"M"===t||"m"===t},_isCurrentSpace:function(){var t=this._string[this._currentIndex];return t<=" "&&(" "===t||"\n"===t||"\t"===t||"\r"===t||"\f"===t)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var t=0,e=0,n=1,i=0,r=1,s=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,r=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var a=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==a)for(var l=this._currentIndex-1,c=1;a<=l;)e+=c*(this._string[l]-"0"),--l,c*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)n*=10,i+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==o&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,s=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)t*=10,t+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var h=e+i;return h*=r,t&&(h*=Math.pow(10,s*t)),o===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),h)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var t=null,e=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===e)t=0;else{if("1"!==e)return null;t=1}return this._skipOptionalSpacesOrDelimiter(),t}};var a=t.SVGPathElement.prototype.setAttribute,l=t.SVGPathElement.prototype.removeAttribute,c=t.Symbol?t.Symbol():"__cachedPathData",h=t.Symbol?t.Symbol():"__cachedNormalizedPathData",u=function(t,e,n,i,r,s,o,a,l,c){function h(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}var d=Math.PI*o/180,p=[];c?(_=c[0],w=c[1],y=c[2],b=c[3]):(t=(v=h(t,e,-d)).x,e=v.y,1<(v=(g=(t-(n=(m=h(n,i,-d)).x))/2)*g/(r*r)+(f=(e-(i=m.y))/2)*f/(s*s))&&(r*=v=Math.sqrt(v),s*=v),m=r*r,v=s*s,y=(m=(a===l?-1:1)*Math.sqrt(Math.abs((m*v-m*f*f-v*g*g)/(m*f*f+v*g*g))))*r*f/s+(t+n)/2,b=m*-s*g/r+(e+i)/2,_=Math.asin(parseFloat(((e-b)/s).toFixed(9))),w=Math.asin(parseFloat(((i-b)/s).toFixed(9))),t<y&&(_=Math.PI-_),n<y&&(w=Math.PI-w),_<0&&(_=2*Math.PI+_),w<0&&(w=2*Math.PI+w),l&&w<_&&(_-=2*Math.PI),!l&&_<w&&(w-=2*Math.PI));var f,m,g,v=w-_;Math.abs(v)>120*Math.PI/180&&(f=w,m=n,g=i,w=l&&_<w?_+120*Math.PI/180*1:_+120*Math.PI/180*-1,n=y+r*Math.cos(w),i=b+s*Math.sin(w),p=u(n,i,m,g,r,s,o,0,l,[w,f,y,b])),v=w-_;var y=Math.cos(_),b=Math.sin(_),_=Math.cos(w),w=Math.sin(w);if(_=[n+(r=4/3*r*(v=Math.tan(v/4)))*w,i-(s=4/3*s*v)*_],i=[n,i],(y=[t+r*b,e-s*y])[0]=2*(v=[t,e])[0]-y[0],y[1]=2*v[1]-y[1],c)return[y,_,i].concat(p);p=[y,_,i].concat(p).join().split(",");var x=[],C=[];return p.forEach((function(t,e){C.push(e%2?h(p[e-1],p[e],d).y:h(p[e],p[e+1],d).x),6===C.length&&(x.push(C),C=[])})),x};t.SVGPathElement.prototype.setAttribute=function(t,e){"d"===t&&(this[c]=null,this[h]=null),a.call(this,t,e)},t.SVGPathElement.prototype.removeAttribute=function(t,e){"d"===t&&(this[c]=null,this[h]=null),l.call(this,t)},t.SVGPathElement.prototype.getPathData=function(t){if(t&&t.normalize)return this[h]?s(this[h]):(this[c]?u=s(this[c]):(u=r(this.getAttribute("d")||""),this[c]=s(u)),t=o((e=[],l=a=i=n=null,u.forEach((function(t){var r,s,o=t.type;"M"===o?(e.push({type:"M",values:[r=t.values[0],s=t.values[1]]}),n=a=r,i=l=s):"m"===o?(e.push({type:"M",values:[r=n+t.values[0],s=i+t.values[1]]}),n=a=r,i=l=s):"L"===o?(e.push({type:"L",values:[r=t.values[0],s=t.values[1]]}),n=r,i=s):"l"===o?(e.push({type:"L",values:[r=n+t.values[0],s=i+t.values[1]]}),n=r,i=s):"C"===o?(e.push({type:"C",values:[t.values[0],t.values[1],t.values[2],t.values[3],r=t.values[4],s=t.values[5]]}),n=r,i=s):"c"===o?(e.push({type:"C",values:[n+t.values[0],i+t.values[1],n+t.values[2],i+t.values[3],r=n+t.values[4],s=i+t.values[5]]}),n=r,i=s):"Q"===o?(e.push({type:"Q",values:[t.values[0],t.values[1],r=t.values[2],s=t.values[3]]}),n=r,i=s):"q"===o?(e.push({type:"Q",values:[n+t.values[0],i+t.values[1],r=n+t.values[2],s=i+t.values[3]]}),n=r,i=s):"A"===o?(e.push({type:"A",values:[t.values[0],t.values[1],t.values[2],t.values[3],t.values[4],r=t.values[5],s=t.values[6]]}),n=r,i=s):"a"===o?(e.push({type:"A",values:[t.values[0],t.values[1],t.values[2],t.values[3],t.values[4],r=n+t.values[5],s=i+t.values[6]]}),n=r,i=s):"H"===o?(e.push({type:"H",values:[r=t.values[0]]}),n=r):"h"===o?(e.push({type:"H",values:[r=n+t.values[0]]}),n=r):"V"===o?(e.push({type:"V",values:[s=t.values[0]]}),i=s):"v"===o?(e.push({type:"V",values:[s=i+t.values[0]]}),i=s):"S"===o?(e.push({type:"S",values:[t.values[0],t.values[1],r=t.values[2],s=t.values[3]]}),n=r,i=s):"s"===o?(e.push({type:"S",values:[n+t.values[0],i+t.values[1],r=n+t.values[2],s=i+t.values[3]]}),n=r,i=s):"T"===o?(e.push({type:"T",values:[r=t.values[0],s=t.values[1]]}),n=r,i=s):"t"===o?(e.push({type:"T",values:[r=n+t.values[0],s=i+t.values[1]]}),n=r,i=s):"Z"!==o&&"z"!==o||(e.push({type:"Z",values:[]}),n=a,i=l)})),e)),this[h]=s(t),t);if(this[c])return s(this[c]);var e,n,i,a,l,u=r(this.getAttribute("d")||"");return this[c]=s(u),u},t.SVGPathElement.prototype.setPathData=function(t){if(0===t.length)i?this.setAttribute("d",""):this.removeAttribute("d");else{for(var e="",n=0,r=t.length;n<r;n+=1){var s=t[n];0<n&&(e+=" "),e+=s.type,s.values&&0<s.values.length&&(e+=" "+s.values.join(" "))}this.setAttribute("d",e)}},t.SVGRectElement.prototype.getPathData=function(t){var e=this.x.baseVal.value,n=this.y.baseVal.value,i=this.width.baseVal.value,r=this.height.baseVal.value,s=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,a=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value;return n=(n=[{type:"M",values:[e+(s=i/2<s?i/2:s),n]},{type:"H",values:[e+i-s]},{type:"A",values:[s,a=r/2<a?r/2:a,0,0,1,e+i,n+a]},{type:"V",values:[n+r-a]},{type:"A",values:[s,a,0,0,1,e+i-s,n+r]},{type:"H",values:[e+s]},{type:"A",values:[s,a,0,0,1,e,n+r-a]},{type:"V",values:[n+a]},{type:"A",values:[s,a,0,0,1,e+s,n]},{type:"Z",values:[]}]).filter((function(t){return"A"!==t.type||0!==t.values[0]&&0!==t.values[1]})),t&&!0===t.normalize?o(n):n},t.SVGCircleElement.prototype.getPathData=function(t){var e=this.cx.baseVal.value,n=this.r.baseVal.value,i=[{type:"M",values:[e+n,i=this.cy.baseVal.value]},{type:"A",values:[n,n,0,0,1,e,i+n]},{type:"A",values:[n,n,0,0,1,e-n,i]},{type:"A",values:[n,n,0,0,1,e,i-n]},{type:"A",values:[n,n,0,0,1,e+n,i]},{type:"Z",values:[]}];return t&&!0===t.normalize?o(i):i},t.SVGEllipseElement.prototype.getPathData=function(t){var e=this.cx.baseVal.value,n=this.rx.baseVal.value,i=this.ry.baseVal.value,r=[{type:"M",values:[e+n,r=this.cy.baseVal.value]},{type:"A",values:[n,i,0,0,1,e,r+i]},{type:"A",values:[n,i,0,0,1,e-n,r]},{type:"A",values:[n,i,0,0,1,e,r-i]},{type:"A",values:[n,i,0,0,1,e+n,r]},{type:"Z",values:[]}];return t&&!0===t.normalize?o(r):r},t.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},t.SVGPolylineElement.prototype.getPathData=function(){for(var t=[],e=0;e<this.points.numberOfItems;e+=1){var n=this.points.getItem(e);t.push({type:0===e?"M":"L",values:[n.x,n.y]})}return t},t.SVGPolygonElement.prototype.getPathData=function(){for(var t=[],e=0;e<this.points.numberOfItems;e+=1){var n=this.points.getItem(e);t.push({type:0===e?"M":"L",values:[n.x,n.y]})}return t.push({type:"Z",values:[]}),t}}()}(t))}function Rt(t){var e,n,i,r,s,o,a,l,c,h,u,d,p,f,m=t.options,g=t.curStats,v=t.aplStats,y=g.position_socketXYSE,b=!1;function _(t,e){return(t=1===e?{x:t.left+t.width/2,y:t.top}:2===e?{x:t.right,y:t.top+t.height/2}:3===e?{x:t.left+t.width/2,y:t.bottom}:{x:t.left,y:t.top+t.height/2}).socketId=e,t}function w(t){return{x:t.x,y:t.y}}if(g.position_path=m.path,g.position_lineStrokeWidth=g.line_strokeWidth,g.position_socketGravitySE=e=ot(m.socketGravitySE),n=[0,1].map((function(e){var n=m.anchorSE[e],i=t.optionIsAttach.anchorSE[e],r=!1!==i?tt[n._id]:null,s=!1!==i&&r.conf.getStrokeWidth?r.conf.getStrokeWidth(r,t):0,o=!1!==i&&r.conf.getBBoxNest?r.conf.getBBoxNest(r,t,s):ut(n,t.baseWindow);return g.capsMaskAnchor_pathDataSE[e]=!1!==i&&r.conf.getPathData?r.conf.getPathData(r,t,s):(i=null!=(n=o).right?n.right:n.left+n.width,[{type:"M",values:[n.left,n.top]},{type:"L",values:[i,n.top]},{type:"L",values:[i,r=null!=n.bottom?n.bottom:n.top+n.height]},{type:"L",values:[n.left,r]},{type:"Z",values:[]}]),g.capsMaskAnchor_strokeWidthSE[e]=s,o})),a=-1,m.socketSE[0]&&m.socketSE[1]?(y[0]=_(n[0],m.socketSE[0]),y[1]=_(n[1],m.socketSE[1])):(m.socketSE[0]||m.socketSE[1]?(o=m.socketSE[0]?(s=0,1):(s=1,0),y[s]=_(n[s],m.socketSE[s]),(r=D.map((function(t){return _(n[o],t)}))).forEach((function(t){var e=dt(t,y[s]);(e<a||-1===a)&&(y[o]=t,a=e)}))):(r=D.map((function(t){return _(n[1],t)})),D.map((function(t){return _(n[0],t)})).forEach((function(t){r.forEach((function(e){var n=dt(t,e);(n<a||-1===a)&&(y[0]=t,y[1]=e,a=n)}))}))),[0,1].forEach((function(t){var e,i;m.socketSE[t]||(n[t].width||n[t].height?n[t].width||4!==y[t].socketId&&2!==y[t].socketId?n[t].height||1!==y[t].socketId&&3!==y[t].socketId||(y[t].socketId=0<=y[t?0:1].y-n[t].top?3:1):y[t].socketId=0<=y[t?0:1].x-n[t].left?2:4:(e=y[t?0:1].x-n[t].left,i=y[t?0:1].y-n[t].top,y[t].socketId=Math.abs(e)>=Math.abs(i)?0<=e?2:4:0<=i?3:1))}))),g.position_path!==v.position_path||g.position_lineStrokeWidth!==v.position_lineStrokeWidth||[0,1].some((function(t){return g.position_plugOverheadSE[t]!==v.position_plugOverheadSE[t]||(n=y[t]).x!==(i=v.position_socketXYSE[t]).x||n.y!==i.y||n.socketId!==i.socketId||(i=v.position_socketGravitySE[t],(t=null==(n=e[t])?"auto":Array.isArray(n)?"array":"number")!=(null==i?"auto":Array.isArray(i)?"array":"number")||("array"==t?n[0]!==i[0]||n[1]!==i[1]:n!==i));var n,i}))){switch(t.pathList.baseVal=i=[],t.pathList.animVal=null,g.position_path){case 1:i.push([w(y[0]),w(y[1])]);break;case 2:d=(p=L*((d="number"==typeof e[0]&&0<e[0]||"number"==typeof e[1]&&0<e[1])?-1:1))-(f=Math.atan2(y[1].y-y[0].y,y[1].x-y[0].x)),f=Math.PI-f-p,p=dt(y[0],y[1])/Math.sqrt(2)*M,d={x:y[0].x+Math.cos(d)*p,y:y[0].y+Math.sin(d)*p*-1},p={x:y[1].x+Math.cos(f)*p,y:y[1].y+Math.sin(f)*p*-1},i.push([w(y[0]),d,p,w(y[1])]);break;case 3:case 4:c=[e[0],4===g.position_path?0:e[1]],h=[],u=[],y.forEach((function(t,e){var n,i=c[e],r=Array.isArray(i)?{x:i[0],y:i[1]}:"number"==typeof i?1===t.socketId?{x:0,y:-i}:2===t.socketId?{x:i,y:0}:3===t.socketId?{x:0,y:i}:{x:-i,y:0}:(n=y[e?0:1],i=0<(i=g.position_plugOverheadSE[e])?120+(8<i?3.75*(i-8):0):80+(g.position_lineStrokeWidth>4?5*(g.position_lineStrokeWidth-4):0),1===t.socketId?{x:0,y:-(r=(r=(t.y-n.y)/2)<i?i:r)}:2===t.socketId?{x:r=(r=(n.x-t.x)/2)<i?i:r,y:0}:3===t.socketId?{x:0,y:r=(r=(n.y-t.y)/2)<i?i:r}:{x:-(r=(r=(t.x-n.x)/2)<i?i:r),y:0});h[e]=t.x+r.x,u[e]=t.y+r.y})),i.push([w(y[0]),{x:h[0],y:u[0]},{x:h[1],y:u[1]},w(y[1])]);break;case 5:!function(){var t,n=[[],[]],r=[];function s(t){return 1===t?3:2===t?4:3===t?1:2}function o(t){return 2===t||4===t?"x":"y"}function a(t,e,n){var i={x:t.x,y:t.y};if(n){if(n===s(t.dirId))throw new Error("Invalid dirId: "+n);i.dirId=n}else i.dirId=t.dirId;return 1===i.dirId?i.y-=e:2===i.dirId?i.x+=e:3===i.dirId?i.y+=e:i.x-=e,i}function l(t,e){return 1===e.dirId?t.y<=e.y:2===e.dirId?t.x>=e.x:3===e.dirId?t.y>=e.y:t.x<=e.x}function c(t,e){return 1===e.dirId||3===e.dirId?t.x===e.x:t.y===e.y}function h(t){return t[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function u(t,e,n){return Math.abs(e[n]-t[n])}function d(t,e,n){return"x"===n?t.x<e.x?2:4:t.y<e.y?3:1}for(y.forEach((function(t,i){var o=w(t),l=e[i];t=Array.isArray(l)?l[0]<0?[4,-l[0]]:0<l[0]?[2,l[0]]:l[1]<0?[1,-l[1]]:0<l[1]?[3,l[1]]:[t.socketId,0]:"number"!=typeof l?[t.socketId,30]:0<=l?[t.socketId,l]:[s(t.socketId),-l],o.dirId=t[0],l=t[1],n[i].push(o),r[i]=a(o,l)}));function(){var t,e,i,s,p=[l(r[1],r[0]),l(r[0],r[1])],f=[o(r[0].dirId),o(r[1].dirId)];if(f[0]===f[1]){if(p[0]&&p[1])return void(c(r[1],r[0])||(r[0][f[0]]===r[1][f[1]]?(n[0].push(r[0]),n[1].push(r[1])):(t=r[0][f[0]]+(r[1][f[1]]-r[0][f[0]])/2,n[0].push(a(r[0],Math.abs(t-r[0][f[0]]))),n[1].push(a(r[1],Math.abs(t-r[1][f[1]]))))));p[0]!==p[1]?(e=h(p),(i=u(r[e.notContain],r[e.contain],f[e.notContain]))<30&&(r[e.notContain]=a(r[e.notContain],30-i)),n[e.notContain].push(r[e.notContain]),r[e.notContain]=a(r[e.notContain],30,c(r[e.contain],r[e.notContain])?"x"===f[e.notContain]?3:2:d(r[e.notContain],r[e.contain],"x"===f[e.notContain]?"y":"x"))):(i=u(r[0],r[1],"x"===f[0]?"y":"x"),n.forEach((function(t,e){var n=0===e?1:0;t.push(r[e]),r[e]=a(r[e],30,60<=i?d(r[e],r[n],"x"===f[e]?"y":"x"):"x"===f[e]?3:2)})))}else{if(p[0]&&p[1])return void(c(r[1],r[0])?n[1].push(r[1]):c(r[0],r[1])?n[0].push(r[0]):n[0].push("x"===f[0]?{x:r[1].x,y:r[0].y}:{x:r[0].x,y:r[1].y}));p[0]!==p[1]?(e=h(p),n[e.notContain].push(r[e.notContain]),r[e.notContain]=a(r[e.notContain],30,u(r[e.notContain],r[e.contain],f[e.contain])>=30?d(r[e.notContain],r[e.contain],f[e.contain]):r[e.contain].dirId)):(s=[{x:r[0].x,y:r[0].y},{x:r[1].x,y:r[1].y}],n.forEach((function(t,e){var n=0===e?1:0,i=u(s[e],s[n],f[e]);i<30&&(r[e]=a(r[e],30-i)),t.push(r[e]),r[e]=a(r[e],30,d(r[e],r[n],f[n]))})))}return 1}(););n[1].reverse(),n[0].concat(n[1]).forEach((function(e,n){e={x:e.x,y:e.y},0<n&&i.push([t,e]),t=e}))}()}l=[],g.position_plugOverheadSE.forEach((function(t,e){var r,s,o,a,c,h,u,d,p,f=!e;0<t?2===(r=i[s=f?0:i.length-1]).length?(l[s]=l[s]||dt.apply(null,r),l[s]>P&&(l[s]-t<P&&(t=l[s]-P),u=pt(r[0],r[1],(f?t:l[s]-t)/l[s]),i[s]=f?[u,r[1]]:[r[0],u],l[s]-=t)):(l[s]=l[s]||gt.apply(null,r),l[s]>P&&(l[s]-t<P&&(t=l[s]-P),u=mt(r[0],r[1],r[2],r[3],vt(r[0],r[1],r[2],r[3],f?t:l[s]-t)),a=f?(o=r[0],u.toP1):(o=r[3],u.fromP2),c=Math.atan2(o.y-u.y,u.x-o.x),h=dt(u,a),u.x=o.x+Math.cos(c)*t,u.y=o.y+Math.sin(c)*t*-1,a.x=u.x+Math.cos(c)*h,a.y=u.y+Math.sin(c)*h*-1,i[s]=f?[u,u.toP1,u.toP2,r[3]]:[r[0],u.fromP1,u.fromP2,u],l[s]=null)):t<0&&(r=i[s=f?0:i.length-1],e=-n[e]["x"==(d=4===(u=y[e].socketId)||2===u?"x":"y")?"width":"height"],p=(t=t<e?e:t)*(4===u||1===u?-1:1),2===r.length?r[f?0:r.length-1][d]+=p:(f?[0,1]:[r.length-2,r.length-1]).forEach((function(t){r[t][d]+=p})),l[s]=null)})),v.position_socketXYSE=ot(y),v.position_plugOverheadSE=ot(g.position_plugOverheadSE),v.position_path=g.position_path,v.position_lineStrokeWidth=g.position_lineStrokeWidth,v.position_socketGravitySE=ot(e),b=!0,t.events.apl_position&&t.events.apl_position.forEach((function(e){e(t,i)}))}return b}function Pt(t,e){e!==t.isShown&&(!!e!=!!t.isShown&&(t.svg.style.visibility=e?"":"hidden"),t.isShown=e,t.events&&t.events.svgShow&&t.events.svgShow.forEach((function(n){n(t,e)})))}function Mt(e,n){var i,r,s,o,a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x,C,S,k,T,D,A,P,M,L,N,F,$,q,W,G,Y,X,K,Z,Q,J,tt,et,nt={};n.line&&(nt.line=(h=(i=e).options,d=!1,d=Ot(i,r=i.curStats,"line_color",h.lineColor,(u=i.events).cur_line_color)||d,d=Ot(i,r,"line_colorTra",at(r.line_color)[0]<1)||d,d=Ot(i,r,"line_strokeWidth",h.lineSize,u.cur_line_strokeWidth)||d)),(n.plug||nt.line)&&(nt.plug=(o=(s=e).options,a=s.curStats,l=s.events,c=!1,[0,1].forEach((function(t){var e,n,i,r,h,u,d,p,f=o.plugSE[t];c=Ot(s,a.plug_enabledSE,t,f!==E)||c,c=Ot(s,a.plug_plugSE,t,f)||c,c=Ot(s,a.plug_colorSE,t,p=o.plugColorSE[t]||a.line_color,l.cur_plug_colorSE)||c,c=Ot(s,a.plug_colorTraSE,t,at(p)[0]<1)||c,f!==E&&(r=n=(e=I[O[f]]).widthR*o.plugSizeSE[t],h=i=e.heightR*o.plugSizeSE[t],j&&(r*=a.line_strokeWidth,h*=a.line_strokeWidth),c=Ot(s,a.plug_markerWidthSE,t,r)||c,c=Ot(s,a.plug_markerHeightSE,t,h)||c,a.capsMaskMarker_markerWidthSE[t]=n,a.capsMaskMarker_markerHeightSE[t]=i),a.plugOutline_plugSE[t]=a.capsMaskMarker_plugSE[t]=f,a.plug_enabledSE[t]?(a.position_plugOverheadSE[t]=e.overhead*(p=a.line_strokeWidth/U.lineSize*o.plugSizeSE[t]),a.viewBox_plugBCircleSE[t]=e.bCircle*p,u=e.sideLen*p,d=e.backLen*p):(a.position_plugOverheadSE[t]=-a.line_strokeWidth/2,a.viewBox_plugBCircleSE[t]=u=d=0),Ot(s,a.attach_plugSideLenSE,t,u,l.cur_attach_plugSideLenSE),Ot(s,a.attach_plugBackLenSE,t,d,l.cur_attach_plugBackLenSE),a.capsMaskAnchor_enabledSE[t]=!a.plug_enabledSE[t]})),c=Ot(s,a,"plug_enabled",a.plug_enabledSE[0]||a.plug_enabledSE[1])||c)),(n.lineOutline||nt.line)&&(nt.lineOutline=(u=(h=e).options,k=!1,k=Ot(h,d=h.curStats,"lineOutline_enabled",u.lineOutlineEnabled)||k,k=Ot(h,d,"lineOutline_color",u.lineOutlineColor)||k,k=Ot(h,d,"lineOutline_colorTra",at(d.lineOutline_color)[0]<1)||k,k=Ot(h,d,"lineOutline_strokeWidth",d.line_strokeWidth-2*(u=d.line_strokeWidth*u.lineOutlineSize))||k,k=Ot(h,d,"lineOutline_inStrokeWidth",d.lineOutline_colorTra?d.lineOutline_strokeWidth+2*H:d.line_strokeWidth-u)||k)),(n.plugOutline||nt.line||nt.plug||nt.lineOutline)&&(nt.plugOutline=(f=(p=e).options,m=p.curStats,g=!1,[0,1].forEach((function(t){var e=m.plugOutline_plugSE[t],n=e!==E?I[O[e]]:null;g=Ot(p,m.plugOutline_enabledSE,t,f.plugOutlineEnabledSE[t]&&m.plug_enabled&&m.plug_enabledSE[t]&&!!n&&!!n.outlineBase)||g,g=Ot(p,m.plugOutline_colorSE,t,e=f.plugOutlineColorSE[t]||m.lineOutline_color)||g,g=Ot(p,m.plugOutline_colorTraSE,t,at(e)[0]<1)||g,n&&n.outlineBase&&((e=f.plugOutlineSizeSE[t])>n.outlineMax&&(e=n.outlineMax),g=Ot(p,m.plugOutline_strokeWidthSE,t,e*=2*n.outlineBase)||g,g=Ot(p,m.plugOutline_inStrokeWidthSE,t,m.plugOutline_colorTraSE[t]?e-H/(m.line_strokeWidth/U.lineSize)/f.plugSizeSE[t]*2:e/2)||g)})),g)),(n.faces||nt.line||nt.plug||nt.lineOutline||nt.plugOutline)&&(nt.faces=(b=(v=e).curStats,_=v.aplStats,w=v.events,x=!1,!b.line_altColor&&Ot(v,_,"line_color",y=b.line_color,w.apl_line_color)&&(v.lineFace.style.stroke=y,x=!0),Ot(v,_,"line_strokeWidth",y=b.line_strokeWidth,w.apl_line_strokeWidth)&&(v.lineShape.style.strokeWidth=y+"px",x=!0,(V||B)&&(St(v,v.lineShape),B&&(St(v,v.lineFace),St(v,v.lineMaskCaps)))),Ot(v,_,"lineOutline_enabled",y=b.lineOutline_enabled,w.apl_lineOutline_enabled)&&(v.lineOutlineFace.style.display=y?"inline":"none",x=!0),b.lineOutline_enabled&&(Ot(v,_,"lineOutline_color",y=b.lineOutline_color,w.apl_lineOutline_color)&&(v.lineOutlineFace.style.stroke=y,x=!0),Ot(v,_,"lineOutline_strokeWidth",y=b.lineOutline_strokeWidth,w.apl_lineOutline_strokeWidth)&&(v.lineOutlineMaskShape.style.strokeWidth=y+"px",x=!0,B&&(St(v,v.lineOutlineMaskCaps),St(v,v.lineOutlineFace))),Ot(v,_,"lineOutline_inStrokeWidth",y=b.lineOutline_inStrokeWidth,w.apl_lineOutline_inStrokeWidth)&&(v.lineMaskShape.style.strokeWidth=y+"px",x=!0,B&&(St(v,v.lineOutlineMaskCaps),St(v,v.lineOutlineFace)))),Ot(v,_,"plug_enabled",y=b.plug_enabled,w.apl_plug_enabled)&&(v.plugsFace.style.display=y?"inline":"none",x=!0),b.plug_enabled&&[0,1].forEach((function(t){var e=b.plug_plugSE[t],n=e!==E?I[O[e]]:null,i=It(t,n);Ot(v,_.plug_enabledSE,t,y=b.plug_enabledSE[t],w.apl_plug_enabledSE)&&(v.plugsFace.style[i.prop]=y?"url(#"+v.plugMarkerIdSE[t]+")":"none",x=!0),b.plug_enabledSE[t]&&(Ot(v,_.plug_plugSE,t,e,w.apl_plug_plugSE)&&(v.plugFaceSE[t].href.baseVal="#"+n.elmId,Et(v,v.plugMarkerSE[t],i.orient,n.bBox,v.svg,v.plugMarkerShapeSE[t],v.plugsFace),x=!0,V&&St(v,v.plugsFace)),Ot(v,_.plug_colorSE,t,y=b.plug_colorSE[t],w.apl_plug_colorSE)&&(v.plugFaceSE[t].style.fill=y,x=!0,(z||j||B)&&!b.line_colorTra&&St(v,B?v.lineMaskCaps:v.capsMaskLine)),["markerWidth","markerHeight"].forEach((function(e){var n="plug_"+e+"SE";Ot(v,_[n],t,y=b[n][t],w["apl_"+n])&&(v.plugMarkerSE[t][e].baseVal.value=y,x=!0)})),Ot(v,_.plugOutline_enabledSE,t,y=b.plugOutline_enabledSE[t],w.apl_plugOutline_enabledSE)&&(y?(v.plugFaceSE[t].style.mask="url(#"+v.plugMaskIdSE[t]+")",v.plugOutlineFaceSE[t].style.display="inline"):(v.plugFaceSE[t].style.mask="none",v.plugOutlineFaceSE[t].style.display="none"),x=!0),b.plugOutline_enabledSE[t]&&(Ot(v,_.plugOutline_plugSE,t,e,w.apl_plugOutline_plugSE)&&(v.plugOutlineFaceSE[t].href.baseVal=v.plugMaskShapeSE[t].href.baseVal=v.plugOutlineMaskShapeSE[t].href.baseVal="#"+n.elmId,[v.plugMaskSE[t],v.plugOutlineMaskSE[t]].forEach((function(t){t.x.baseVal.value=n.bBox.left,t.y.baseVal.value=n.bBox.top,t.width.baseVal.value=n.bBox.width,t.height.baseVal.value=n.bBox.height})),x=!0),Ot(v,_.plugOutline_colorSE,t,y=b.plugOutline_colorSE[t],w.apl_plugOutline_colorSE)&&(v.plugOutlineFaceSE[t].style.fill=y,x=!0,B&&(St(v,v.lineMaskCaps),St(v,v.lineOutlineMaskCaps))),Ot(v,_.plugOutline_strokeWidthSE,t,y=b.plugOutline_strokeWidthSE[t],w.apl_plugOutline_strokeWidthSE)&&(v.plugOutlineMaskShapeSE[t].style.strokeWidth=y+"px",x=!0),Ot(v,_.plugOutline_inStrokeWidthSE,t,y=b.plugOutline_inStrokeWidthSE[t],w.apl_plugOutline_inStrokeWidthSE)&&(v.plugMaskShapeSE[t].style.strokeWidth=y+"px",x=!0)))})),x)),(n.position||nt.line||nt.plug)&&(nt.position=Rt(e)),(n.path||nt.position)&&(nt.path=(k=(C=e).curStats,P=C.aplStats,T=k.path_edge,M=!1,(A=C.pathList.animVal||C.pathList.baseVal)&&(T.x1=T.x2=A[0][0].x,T.y1=T.y2=A[0][0].y,k.path_pathData=S=yt(A,(function(t){t.x<T.x1&&(T.x1=t.x),t.y<T.y1&&(T.y1=t.y),t.x>T.x2&&(T.x2=t.x),t.y>T.y2&&(T.y2=t.y)})),_t(S,P.path_pathData)&&(C.linePath.setPathData(S),P.path_pathData=S,M=!0,B?(St(C,C.plugsFace),St(C,C.lineMaskCaps)):V&&St(C,C.linePath),C.events.apl_path&&C.events.apl_path.forEach((function(t){t(C,S)})))),M)),nt.viewBox=(M=(A=(D=e).curStats).path_edge,L=A.viewBox_bBox,N=(P=D.aplStats).viewBox_bBox,F=D.svg.viewBox.baseVal,$=D.svg.style,q=!1,P=Math.max(A.line_strokeWidth/2,A.viewBox_plugBCircleSE[0]||0,A.viewBox_plugBCircleSE[1]||0),W={x1:M.x1-P,y1:M.y1-P,x2:M.x2+P,y2:M.y2+P},D.events.new_edge4viewBox&&D.events.new_edge4viewBox.forEach((function(t){t(D,W)})),L.x=A.lineMask_x=A.lineOutlineMask_x=A.maskBGRect_x=W.x1,L.y=A.lineMask_y=A.lineOutlineMask_y=A.maskBGRect_y=W.y1,L.width=W.x2-W.x1,L.height=W.y2-W.y1,["x","y","width","height"].forEach((function(t){var e;(e=L[t])!==N[t]&&(F[t]=N[t]=e,$[R[t]]=e+("x"===t||"y"===t?D.bodyOffset[t]:0)+"px",q=!0)})),q),nt.mask=(X=(G=e).curStats,K=G.aplStats,Z=!1,X.plug_enabled?[0,1].forEach((function(t){X.capsMaskMarker_enabledSE[t]=X.plug_enabledSE[t]&&X.plug_colorTraSE[t]||X.plugOutline_enabledSE[t]&&X.plugOutline_colorTraSE[t]})):X.capsMaskMarker_enabledSE[0]=X.capsMaskMarker_enabledSE[1]=!1,X.capsMaskMarker_enabled=X.capsMaskMarker_enabledSE[0]||X.capsMaskMarker_enabledSE[1],X.lineMask_outlineMode=X.lineOutline_enabled,X.caps_enabled=X.capsMaskMarker_enabled||X.capsMaskAnchor_enabledSE[0]||X.capsMaskAnchor_enabledSE[1],X.lineMask_enabled=X.caps_enabled||X.lineMask_outlineMode,(X.lineMask_enabled&&!X.lineMask_outlineMode||X.lineOutline_enabled)&&["x","y"].forEach((function(t){var e="maskBGRect_"+t;Ot(G,K,e,Y=X[e])&&(G.maskBGRect[t].baseVal.value=Y,Z=!0)})),Ot(G,K,"lineMask_enabled",Y=X.lineMask_enabled)&&(G.lineFace.style.mask=Y?"url(#"+G.lineMaskId+")":"none",Z=!0,j&&St(G,G.lineMask)),X.lineMask_enabled&&(Ot(G,K,"lineMask_outlineMode",Y=X.lineMask_outlineMode)&&(Y?(G.lineMaskBG.style.display="none",G.lineMaskShape.style.display="inline"):(G.lineMaskBG.style.display="inline",G.lineMaskShape.style.display="none"),Z=!0),["x","y"].forEach((function(t){var e="lineMask_"+t;Ot(G,K,e,Y=X[e])&&(G.lineMask[t].baseVal.value=Y,Z=!0)})),Ot(G,K,"caps_enabled",Y=X.caps_enabled)&&(G.lineMaskCaps.style.display=G.lineOutlineMaskCaps.style.display=Y?"inline":"none",Z=!0,j&&St(G,G.capsMaskLine)),X.caps_enabled&&([0,1].forEach((function(t){var e;Ot(G,K.capsMaskAnchor_enabledSE,t,Y=X.capsMaskAnchor_enabledSE[t])&&(G.capsMaskAnchorSE[t].style.display=Y?"inline":"none",Z=!0,j&&St(G,G.lineMask)),X.capsMaskAnchor_enabledSE[t]&&(_t(e=X.capsMaskAnchor_pathDataSE[t],K.capsMaskAnchor_pathDataSE[t])&&(G.capsMaskAnchorSE[t].setPathData(e),K.capsMaskAnchor_pathDataSE[t]=e,Z=!0),Ot(G,K.capsMaskAnchor_strokeWidthSE,t,Y=X.capsMaskAnchor_strokeWidthSE[t])&&(G.capsMaskAnchorSE[t].style.strokeWidth=Y+"px",Z=!0))})),Ot(G,K,"capsMaskMarker_enabled",Y=X.capsMaskMarker_enabled)&&(G.capsMaskLine.style.display=Y?"inline":"none",Z=!0),X.capsMaskMarker_enabled&&[0,1].forEach((function(t){var e=X.capsMaskMarker_plugSE[t],n=e!==E?I[O[e]]:null,i=It(t,n);Ot(G,K.capsMaskMarker_enabledSE,t,Y=X.capsMaskMarker_enabledSE[t])&&(G.capsMaskLine.style[i.prop]=Y?"url(#"+G.lineMaskMarkerIdSE[t]+")":"none",Z=!0),X.capsMaskMarker_enabledSE[t]&&(Ot(G,K.capsMaskMarker_plugSE,t,e)&&(G.capsMaskMarkerShapeSE[t].href.baseVal="#"+n.elmId,Et(G,G.capsMaskMarkerSE[t],i.orient,n.bBox,G.svg,G.capsMaskMarkerShapeSE[t],G.capsMaskLine),Z=!0,V&&(St(G,G.capsMaskLine),St(G,G.lineFace))),["markerWidth","markerHeight"].forEach((function(e){var n="capsMaskMarker_"+e+"SE";Ot(G,K[n],t,Y=X[n][t])&&(G.capsMaskMarkerSE[t][e].baseVal.value=Y,Z=!0)})))})))),X.lineOutline_enabled&&["x","y"].forEach((function(t){var e="lineOutlineMask_"+t;Ot(G,K,e,Y=X[e])&&(G.lineOutlineMask[t].baseVal.value=Y,Z=!0)})),Z),n.effect&&(tt=(Q=e).curStats,et=Q.aplStats,Object.keys(t).forEach((function(e){var n=t[e],i=e+"_enabled",r=e+"_options";e=tt[r],Ot(Q,et,i,J=tt[i])?(J&&(et[r]=ot(e)),n[J?"init":"remove"](Q)):J&&st(e,et[r])&&(n.remove(Q),et[i]=!0,et[r]=ot(e),n.init(Q))}))),(z||j)&&nt.line&&!nt.path&&St(e,e.lineShape),z&&nt.plug&&!nt.line&&St(e,e.plugsFace),kt(e)}function Lt(t,e){return{duration:(q(t.duration)&&0<t.duration?t:e).duration,timing:W.validTiming(t.timing)?t.timing:ot(e.timing)}}function Nt(t,n,i,r){var s=t.curStats,o=t.aplStats,a={};function l(){["show_on","show_effect","show_animOptions"].forEach((function(t){o[t]=s[t]}))}s.show_on=n,i&&e[i]&&(s.show_effect=i,s.show_animOptions=Lt($(r)?r:{},e[i].defaultAnimOptions)),a.show_on=s.show_on!==o.show_on,a.show_effect=s.show_effect!==o.show_effect,a.show_animOptions=st(s.show_animOptions,o.show_animOptions),a.show_effect||a.show_animOptions?s.show_inAnim?(i=a.show_effect?e[o.show_effect].stop(t,!0,!0):e[o.show_effect].stop(t),l(),e[o.show_effect].init(t,i)):a.show_on&&(o.show_effect&&a.show_effect&&e[o.show_effect].stop(t,!0,!0),l(),e[o.show_effect].init(t)):a.show_on&&(l(),e[o.show_effect].start(t))}function Ft(t,e,n){return n={props:t,optionName:n},t.attachments.indexOf(e)<0&&(!e.conf.bind||e.conf.bind(e,n))&&(t.attachments.push(e),e.boundTargets.push(n),1)}function Bt(t,e,n){var i=t.attachments.indexOf(e);-1<i&&t.attachments.splice(i,1),e.boundTargets.some((function(n,r){return n.props===t&&(e.conf.unbind&&e.conf.unbind(e,n),i=r,!0)}))&&(e.boundTargets.splice(i,1),n||Ct((function(){e.boundTargets.length||s(e)})))}function Vt(s,o){var a,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x=s.options,E={};function I(t,e,n,i,r){var s={};return n?null!=i?(s.container=t[n],s.key=i):(s.container=t,s.key=n):(s.container=t,s.key=e),s.default=r,s.acceptsAuto=null==s.default,s}function O(t,e,n,i,r,s,o){var a,l,c;return o=I(t,n,r,s,o),null!=e[n]&&(l=(e[n]+"").toLowerCase())&&(o.acceptsAuto&&l===A||(c=i[l]))&&c!==o.container[o.key]&&(o.container[o.key]=c,a=!0),null!=o.container[o.key]||o.acceptsAuto||(o.container[o.key]=o.default,a=!0),a}function D(t,e,n,i,r,s,o,a,l){var c,h,u,d;if(o=I(t,n,r,s,o),!i){if(null==o.default)throw new Error("Invalid `type`: "+n);i=typeof o.default}return null!=e[n]&&(o.acceptsAuto&&(e[n]+"").toLowerCase()===A||(u=h=e[n],("number"===(d=i)?q(u):typeof u===d)&&(h=l&&"string"===i&&h?h.trim():h,1)&&(!a||a(h))))&&h!==o.container[o.key]&&(o.container[o.key]=h,c=!0),null!=o.container[o.key]||o.acceptsAuto||(o.container[o.key]=o.default,c=!0),c}if(o=o||{},["start","end"].forEach((function(t,e){var n=o[t],i=!1;if(n&&(lt(n)||(i=r(n,"anchor")))&&n!==x.anchorSE[e]){if(!1!==s.optionIsAttach.anchorSE[e]&&Bt(s,tt[x.anchorSE[e]._id]),i&&!Ft(s,tt[n._id],t))throw new Error("Can't bind attachment");x.anchorSE[e]=n,s.optionIsAttach.anchorSE[e]=i,a=E.position=!0}})),!x.anchorSE[0]||!x.anchorSE[1]||x.anchorSE[0]===x.anchorSE[1])throw new Error("`start` and `end` are required.");function R(t){var e=u.appendChild(_.createElementNS(F,"mask"));return e.id=t,e.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[e.x,e.y,e.width,e.height].forEach((function(t){t.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)})),e}function P(t){var e=u.appendChild(_.createElementNS(F,"marker"));return e.id=t,e.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,e.viewBox.baseVal||e.setAttribute("viewBox","0 0 0 0"),e}function M(t){return[t.width,t.height].forEach((function(t){t.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)})),t}a&&(v=function(t,e){var n,i;if(!(t=ht(t))||!(n=ht(e)))throw new Error("Cannot get frames.");return t.length&&n.length&&(t.reverse(),n.reverse(),t.some((function(t){return n.some((function(e){return e===t&&(i=e.contentWindow,!0)}))}))),i||window}(!1!==s.optionIsAttach.anchorSE[0]?tt[x.anchorSE[0]._id].element:x.anchorSE[0],!1!==s.optionIsAttach.anchorSE[1]?tt[x.anchorSE[1]._id].element:x.anchorSE[1]))!==s.baseWindow&&(b=(l=s).aplStats,_=(c=v).document,w=C+"-"+l._id,l.pathList={},Tt(b,Y),Object.keys(t).forEach((function(e){var n=e+"_enabled";b[n]&&(t[e].remove(l),b[n]=!1)})),l.baseWindow&&l.svg&&l.baseWindow.document.body.removeChild(l.svg),At(l.baseWindow=c),l.bodyOffset=Dt(c),l.svg=h=_.createElementNS(F,"svg"),h.className.baseVal=C,h.viewBox.baseVal||h.setAttribute("viewBox","0 0 0 0"),l.defs=u=h.appendChild(_.createElementNS(F,"defs")),l.linePath=p=u.appendChild(_.createElementNS(F,"path")),p.id=f=w+"-line-path",p.className.baseVal=C+"-line-path",j&&(p.style.fill="none"),l.lineShape=p=u.appendChild(_.createElementNS(F,"use")),p.id=m=w+"-line-shape",p.href.baseVal="#"+f,(d=u.appendChild(_.createElementNS(F,"g"))).id=g=w+"-caps",l.capsMaskAnchorSE=[0,1].map((function(){var t=d.appendChild(_.createElementNS(F,"path"));return t.className.baseVal=C+"-caps-mask-anchor",t})),l.lineMaskMarkerIdSE=[w+"-caps-mask-marker-0",w+"-caps-mask-marker-1"],l.capsMaskMarkerSE=[0,1].map((function(t){return P(l.lineMaskMarkerIdSE[t])})),l.capsMaskMarkerShapeSE=[0,1].map((function(t){return(t=l.capsMaskMarkerSE[t].appendChild(_.createElementNS(F,"use"))).className.baseVal=C+"-caps-mask-marker-shape",t})),l.capsMaskLine=p=d.appendChild(_.createElementNS(F,"use")),p.className.baseVal=C+"-caps-mask-line",p.href.baseVal="#"+m,l.maskBGRect=p=M(u.appendChild(_.createElementNS(F,"rect"))),p.id=v=w+"-mask-bg-rect",p.className.baseVal=C+"-mask-bg-rect",j&&(p.style.fill="white"),l.lineMask=M(R(l.lineMaskId=w+"-line-mask")),l.lineMaskBG=p=l.lineMask.appendChild(_.createElementNS(F,"use")),p.href.baseVal="#"+v,l.lineMaskShape=p=l.lineMask.appendChild(_.createElementNS(F,"use")),p.className.baseVal=C+"-line-mask-shape",p.href.baseVal="#"+f,p.style.display="none",l.lineMaskCaps=p=l.lineMask.appendChild(_.createElementNS(F,"use")),p.href.baseVal="#"+g,l.lineOutlineMask=M(R(c=w+"-line-outline-mask")),(p=l.lineOutlineMask.appendChild(_.createElementNS(F,"use"))).href.baseVal="#"+v,l.lineOutlineMaskShape=p=l.lineOutlineMask.appendChild(_.createElementNS(F,"use")),p.className.baseVal=C+"-line-outline-mask-shape",p.href.baseVal="#"+f,l.lineOutlineMaskCaps=p=l.lineOutlineMask.appendChild(_.createElementNS(F,"use")),p.href.baseVal="#"+g,l.face=h.appendChild(_.createElementNS(F,"g")),l.lineFace=p=l.face.appendChild(_.createElementNS(F,"use")),p.href.baseVal="#"+m,l.lineOutlineFace=p=l.face.appendChild(_.createElementNS(F,"use")),p.href.baseVal="#"+m,p.style.mask="url(#"+c+")",p.style.display="none",l.plugMaskIdSE=[w+"-plug-mask-0",w+"-plug-mask-1"],l.plugMaskSE=[0,1].map((function(t){return R(l.plugMaskIdSE[t])})),l.plugMaskShapeSE=[0,1].map((function(t){return(t=l.plugMaskSE[t].appendChild(_.createElementNS(F,"use"))).className.baseVal=C+"-plug-mask-shape",t})),y=[],l.plugOutlineMaskSE=[0,1].map((function(t){return R(y[t]=w+"-plug-outline-mask-"+t)})),l.plugOutlineMaskShapeSE=[0,1].map((function(t){return(t=l.plugOutlineMaskSE[t].appendChild(_.createElementNS(F,"use"))).className.baseVal=C+"-plug-outline-mask-shape",t})),l.plugMarkerIdSE=[w+"-plug-marker-0",w+"-plug-marker-1"],l.plugMarkerSE=[0,1].map((function(t){return t=P(l.plugMarkerIdSE[t]),j&&(t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),t})),l.plugMarkerShapeSE=[0,1].map((function(t){return l.plugMarkerSE[t].appendChild(_.createElementNS(F,"g"))})),l.plugFaceSE=[0,1].map((function(t){return l.plugMarkerShapeSE[t].appendChild(_.createElementNS(F,"use"))})),l.plugOutlineFaceSE=[0,1].map((function(t){var e=l.plugMarkerShapeSE[t].appendChild(_.createElementNS(F,"use"));return e.style.mask="url(#"+y[t]+")",e.style.display="none",e})),l.plugsFace=p=l.face.appendChild(_.createElementNS(F,"use")),p.className.baseVal=C+"-plugs-face",p.href.baseVal="#"+m,p.style.display="none",l.curStats.show_inAnim?(l.isShown=1,e[b.show_effect].stop(l,!0)):l.isShown||(h.style.visibility="hidden"),_.body.appendChild(h),[0,1,2].forEach((function(t){var e;(t=l.options.labelSEM[t])&&r(t,"label")&&(e=tt[t._id]).conf.initSvg&&e.conf.initSvg(e,l)})),E.line=E.plug=E.lineOutline=E.plugOutline=E.faces=E.effect=!0),E.position=O(x,o,"path",k,null,null,U.path)||E.position,E.position=O(x,o,"startSocket",S,"socketSE",0)||E.position,E.position=O(x,o,"endSocket",S,"socketSE",1)||E.position,[o.startSocketGravity,o.endSocketGravity].forEach((function(t,e){var n,i,r=!1;null!=t&&(Array.isArray(t)?q(t[0])&&q(t[1])&&(r=[t[0],t[1]],Array.isArray(x.socketGravitySE[e])&&(n=r).length===(i=x.socketGravitySE[e]).length&&n.every((function(t,e){return t===i[e]}))&&(r=!1)):((t+"").toLowerCase()===A?r=null:q(t)&&0<=t&&(r=t),r===x.socketGravitySE[e]&&(r=!1)),!1!==r&&(x.socketGravitySE[e]=r,E.position=!0))})),E.line=D(x,o,"color",null,"lineColor",null,U.lineColor,null,!0)||E.line,E.line=D(x,o,"size",null,"lineSize",null,U.lineSize,(function(t){return 0<t}))||E.line,["startPlug","endPlug"].forEach((function(t,e){E.plug=O(x,o,t,T,"plugSE",e,U.plugSE[e])||E.plug,E.plug=D(x,o,t+"Color","string","plugColorSE",e,null,null,!0)||E.plug,E.plug=D(x,o,t+"Size",null,"plugSizeSE",e,U.plugSizeSE[e],(function(t){return 0<t}))||E.plug})),E.lineOutline=D(x,o,"outline",null,"lineOutlineEnabled",null,U.lineOutlineEnabled)||E.lineOutline,E.lineOutline=D(x,o,"outlineColor",null,"lineOutlineColor",null,U.lineOutlineColor,null,!0)||E.lineOutline,E.lineOutline=D(x,o,"outlineSize",null,"lineOutlineSize",null,U.lineOutlineSize,(function(t){return 0<t&&t<=.48}))||E.lineOutline,["startPlugOutline","endPlugOutline"].forEach((function(t,e){E.plugOutline=D(x,o,t,null,"plugOutlineEnabledSE",e,U.plugOutlineEnabledSE[e])||E.plugOutline,E.plugOutline=D(x,o,t+"Color","string","plugOutlineColorSE",e,null,null,!0)||E.plugOutline,E.plugOutline=D(x,o,t+"Size",null,"plugOutlineSizeSE",e,U.plugOutlineSizeSE[e],(function(t){return 1<=t}))||E.plugOutline})),["startLabel","endLabel","middleLabel"].forEach((function(t,e){var a,l,c,h=o[t],u=x.labelSEM[e]&&!s.optionIsAttach.labelSEM[e]?tt[x.labelSEM[e]._id].text:x.labelSEM[e],d=!1;if((a="string"==typeof h)&&(h=h.trim()),(a||h&&(d=r(h,"label")))&&h!==u){if(x.labelSEM[e]&&(Bt(s,tt[x.labelSEM[e]._id]),x.labelSEM[e]=""),h){if(d?(l=tt[(c=h)._id]).boundTargets.slice().forEach((function(t){l.conf.removeOption(l,t)})):c=new i(n.captionLabel,[h]),!Ft(s,tt[c._id],t))throw new Error("Can't bind attachment");x.labelSEM[e]=c}s.optionIsAttach.labelSEM[e]=d}})),Object.keys(t).forEach((function(e){var n,i,r=t[e],a=e+"_enabled",l=e+"_options";function c(t){var e={};return r.optionsConf.forEach((function(n){var i=n[0],r=n[3];null==n[4]||e[r]||(e[r]=[]),("function"==typeof i?i:"id"===i?O:D).apply(null,[e,t].concat(n.slice(1)))})),e}function h(t){var n,i=e+"_animOptions";return t.hasOwnProperty("animation")?$(t.animation)?n=s.curStats[i]=Lt(t.animation,r.defaultAnimOptions):s.curStats[i]=(n=!!t.animation)?Lt({},r.defaultAnimOptions):null:s.curStats[i]=(n=!!r.defaultEnabled)?Lt({},r.defaultAnimOptions):null,n}o.hasOwnProperty(e)&&($(n=o[e])?(s.curStats[a]=!0,i=s.curStats[l]=c(n),r.anim&&(s.curStats[l].animation=h(n))):(i=s.curStats[a]=!!n)&&(s.curStats[l]=c({}),r.anim&&(s.curStats[l].animation=h({}))),st(i,x[e])&&(x[e]=i,E.effect=!0))})),Mt(s,E)}function zt(n,i,r){var s={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Tt(s.curStats,Y),Tt(s.aplStats,Y),Object.keys(t).forEach((function(e){var n=t[e].stats;Tt(s.curStats,n),Tt(s.aplStats,n),s.options[e]=!1})),Tt(s.curStats,X),Tt(s.aplStats,X),s.curStats.show_effect=K,s.curStats.show_animOptions=ot(e[K].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++J}),s._id=this._id,Q[this._id]=s,1===arguments.length&&(r=n,n=null),r=r||{},(n||i)&&(r=ot(r),n&&(r.start=n),i&&(r.end=i)),s.isShown=s.aplStats.show_on=!r.hide,this.setOptions(r)}function jt(t){return function(e){var n={};n[t]=e,this.setOptions(n)}}function Ht(t,e){var n,i={conf:t,curStats:{},aplStats:{},boundTargets:[]},r={};t.argOptions.every((function(t){return!(!e.length||("string"==typeof t.type?typeof e[0]!==t.type:"function"!=typeof t.type||!t.type(e[0]))||(r[t.optionName]=e.shift(),0))})),n=e.length&&$(e[0])?ot(e[0]):{},Object.keys(r).forEach((function(t){n[t]=r[t]})),t.stats&&(Tt(i.curStats,t.stats),Tt(i.aplStats,t.stats)),Object.defineProperty(this,"_id",{value:++et}),Object.defineProperty(this,"isRemoved",{get:function(){return!tt[this._id]}}),i._id=this._id,t.init&&!t.init(i,n)||(tt[this._id]=i)}t={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(t){return 0<t}],["type","gap","number",null,null,null,function(t){return 0<t}]],init:function(e){wt(e,"apl_line_strokeWidth",t.dash.update),e.lineFace.style.strokeDashoffset=0,t.dash.update(e)},remove:function(e){var n=e.curStats;xt(e,"apl_line_strokeWidth",t.dash.update),n.dash_animId&&(W.remove(n.dash_animId),n.dash_animId=null),e.lineFace.style.strokeDasharray="none",e.lineFace.style.strokeDashoffset=0,Tt(e.aplStats,t.dash.stats)},update:function(t){var e,n=t.curStats,i=t.aplStats,r=i.dash_options,s=!1;n.dash_len=r.len||2*i.line_strokeWidth,n.dash_gap=r.gap||i.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,s=Ot(t,i,"dash_len",n.dash_len)||s,(s=Ot(t,i,"dash_gap",n.dash_gap)||s)&&(t.lineFace.style.strokeDasharray=i.dash_len+","+i.dash_gap),n.dash_animOptions?(s=Ot(t,i,"dash_maxOffset",n.dash_maxOffset),i.dash_animOptions&&(s||st(n.dash_animOptions,i.dash_animOptions))&&(n.dash_animId&&(e=W.stop(n.dash_animId),W.remove(n.dash_animId)),i.dash_animOptions=null),i.dash_animOptions||(n.dash_animId=W.add((function(t){return(1-t)*i.dash_maxOffset+"px"}),(function(e){t.lineFace.style.strokeDashoffset=e}),n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,e),i.dash_animOptions=ot(n.dash_animOptions))):i.dash_animOptions&&(n.dash_animId&&(W.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDashoffset=0,i.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(e){var n=e.baseWindow.document,i=e.defs,r=C+"-"+e._id+"-gradient";e.efc_gradient_gradient=i=i.appendChild(n.createElementNS(F,"linearGradient")),i.id=r,i.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[i.x1,i.y1,i.x2,i.y2].forEach((function(t){t.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)})),e.efc_gradient_stopSE=[0,1].map((function(t){var i=e.efc_gradient_gradient.appendChild(n.createElementNS(F,"stop"));try{i.offset.baseVal=t}catch(e){if(e.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw e;i.setAttribute("offset",t)}return i})),wt(e,"cur_plug_colorSE",t.gradient.update),wt(e,"apl_path",t.gradient.update),e.curStats.line_altColor=!0,e.lineFace.style.stroke="url(#"+r+")",t.gradient.update(e)},remove:function(e){e.efc_gradient_gradient&&(e.defs.removeChild(e.efc_gradient_gradient),e.efc_gradient_gradient=e.efc_gradient_stopSE=null),xt(e,"cur_plug_colorSE",t.gradient.update),xt(e,"apl_path",t.gradient.update),e.curStats.line_altColor=!1,e.lineFace.style.stroke=e.curStats.line_color,Tt(e.aplStats,t.gradient.stats)},update:function(t){var e,n=t.curStats,i=t.aplStats,r=i.gradient_options,s=t.pathList.animVal||t.pathList.baseVal;[0,1].forEach((function(t){n.gradient_colorSE[t]=r.colorSE[t]||n.plug_colorSE[t]})),n.gradient_pointSE[0]={x:(e=s[0][0]).x,y:e.y},e=(s=s[s.length-1])[s.length-1],n.gradient_pointSE[1]={x:e.x,y:e.y},[0,1].forEach((function(e){var r;Ot(t,i.gradient_colorSE,e,r=n.gradient_colorSE[e])&&(j?(r=at(r),t.efc_gradient_stopSE[e].style.stopColor=r[1],t.efc_gradient_stopSE[e].style.stopOpacity=r[0]):t.efc_gradient_stopSE[e].style.stopColor=r),["x","y"].forEach((function(s){(r=n.gradient_pointSE[e][s])!==i.gradient_pointSE[e][s]&&(t.efc_gradient_gradient[s+(e+1)].baseVal.value=i.gradient_pointSE[e][s]=r)}))}))}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(t){return 0<=t}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(t){return 0<=t&&t<=1}]],init:function(e){var n,i,r,s,o=e.baseWindow.document,a=e.defs,l=C+"-"+e._id+"-dropShadow",h=(n=o,i=l,s={},"boolean"!=typeof c&&(c=!!window.SVGFEDropShadowElement&&!j),s.elmsAppend=[s.elmFilter=o=n.createElementNS(F,"filter")],o.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,o.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.id=i,c?(s.elmOffset=s.elmBlur=r=o.appendChild(n.createElementNS(F,"feDropShadow")),s.styleFlood=r.style):(s.elmBlur=o.appendChild(n.createElementNS(F,"feGaussianBlur")),s.elmOffset=r=o.appendChild(n.createElementNS(F,"feOffset")),r.result.baseVal="offsetblur",r=o.appendChild(n.createElementNS(F,"feFlood")),s.styleFlood=r.style,(r=o.appendChild(n.createElementNS(F,"feComposite"))).in2.baseVal="offsetblur",r.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(r=o.appendChild(n.createElementNS(F,"feMerge"))).appendChild(n.createElementNS(F,"feMergeNode")),r.appendChild(n.createElementNS(F,"feMergeNode")).in1.baseVal="SourceGraphic"),s);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach((function(t){e["efc_dropShadow_"+t]=h[t]})),h.elmsAppend.forEach((function(t){a.appendChild(t)})),e.face.setAttribute("filter","url(#"+l+")"),wt(e,"new_edge4viewBox",t.dropShadow.adjustEdge),t.dropShadow.update(e)},remove:function(e){var n=e.defs;e.efc_dropShadow_elmsAppend&&(e.efc_dropShadow_elmsAppend.forEach((function(t){n.removeChild(t)})),e.efc_dropShadow_elmFilter=e.efc_dropShadow_elmOffset=e.efc_dropShadow_elmBlur=e.efc_dropShadow_styleFlood=e.efc_dropShadow_elmsAppend=null),xt(e,"new_edge4viewBox",t.dropShadow.adjustEdge),Mt(e,{}),e.face.removeAttribute("filter"),Tt(e.aplStats,t.dropShadow.stats)},update:function(t){var e,n,i=t.curStats,r=t.aplStats,s=r.dropShadow_options;i.dropShadow_dx=e=s.dx,Ot(t,r,"dropShadow_dx",e)&&(t.efc_dropShadow_elmOffset.dx.baseVal=e,n=!0),i.dropShadow_dy=e=s.dy,Ot(t,r,"dropShadow_dy",e)&&(t.efc_dropShadow_elmOffset.dy.baseVal=e,n=!0),i.dropShadow_blur=e=s.blur,Ot(t,r,"dropShadow_blur",e)&&(t.efc_dropShadow_elmBlur.setStdDeviation(e,e),n=!0),n&&Mt(t,{}),i.dropShadow_color=e=s.color,Ot(t,r,"dropShadow_color",e)&&(t.efc_dropShadow_styleFlood.floodColor=e),i.dropShadow_opacity=e=s.opacity,Ot(t,r,"dropShadow_opacity",e)&&(t.efc_dropShadow_styleFlood.floodOpacity=e)},adjustEdge:function(t,e){var n,i=t.curStats,r=t.aplStats;null!=i.dropShadow_dx&&((n={x1:e.x1-(n=3*i.dropShadow_blur)+i.dropShadow_dx,y1:e.y1-n+i.dropShadow_dy,x2:e.x2+n+i.dropShadow_dx,y2:e.y2+n+i.dropShadow_dy}).x1<e.x1&&(e.x1=n.x1),n.y1<e.y1&&(e.y1=n.y1),n.x2>e.x2&&(e.x2=n.x2),n.y2>e.y2&&(e.y2=n.y2),["x","y"].forEach((function(n){var s,o="dropShadow_"+n;i[o]=s=e[n+"1"],Ot(t,r,o,s)&&(t.efc_dropShadow_elmFilter[n].baseVal.value=s)})))}}},Object.keys(t).forEach((function(e){var n=t[e],i=n.stats;i[e+"_enabled"]={iniValue:!1},i[e+"_options"]={hasProps:!0},n.anim&&(i[e+"_animOptions"]={},i[e+"_animId"]={})})),e={none:{defaultAnimOptions:{},init:function(t,n){var i=t.curStats;i.show_animId&&(W.remove(i.show_animId),i.show_animId=null),e.none.start(t,n)},start:function(t,n){e.none.stop(t,!0)},stop:function(t,e,n){return n=null!=n?n:t.aplStats.show_on,t.curStats.show_inAnim=!1,e&&Pt(t,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(t,n){var i=t.curStats,r=t.aplStats;i.show_animId&&W.remove(i.show_animId),i.show_animId=W.add((function(t){return t}),(function(n,i){i?e.fade.stop(t,!0):(t.svg.style.opacity=n+"",B&&(St(t,t.svg),kt(t)))}),r.show_animOptions.duration,1,r.show_animOptions.timing,null,!1),e.fade.start(t,n)},start:function(t,e){var n,i=t.curStats;i.show_inAnim&&(n=W.stop(i.show_animId)),Pt(t,1),i.show_inAnim=!0,W.start(i.show_animId,!t.aplStats.show_on,null!=e?e:n)},stop:function(t,e,n){var i,r=t.curStats;return n=null!=n?n:t.aplStats.show_on,i=r.show_inAnim?W.stop(r.show_animId):n?1:0,r.show_inAnim=!1,e&&(t.svg.style.opacity=n?"":"0",Pt(t,n)),i}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(t,n){var i=t.curStats,r=t.aplStats,s=t.pathList.baseVal,o=bt(s),a=o.segsLen,l=o.lenAll;i.show_animId&&W.remove(i.show_animId),i.show_animId=W.add((function(t){var e,n,i,r=-1;if(0===t)n=[[s[0][0],s[0][0]]];else if(1===t)n=s;else{for(e=l*t,n=[];e>=a[++r];)n.push(s[r]),e-=a[r];e&&(2===(i=s[r]).length?n.push([i[0],pt(i[0],i[1],e/a[r])]):(t=mt(i[0],i[1],i[2],i[3],vt(i[0],i[1],i[2],i[3],e)),n.push([i[0],t.fromP1,t.fromP2,t])))}return n}),(function(n,i){i?e.draw.stop(t,!0):(t.pathList.animVal=n,Mt(t,{path:!0}))}),r.show_animOptions.duration,1,r.show_animOptions.timing,null,!1),e.draw.start(t,n)},start:function(t,n){var i,r=t.curStats;r.show_inAnim&&(i=W.stop(r.show_animId)),Pt(t,1),r.show_inAnim=!0,wt(t,"apl_position",e.draw.update),W.start(r.show_animId,!t.aplStats.show_on,null!=n?n:i)},stop:function(t,e,n){var i,r=t.curStats;return n=null!=n?n:t.aplStats.show_on,i=r.show_inAnim?W.stop(r.show_animId):n?1:0,r.show_inAnim=!1,e&&(t.pathList.animVal=n?null:[[t.pathList.baseVal[0][0],t.pathList.baseVal[0][0]]],Mt(t,{path:!0}),Pt(t,n)),i},update:function(t){xt(t,"apl_position",e.draw.update),t.curStats.show_inAnim?e.draw.init(t,e.draw.stop(t)):t.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach((function(t){var e=t[0],n=t[1],i=t[2];Object.defineProperty(zt.prototype,e,{get:function(){var t=null!=i?Q[this._id].options[n][i]:n?Q[this._id].options[n]:Q[this._id].options[e];return null==t?A:ot(t)},set:jt(e),enumerable:!0})})),[["path",k],["startSocket",S,"socketSE",0],["endSocket",S,"socketSE",1],["startPlug",T,"plugSE",0],["endPlug",T,"plugSE",1]].forEach((function(t){var e=t[0],n=t[1],i=t[2],r=t[3];Object.defineProperty(zt.prototype,e,{get:function(){var t,s=null!=r?Q[this._id].options[i][r]:i?Q[this._id].options[i]:Q[this._id].options[e];return s?Object.keys(n).some((function(e){return n[e]===s&&(t=e,!0)}))?t:new Error("It's broken"):A},set:jt(e),enumerable:!0})})),Object.keys(t).forEach((function(e){var n=t[e];Object.defineProperty(zt.prototype,e,{get:function(){var t,i,r=Q[this._id].options[e];return $(r)?(t=r,i=n.optionsConf.reduce((function(e,n){var i,r=n[0],s=n[1],o=n[2],a=n[3],l=null!=(n=n[4])?t[a][n]:a?t[a]:t[s];return e[s]="id"===r?l?Object.keys(o).some((function(t){return o[t]===l&&(i=t,!0)}))?i:new Error("It's broken"):A:null==l?A:ot(l),e}),{}),n.anim&&(i.animation=ot(t.animation)),i):r},set:jt(e),enumerable:!0})})),["startLabel","endLabel","middleLabel"].forEach((function(t,e){Object.defineProperty(zt.prototype,t,{get:function(){var t=Q[this._id],n=t.options;return n.labelSEM[e]&&!t.optionIsAttach.labelSEM[e]?tt[n.labelSEM[e]._id].text:n.labelSEM[e]||""},set:jt(t),enumerable:!0})})),zt.prototype.setOptions=function(t){return Vt(Q[this._id],t),this},zt.prototype.position=function(){return Mt(Q[this._id],{position:!0}),this},zt.prototype.remove=function(){var e=Q[this._id],n=e.curStats;Object.keys(t).forEach((function(t){n[t+="_animId"]&&W.remove(n[t])})),n.show_animId&&W.remove(n.show_animId),e.attachments.slice().forEach((function(t){Bt(e,t)})),e.baseWindow&&e.svg&&e.baseWindow.document.body.removeChild(e.svg),delete Q[this._id]},zt.prototype.show=function(t,e){return Nt(Q[this._id],!0,t,e),this},zt.prototype.hide=function(t,e){return Nt(Q[this._id],!1,t,e),this},s=function(t){t&&tt[t._id]&&(t.boundTargets.slice().forEach((function(e){Bt(e.props,t,!0)})),t.conf.remove&&t.conf.remove(t),delete tt[t._id])},Ht.prototype.remove=function(){var t=this,e=tt[t._id];e&&(e.boundTargets.slice().forEach((function(t){e.conf.removeOption(e,t)})),Ct((function(){var e=tt[t._id];e&&(console.error("LeaderLineAttachment was not removed by removeOption"),s(e))})))},i=Ht,window.LeaderLineAttachment=i,r=function(t,e){return t instanceof i&&(!(t.isRemoved||e&&tt[t._id].conf.type!==e)||null)},n={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:lt}],init:function(t,e){return t.element=n.pointAnchor.checkElement(e.element),t.x=n.pointAnchor.parsePercent(e.x,!0)||[.5,!0],t.y=n.pointAnchor.parsePercent(e.y,!0)||[.5,!0],!0},removeOption:function(t,e){var r=e.props,s={},o=t.element;o===(t=r.options.anchorSE["start"===e.optionName?1:0])&&(o=t===document.body?new i(n.pointAnchor,[o]):document.body),s[e.optionName]=o,Vt(r,s)},getBBoxNest:function(t,e){var n=ut(t.element,e.baseWindow),i=n.width;return e=n.height,n.width=n.height=0,n.left=n.right=n.left+t.x[0]*(t.x[1]?i:1),n.top=n.bottom=n.top+t.y[0]*(t.y[1]?e:1),n},parsePercent:function(t,e){var n,i,r=!1;return q(t)?i=t:"string"==typeof t&&(n=N.exec(t))&&n[2]&&(r=0!=(i=parseFloat(n[1])/100)),null!=i&&(e||0<=i)?[i,r]:null},checkElement:function(t){if(null==t)t=document.body;else if(!lt(t))throw new Error("`element` must be Element");return t}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:lt},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(t,e){var i,r=[];return t.element=n.pointAnchor.checkElement(e.element),"string"==typeof e.color&&(t.color=e.color.trim()),"string"==typeof e.fillColor&&(t.fill=e.fillColor.trim()),q(e.size)&&0<=e.size&&(t.size=e.size),e.dash&&(t.dash=!0,q(e.dash.len)&&0<e.dash.len&&(t.dashLen=e.dash.len),q(e.dash.gap)&&0<e.dash.gap&&(t.dashGap=e.dash.gap)),"circle"===e.shape?t.shape=e.shape:"polygon"===e.shape&&Array.isArray(e.points)&&3<=e.points.length&&e.points.every((function(e){var i={};return!(!(i.x=n.pointAnchor.parsePercent(e[0],!0))||!(i.y=n.pointAnchor.parsePercent(e[1],!0))||(r.push(i),(i.x[1]||i.y[1])&&(t.hasRatio=!0),0))}))?(t.shape=e.shape,t.points=r):(t.shape="rect",t.radius=q(e.radius)&&0<=e.radius?e.radius:0),"rect"!==t.shape&&"circle"!==t.shape||(t.x=n.pointAnchor.parsePercent(e.x,!0)||[-.05,!0],t.y=n.pointAnchor.parsePercent(e.y,!0)||[-.05,!0],t.width=n.pointAnchor.parsePercent(e.width)||[1.1,!0],t.height=n.pointAnchor.parsePercent(e.height)||[1.1,!0],(t.x[1]||t.y[1]||t.width[1]||t.height[1])&&(t.hasRatio=!0)),t.svg=e=(i=t.element.ownerDocument).createElementNS(F,"svg"),e.className.baseVal=C+"-areaAnchor",e.viewBox.baseVal||e.setAttribute("viewBox","0 0 0 0"),t.path=e.appendChild(i.createElementNS(F,"path")),t.path.style.fill=t.fill||"none",t.isShown=!1,e.style.visibility="hidden",i.body.appendChild(e),At(i=i.defaultView),t.bodyOffset=Dt(i),t.updateColor=function(){var e=t.aplStats,n=t.boundTargets.length?t.boundTargets[0].props.curStats:null;t.curStats.color=n=t.color||(n?n.line_color:U.lineColor),Ot(t,e,"color",n)&&(t.path.style.stroke=n)},t.updateShow=function(){Pt(t,t.boundTargets.some((function(t){return!0===t.props.isShown})))},!0},bind:function(t,e){return e=e.props,t.color||wt(e,"cur_line_color",t.updateColor),wt(e,"svgShow",t.updateShow),Ct((function(){t.updateColor(),t.updateShow()})),!0},unbind:function(t,e){e=e.props,t.color||xt(e,"cur_line_color",t.updateColor),xt(e,"svgShow",t.updateShow),1<t.boundTargets.length&&Ct((function(){t.updateColor(),t.updateShow(),n.areaAnchor.update(t)&&t.boundTargets.forEach((function(t){Mt(t.props,{position:!0})}))}))},removeOption:function(t,e){n.pointAnchor.removeOption(t,e)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach((function(e){n.areaAnchor.unbind(t,e)}))),t.svg.parentNode.removeChild(t.svg)},getStrokeWidth:function(t,e){return n.areaAnchor.update(t)&&1<t.boundTargets.length&&Ct((function(){t.boundTargets.forEach((function(t){t.props!==e&&Mt(t.props,{position:!0})}))})),t.curStats.strokeWidth},getPathData:function(t,e){var n=ut(t.element,e.baseWindow);return yt(t.curStats.pathListRel,(function(t){t.x+=n.left,t.y+=n.top}))},getBBoxNest:function(t,e){return e=ut(t.element,e.baseWindow),{left:(t=t.curStats.bBoxRel).left+e.left,top:t.top+e.top,right:t.right+e.left,bottom:t.bottom+e.top,width:t.width,height:t.height}},update:function(t){var e,n,i,r,s,o,a,l,c,h,u,d,p,f,m,g,v=t.curStats,y=t.aplStats,b=t.boundTargets.length?t.boundTargets[0].props.curStats:null,_={};if(_.strokeWidth=Ot(t,v,"strokeWidth",null!=t.size?t.size:b?b.line_strokeWidth:U.lineSize),e=ct(t.element),_.elementWidth=Ot(t,v,"elementWidth",e.width),_.elementHeight=Ot(t,v,"elementHeight",e.height),_.elementLeft=Ot(t,v,"elementLeft",e.left),_.elementTop=Ot(t,v,"elementTop",e.top),_.strokeWidth||t.hasRatio&&(_.elementWidth||_.elementHeight)){switch(t.shape){case"rect":(d={left:t.x[0]*(t.x[1]?e.width:1),top:t.y[0]*(t.y[1]?e.height:1),width:t.width[0]*(t.width[1]?e.width:1),height:t.height[0]*(t.height[1]?e.height:1)}).right=d.left+d.width,d.bottom=d.top+d.height,u=v.strokeWidth/2,l=(a=Math.min(d.width,d.height))?a/2*Math.SQRT2+u:0,h=(a=t.radius?t.radius<=l?t.radius:l:0)?(l=(a-u)/Math.SQRT2,h=[{x:d.left-(c=a-l),y:d.top+l},{x:d.left+l,y:d.top-c},{x:d.right-l,y:d.top-c},{x:d.right+c,y:d.top+l},{x:d.right+c,y:d.bottom-l},{x:d.right-l,y:d.bottom+c},{x:d.left+l,y:d.bottom+c},{x:d.left-c,y:d.bottom-l}],v.pathListRel=[[h[0],{x:h[0].x,y:h[0].y-(u=a*M)},{x:h[1].x-u,y:h[1].y},h[1]]],h[1].x!==h[2].x&&v.pathListRel.push([h[1],h[2]]),v.pathListRel.push([h[2],{x:h[2].x+u,y:h[2].y},{x:h[3].x,y:h[3].y-u},h[3]]),h[3].y!==h[4].y&&v.pathListRel.push([h[3],h[4]]),v.pathListRel.push([h[4],{x:h[4].x,y:h[4].y+u},{x:h[5].x+u,y:h[5].y},h[5]]),h[5].x!==h[6].x&&v.pathListRel.push([h[5],h[6]]),v.pathListRel.push([h[6],{x:h[6].x-u,y:h[6].y},{x:h[7].x,y:h[7].y+u},h[7]]),h[7].y!==h[0].y&&v.pathListRel.push([h[7],h[0]]),v.pathListRel.push([]),[{x:d.left-(c=a-l+v.strokeWidth/2),y:d.top-c},{x:d.right+c,y:d.bottom+c}]):(v.pathListRel=[[(h=[{x:d.left-(c=v.strokeWidth/2),y:d.top-c},{x:d.right+c,y:d.bottom+c}])[0],{x:h[1].x,y:h[0].y}],[{x:h[1].x,y:h[0].y},h[1]],[h[1],{x:h[0].x,y:h[1].y}],[]],[{x:d.left-v.strokeWidth,y:d.top-v.strokeWidth},{x:d.right+v.strokeWidth,y:d.bottom+v.strokeWidth}]),v.bBoxRel={left:h[0].x,top:h[0].y,right:h[1].x,bottom:h[1].y,width:h[1].x-h[0].x,height:h[1].y-h[0].y};break;case"circle":(o={left:t.x[0]*(t.x[1]?e.width:1),top:t.y[0]*(t.y[1]?e.height:1),width:t.width[0]*(t.width[1]?e.width:1),height:t.height[0]*(t.height[1]?e.height:1)}).width||o.height||(o.width=o.height=10),o.width||(o.width=o.height),o.height||(o.height=o.width),o.right=o.left+o.width,o.bottom=o.top+o.height,u=o.left+o.width/2,a=o.top+o.height/2,s=v.strokeWidth/2,c=o.height/2,d=(l=o.width/2)*Math.SQRT2+s,h=c*Math.SQRT2+s,v.pathListRel=[[(s=[{x:u-d,y:a},{x:u,y:a-h},{x:u+d,y:a},{x:u,y:a+h}])[0],{x:s[0].x,y:s[0].y-(u=h*M)},{x:s[1].x-(a=d*M),y:s[1].y},s[1]],[s[1],{x:s[1].x+a,y:s[1].y},{x:s[2].x,y:s[2].y-u},s[2]],[s[2],{x:s[2].x,y:s[2].y+u},{x:s[3].x+a,y:s[3].y},s[3]],[s[3],{x:s[3].x-a,y:s[3].y},{x:s[0].x,y:s[0].y+u},s[0]],[]],v.bBoxRel={left:(s=[{x:o.left-(l=d-l+v.strokeWidth/2),y:o.top-(c=h-c+v.strokeWidth/2)},{x:o.right+l,y:o.bottom+c}])[0].x,top:s[0].y,right:s[1].x,bottom:s[1].y,width:s[1].x-s[0].x,height:s[1].y-s[0].y};break;case"polygon":t.points.forEach((function(t){var n=t.x[0]*(t.x[1]?e.width:1);t=t.y[0]*(t.y[1]?e.height:1),i?(n<i.left&&(i.left=n),n>i.right&&(i.right=n),t<i.top&&(i.top=t),t>i.bottom&&(i.bottom=t)):i={left:n,right:n,top:t,bottom:t},r?v.pathListRel.push([r,{x:n,y:t}]):v.pathListRel=[],r={x:n,y:t}})),v.pathListRel.push([]),v.bBoxRel={left:(s=[{x:i.left-(s=v.strokeWidth/2),y:i.top-s},{x:i.right+s,y:i.bottom+s}])[0].x,top:s[0].y,right:s[1].x,bottom:s[1].y,width:s[1].x-s[0].x,height:s[1].y-s[0].y}}_.pathListRel=_.bBoxRel=!0}return(_.pathListRel||_.elementLeft||_.elementTop)&&(v.pathData=yt(v.pathListRel,(function(t){t.x+=e.left,t.y+=e.top}))),Ot(t,y,"strokeWidth",n=v.strokeWidth)&&(t.path.style.strokeWidth=n+"px"),_t(n=v.pathData,y.pathData)&&(t.path.setPathData(n),y.pathData=n,_.pathData=!0),t.dash&&(!_.pathData&&(!_.strokeWidth||t.dashLen&&t.dashGap)||(v.dashLen=t.dashLen||2*v.strokeWidth,v.dashGap=t.dashGap||v.strokeWidth),_.dash=Ot(t,y,"dashLen",v.dashLen)||_.dash,_.dash=Ot(t,y,"dashGap",v.dashGap)||_.dash,_.dash&&(t.path.style.strokeDasharray=y.dashLen+","+y.dashGap)),f=y.viewBoxBBox,m=t.svg.viewBox.baseVal,g=t.svg.style,(p=v.viewBoxBBox).x=v.bBoxRel.left+e.left,p.y=v.bBoxRel.top+e.top,p.width=v.bBoxRel.width,p.height=v.bBoxRel.height,["x","y","width","height"].forEach((function(e){(n=p[e])!==f[e]&&(m[e]=f[e]=n,g[R[e]]=n+("x"===e||"y"===e?t.bodyOffset[e]:0)+"px")})),_.strokeWidth||_.pathListRel||_.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:lt},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(t,i){var r,s,o,a,l,c,h,u,d,p=n.mouseHoverAnchor,f={};if(t.element=n.pointAnchor.checkElement(i.element),!((u=(h=t.element).ownerDocument)&&(d=u.defaultView)&&d.HTMLElement&&h instanceof d.HTMLElement))throw new Error("`element` must be HTML element");return p.style.backgroundSize=p.backgroundSize.width+"px "+p.backgroundSize.height+"px",["style","hoverStyle"].forEach((function(e){var n=p[e];t[e]=Object.keys(n).reduce((function(t,e){return t[e]=n[e],t}),{})})),"inline"===(r=t.element.ownerDocument.defaultView.getComputedStyle(t.element,"")).display?t.style.display="inline-block":"none"===r.display&&(t.style.display="block"),n.mouseHoverAnchor.dirKeys.forEach((function(e){var n=e[0];e="padding"+e[1],parseFloat(r[e])<p.padding[n]&&(t.style[e]=p.padding[n]+"px")})),t.style.display&&(o=t.element.style.display,t.element.style.display=t.style.display),n.mouseHoverAnchor.dirKeys.forEach((function(e){t.style[e="padding"+e[1]]&&(f[e]=t.element.style[e],t.element.style[e]=t.style[e])})),(h=t.element.getBoundingClientRect()).height<p.minHeight&&(B?(d=p.minHeight,"content-box"===r.boxSizing?d-=parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth)+parseFloat(r.paddingTop)+parseFloat(r.paddingBottom):"padding-box"===r.boxSizing&&(d-=parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth)),t.style.height=d+"px"):t.style.height=parseFloat(r.height)+(p.minHeight-h.height)+"px"),t.style.backgroundPosition=j?h.width-p.backgroundSize.width-p.backgroundPosition.right+"px "+p.backgroundPosition.top+"px":"right "+p.backgroundPosition.right+"px top "+p.backgroundPosition.top+"px",t.style.display&&(t.element.style.display=o),n.mouseHoverAnchor.dirKeys.forEach((function(e){t.style[e="padding"+e[1]]&&(t.element.style[e]=f[e])})),["style","hoverStyle"].forEach((function(e){var n=t[e],r=i[e];$(r)&&Object.keys(r).forEach((function(t){"string"==typeof r[t]||q(r[t])?n[t]=r[t]:null==r[t]&&delete n[t]}))})),"function"==typeof i.onSwitch&&(c=i.onSwitch),i.showEffectName&&e[i.showEffectName]&&(t.showEffectName=a=i.showEffectName),l=i.animOptions,t.elmStyle=s=t.element.style,t.mouseenter=function(e){t.hoverStyleSave=p.getStyles(s,Object.keys(t.hoverStyle)),p.setStyles(s,t.hoverStyle),t.boundTargets.forEach((function(t){Nt(t.props,!0,a,l)})),c&&c(e)},t.mouseleave=function(e){p.setStyles(s,t.hoverStyleSave),t.boundTargets.forEach((function(t){Nt(t.props,!1,a,l)})),c&&c(e)},!0},bind:function(t,e){var i,r,s,o,a;return e.props.svg?n.mouseHoverAnchor.llShow(e.props,!1,t.showEffectName):Ct((function(){n.mouseHoverAnchor.llShow(e.props,!1,t.showEffectName)})),t.enabled||(t.styleSave=n.mouseHoverAnchor.getStyles(t.elmStyle,Object.keys(t.style)),n.mouseHoverAnchor.setStyles(t.elmStyle,t.style),t.removeEventListener=(r=t.mouseenter,s=t.mouseleave,"onmouseenter"in(i=t.element)&&"onmouseleave"in i?(i.addEventListener("mouseenter",r,!1),i.addEventListener("mouseleave",s,!1),function(){i.removeEventListener("mouseenter",r,!1),i.removeEventListener("mouseleave",s,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),i.addEventListener("mouseover",o=function(t){t.relatedTarget&&(t.relatedTarget===this||this.compareDocumentPosition(t.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||r.apply(this,arguments)}),i.addEventListener("mouseout",a=function(t){t.relatedTarget&&(t.relatedTarget===this||this.compareDocumentPosition(t.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||s.apply(this,arguments)}),function(){i.removeEventListener("mouseover",o,!1),i.removeEventListener("mouseout",a,!1)})),t.enabled=!0),!0},unbind:function(t,e){t.enabled&&t.boundTargets.length<=1&&(t.removeEventListener(),n.mouseHoverAnchor.setStyles(t.elmStyle,t.styleSave),t.enabled=!1),n.mouseHoverAnchor.llShow(e.props,!0,t.showEffectName)},removeOption:function(t,e){n.pointAnchor.removeOption(t,e)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach((function(e){n.mouseHoverAnchor.unbind(t,e)})))},getBBoxNest:function(t,e){return ut(t.element,e.baseWindow)},llShow:function(t,n,i){e[i||t.curStats.show_effect].stop(t,!0,n),t.aplStats.show_on=n},getStyles:function(t,e){return e.reduce((function(e,n){return e[n]=t[n],e}),{})},setStyles:function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(t,e){return"string"==typeof e.text&&(t.text=e.text.trim()),!!t.text&&("string"==typeof e.color&&(t.color=e.color.trim()),t.outlineColor="string"==typeof e.outlineColor?e.outlineColor.trim():"#fff",Array.isArray(e.offset)&&q(e.offset[0])&&q(e.offset[1])&&(t.offset={x:e.offset[0],y:e.offset[1]}),q(e.lineOffset)&&(t.lineOffset=e.lineOffset),n.captionLabel.textStyleProps.forEach((function(n){null!=e[n]&&(t[n]=e[n])})),t.updateColor=function(e){n.captionLabel.updateColor(t,e)},t.updateSocketXY=function(e){var n,i=t.curStats,r=t.aplStats,s=e.curStats,o=s.position_socketXYSE[t.socketIndex];null!=o.x&&(t.offset?(i.x=o.x+t.offset.x,i.y=o.y+t.offset.y):(n=t.height/2,e=Math.max(s.attach_plugSideLenSE[t.socketIndex]||0,s.line_strokeWidth/2),s=s.position_socketXYSE[t.socketIndex?0:1],4===o.socketId||2===o.socketId?(i.x=4===o.socketId?o.x-n-t.width:o.x+n,i.y=s.y<o.y?o.y+e+n:o.y-e-n-t.height):(i.x=s.x<o.x?o.x+e+n:o.x-e-n-t.width,i.y=1===o.socketId?o.y-n-t.height:o.y+n)),Ot(t,r,"x",n=i.x)&&(t.elmPosition.x.baseVal.getItem(0).value=n),Ot(t,r,"y",n=i.y)&&(t.elmPosition.y.baseVal.getItem(0).value=n+t.height))},t.updatePath=function(e){var i=t.curStats,r=t.aplStats;(e=e.pathList.animVal||e.pathList.baseVal)&&(e=n.captionLabel.getMidPoint(e,t.lineOffset),i.x=e.x-t.width/2,i.y=e.y-t.height/2,Ot(t,r,"x",e=i.x)&&(t.elmPosition.x.baseVal.getItem(0).value=e),Ot(t,r,"y",e=i.y)&&(t.elmPosition.y.baseVal.getItem(0).value=e+t.height))},t.updateShow=function(e){n.captionLabel.updateShow(t,e)},j&&(t.adjustEdge=function(e,i){var r=t.curStats;null!=r.x&&n.captionLabel.adjustEdge(i,{x:r.x,y:r.y,width:t.width,height:t.height},t.strokeWidth/2)}),!0)},updateColor:function(t,e){var n=t.aplStats;e=e.curStats,t.curStats.color=e=t.color||e.line_color,Ot(t,n,"color",e)&&(t.styleFill.fill=e)},updateShow:function(t,e){(e=!0===e.isShown)!==t.isShown&&(t.styleShow.visibility=e?"":"hidden",t.isShown=e)},adjustEdge:function(t,e,n){(n={x1:e.x-n,y1:e.y-n,x2:e.x+e.width+n,y2:e.y+e.height+n}).x1<t.x1&&(t.x1=n.x1),n.y1<t.y1&&(t.y1=n.y1),n.x2>t.x2&&(t.x2=n.x2),n.y2>t.y2&&(t.y2=n.y2)},newText:function(t,e,n,i,r){var s,o,a=e.createElementNS(F,"text");return a.textContent=t,[a.x,a.y].forEach((function(t){var e=n.createSVGLength();e.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),t.baseVal.initialize(e)})),"boolean"!=typeof l&&(l="paintOrder"in a.style),r&&!l?(s=e.createElementNS(F,"defs"),a.id=i,s.appendChild(a),(o=(t=e.createElementNS(F,"g")).appendChild(e.createElementNS(F,"use"))).href.baseVal="#"+i,(e=t.appendChild(e.createElementNS(F,"use"))).href.baseVal="#"+i,(o=o.style).strokeLinejoin="round",{elmPosition:a,styleText:a.style,styleFill:e.style,styleStroke:o,styleShow:t.style,elmsAppend:[s,t]}):(o=a.style,r&&(o.strokeLinejoin="round",o.paintOrder="stroke"),{elmPosition:a,styleText:o,styleFill:o,styleStroke:r?o:null,styleShow:o,elmsAppend:[a]})},getMidPoint:function(t,e){var n,i,r,s=(r=bt(t)).segsLen,o=-1,a=(r=r.lenAll)/2+(e||0);if(a<=0)return 2===(n=t[0]).length?pt(n[0],n[1],0):mt(n[0],n[1],n[2],n[3],0);if(r<=a)return 2===(n=t[t.length-1]).length?pt(n[0],n[1],1):mt(n[0],n[1],n[2],n[3],1);for(i=[];a>s[++o];)i.push(t[o]),a-=s[o];return 2===(n=t[o]).length?pt(n[0],n[1],a/s[o]):mt(n[0],n[1],n[2],n[3],vt(n[0],n[1],n[2],n[3],a))},initSvg:function(t,e){var i,r,s=n.captionLabel.newText(t.text,e.baseWindow.document,e.svg,C+"-captionLabel-"+t._id,t.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach((function(e){t[e]=s[e]})),t.isShown=!1,t.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach((function(e){null!=t[e]&&(s.styleText[e]=t[e])})),s.elmsAppend.forEach((function(t){e.svg.appendChild(t)})),i=s.elmPosition.getBBox(),t.width=i.width,t.height=i.height,t.outlineColor&&(s.styleStroke.strokeWidth=(r=10<(r=i.height/9)?10:r<2?2:r)+"px",s.styleStroke.stroke=t.outlineColor),t.strokeWidth=r||0,Tt(t.aplStats,n.captionLabel.stats),t.updateColor(e),t.refSocketXY?t.updateSocketXY(e):t.updatePath(e),j&&Mt(e,{}),t.updateShow(e)},bind:function(t,e){var i=e.props;return t.color||wt(i,"cur_line_color",t.updateColor),(t.refSocketXY="startLabel"===e.optionName||"endLabel"===e.optionName)?(t.socketIndex="startLabel"===e.optionName?0:1,wt(i,"apl_position",t.updateSocketXY),t.offset||(wt(i,"cur_attach_plugSideLenSE",t.updateSocketXY),wt(i,"cur_line_strokeWidth",t.updateSocketXY))):wt(i,"apl_path",t.updatePath),wt(i,"svgShow",t.updateShow),j&&wt(i,"new_edge4viewBox",t.adjustEdge),n.captionLabel.initSvg(t,i),!0},unbind:function(t,e){var i=e.props;t.elmsAppend&&(t.elmsAppend.forEach((function(t){i.svg.removeChild(t)})),t.elmPosition=t.styleFill=t.styleShow=t.elmsAppend=null),Tt(t.curStats,n.captionLabel.stats),Tt(t.aplStats,n.captionLabel.stats),t.color||xt(i,"cur_line_color",t.updateColor),t.refSocketXY?(xt(i,"apl_position",t.updateSocketXY),t.offset||(xt(i,"cur_attach_plugSideLenSE",t.updateSocketXY),xt(i,"cur_line_strokeWidth",t.updateSocketXY))):xt(i,"apl_path",t.updatePath),xt(i,"svgShow",t.updateShow),j&&(xt(i,"new_edge4viewBox",t.adjustEdge),Mt(i,{}))},removeOption:function(t,e){var n=e.props,i={};i[e.optionName]="",Vt(n,i)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach((function(e){n.captionLabel.unbind(t,e)})))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(t,e){return"string"==typeof e.text&&(t.text=e.text.trim()),!!t.text&&("string"==typeof e.color&&(t.color=e.color.trim()),t.outlineColor="string"==typeof e.outlineColor?e.outlineColor.trim():"#fff",q(e.lineOffset)&&(t.lineOffset=e.lineOffset),n.captionLabel.textStyleProps.forEach((function(n){null!=e[n]&&(t[n]=e[n])})),t.updateColor=function(e){n.captionLabel.updateColor(t,e)},t.updatePath=function(e){var i=t.aplStats,r=e.curStats,s=e.pathList.animVal||e.pathList.baseVal;s&&(t.curStats.pathData=r=n.pathLabel.getOffsetPathData(s,r.line_strokeWidth/2+t.strokeWidth/2+t.height/4,1.25*t.height),_t(r,i.pathData)&&(t.elmPath.setPathData(r),i.pathData=r,t.bBox=t.elmPosition.getBBox(),t.updateStartOffset(e)))},t.updateStartOffset=function(e){var n,i,r=t.curStats,s=t.aplStats,o=e.curStats;r.pathData&&(2===t.semIndex&&!t.lineOffset||(i=r.pathData.reduce((function(t,e){var i,r=e.values;switch(e.type){case"M":n={x:r[0],y:r[1]};break;case"L":i={x:r[0],y:r[1]},n&&(t+=dt(n,i)),n=i;break;case"C":i={x:r[4],y:r[5]},n&&(t+=gt(n,{x:r[0],y:r[1]},{x:r[2],y:r[3]},i)),n=i}return t}),0),e=0===t.semIndex?0:1===t.semIndex?i:i/2,2!==t.semIndex&&(o=Math.max(o.attach_plugBackLenSE[t.semIndex]||0,o.line_strokeWidth/2)+t.strokeWidth/2+t.height/4,e=(e+=0===t.semIndex?o:-o)<0?0:i<e?i:e),t.lineOffset&&(e=(e+=t.lineOffset)<0?0:i<e?i:e),r.startOffset=e,Ot(t,s,"startOffset",e)&&(t.elmOffset.startOffset.baseVal.value=e)))},t.updateShow=function(e){n.captionLabel.updateShow(t,e)},j&&(t.adjustEdge=function(e,i){t.bBox&&n.captionLabel.adjustEdge(i,t.bBox,t.strokeWidth/2)}),!0)},getOffsetPathData:function(t,e,n){var i,r,s=[];function o(t,e){return Math.abs(t.x-e.x)<3&&Math.abs(t.y-e.y)<3}return t.forEach((function(t){var n,r,a,l,c,h,u,d,p,f,m;2===t.length?(d=t[0],p=t[1],f=e,m=Math.atan2(d.y-p.y,p.x-d.x)+.5*Math.PI,n=[{x:d.x+Math.cos(m)*f,y:d.y+Math.sin(m)*f*-1},{x:p.x+Math.cos(m)*f,y:p.y+Math.sin(m)*f*-1}],i?(a=i.points,0<=(u=Math.atan2(a[1].y-a[0].y,a[0].x-a[1].x)-Math.atan2(t[0].y-t[1].y,t[1].x-t[0].x))&&u<=Math.PI?r={type:"line",points:n,inside:!0}:(c=ft(a[0],a[1],e),l=ft(n[1],n[0],e),m=(p=c).x-(h=a[0]).x,d=(-(f=p.y-h.y)*(h.x-l.x)+m*(h.y-l.y))/(-(u=(d=n[1]).x-l.x)*f+m*(p=d.y-l.y)),p=(u*(h.y-l.y)-p*(h.x-l.x))/(-u*f+m*p),r=(f=0<=d&&d<=1&&0<=p&&p<=1?{x:h.x+p*m,y:h.y+p*f}:null)?{type:"line",points:[a[1]=f,n[1]]}:(a[1]=o(l,c)?l:c,{type:"line",points:[l,n[1]]}),i.len=dt(a[0],a[1]))):r={type:"line",points:n},r.len=dt(r.points[0],r.points[1]),s.push(i=r)):(s.push({type:"cubic",points:function(t,e,n,i,r,s){for(var o,a,l=gt(t,e,n,i)/16,c=1/(16<r?r/16*l:l),h=[],u=0;a=(90-(o=mt(t,e,n,i,u)).angle)*(Math.PI/180),h.push({x:o.x+Math.cos(a)*r,y:o.y+Math.sin(a)*r*-1}),!(1<=u);)1<(u+=c)&&(u=1);return h}(t[0],t[1],t[2],t[3],e)}),i=null)})),i=null,s.forEach((function(t){var r;i="line"===t.type?(t.inside&&(i.len>e?((r=i.points)[1]=ft(r[0],r[1],-e),i.len=dt(r[0],r[1])):(i.points=null,i.len=0),t.len>e+n?((r=t.points)[0]=ft(r[1],r[0],-(e+n)),t.len=dt(r[0],r[1])):(t.points=null,t.len=0)),t):null})),s.reduce((function(t,e){var n=e.points;return n&&(r&&o(n[0],r)||t.push({type:"M",values:[n[0].x,n[0].y]}),"line"===e.type?t.push({type:"L",values:[n[1].x,n[1].y]}):(n.shift(),n.forEach((function(e){t.push({type:"L",values:[e.x,e.y]})}))),r=n[n.length-1]),t}),[])},newText:function(t,e,n,i){var r,s,o,a,c=e.createElementNS(F,"defs"),h=c.appendChild(e.createElementNS(F,"path"));return h.id=r=n+"-path",(o=(s=e.createElementNS(F,"text")).appendChild(e.createElementNS(F,"textPath"))).href.baseVal="#"+r,o.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.textContent=t,"boolean"!=typeof l&&(l="paintOrder"in s.style),i&&!l?(s.id=t=n+"-text",c.appendChild(s),(a=(n=e.createElementNS(F,"g")).appendChild(e.createElementNS(F,"use"))).href.baseVal="#"+t,(e=n.appendChild(e.createElementNS(F,"use"))).href.baseVal="#"+t,(a=a.style).strokeLinejoin="round",{elmPosition:s,elmPath:h,elmOffset:o,styleText:s.style,styleFill:e.style,styleStroke:a,styleShow:n.style,elmsAppend:[c,n]}):(a=s.style,i&&(a.strokeLinejoin="round",a.paintOrder="stroke"),{elmPosition:s,elmPath:h,elmOffset:o,styleText:a,styleFill:a,styleStroke:i?a:null,styleShow:a,elmsAppend:[c,s]})},initSvg:function(t,e){var i,r,s,o=n.pathLabel.newText(t.text,e.baseWindow.document,C+"-pathLabel-"+t._id,t.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach((function(e){t[e]=o[e]})),t.isShown=!1,t.styleShow.visibility="hidden",n.captionLabel.textStyleProps.forEach((function(e){null!=t[e]&&(o.styleText[e]=t[e])})),o.elmsAppend.forEach((function(t){e.svg.appendChild(t)})),o.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),z&&(s=o.elmOffset.href.baseVal,o.elmOffset.href.baseVal=""),i=o.elmPosition.getBBox(),z&&(o.elmOffset.href.baseVal=s),o.styleText.textAnchor=["start","end","middle"][t.semIndex],2!==t.semIndex||t.lineOffset||o.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),t.height=i.height,t.outlineColor&&(o.styleStroke.strokeWidth=(r=10<(r=i.height/9)?10:r<2?2:r)+"px",o.styleStroke.stroke=t.outlineColor),t.strokeWidth=r||0,Tt(t.aplStats,n.pathLabel.stats),t.updateColor(e),t.updatePath(e),t.updateStartOffset(e),j&&Mt(e,{}),t.updateShow(e)},bind:function(t,e){var i=e.props;return t.color||wt(i,"cur_line_color",t.updateColor),wt(i,"cur_line_strokeWidth",t.updatePath),wt(i,"apl_path",t.updatePath),t.semIndex="startLabel"===e.optionName?0:"endLabel"===e.optionName?1:2,2===t.semIndex&&!t.lineOffset||wt(i,"cur_attach_plugBackLenSE",t.updateStartOffset),wt(i,"svgShow",t.updateShow),j&&wt(i,"new_edge4viewBox",t.adjustEdge),n.pathLabel.initSvg(t,i),!0},unbind:function(t,e){var i=e.props;t.elmsAppend&&(t.elmsAppend.forEach((function(t){i.svg.removeChild(t)})),t.elmPosition=t.elmPath=t.elmOffset=t.styleFill=t.styleShow=t.elmsAppend=null),Tt(t.curStats,n.pathLabel.stats),Tt(t.aplStats,n.pathLabel.stats),t.color||xt(i,"cur_line_color",t.updateColor),xt(i,"cur_line_strokeWidth",t.updatePath),xt(i,"apl_path",t.updatePath),2===t.semIndex&&!t.lineOffset||xt(i,"cur_attach_plugBackLenSE",t.updateStartOffset),xt(i,"svgShow",t.updateShow),j&&(xt(i,"new_edge4viewBox",t.adjustEdge),Mt(i,{}))},removeOption:function(t,e){var n=e.props,i={};i[e.optionName]="",Vt(n,i)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach((function(e){n.pathLabel.unbind(t,e)})))}}},Object.keys(n).forEach((function(t){zt[t]=function(){return new i(n[t],Array.prototype.slice.call(arguments))}})),zt.positionByWindowResize=!0,window.addEventListener("resize",G.add((function(){zt.positionByWindowResize&&Object.keys(Q).forEach((function(t){Mt(Q[t],{position:!0})}))})),!1)}()},"8/JR":function(t,e,n){"use strict";var i=n("8T9/"),r=n("Ibf7");t.exports=function(t,e){var n=e||{},s={};return void 0===t&&(t={}),t.on=function(e,n){return s[e]?s[e].push(n):s[e]=[n],t},t.once=function(e,n){return n._once=!0,t.on(e,n),t},t.off=function(e,n){var i=arguments.length;if(1===i)delete s[e];else if(0===i)s={};else{var r=s[e];if(!r)return t;r.splice(r.indexOf(n),1)}return t},t.emit=function(){var e=i(arguments);return t.emitterSnapshot(e.shift()).apply(this,e)},t.emitterSnapshot=function(e){var o=(s[e]||[]).slice(0);return function(){var s=i(arguments),a=this||t;if("error"===e&&!1!==n.throws&&!o.length)throw 1===s.length?s[0]:s;return o.forEach((function(i){n.async?r(i,s,a):i.apply(a,s),i._once&&t.off(e,i)})),t}},t}},"8T9/":function(t,e){t.exports=function(t,e){return Array.prototype.slice.call(t,e)}},"9/5/":function(t,e){var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt,a="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),h=Object.prototype.toString,u=Math.max,d=Math.min,p=function(){return c.Date.now()};function f(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function m(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==h.call(t)}(t))return NaN;if(f(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=f(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(n,"");var a=r.test(t);return a||s.test(t)?o(t.slice(2),a?2:8):i.test(t)?NaN:+t}t.exports=function(t,e,n){var i,r,s,o,a,l,c=0,h=!1,g=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=i,s=r;return i=r=void 0,c=e,o=t.apply(s,n)}function b(t){return c=t,a=setTimeout(w,e),h?y(t):o}function _(t){var n=t-l;return void 0===l||n>=e||n<0||g&&t-c>=s}function w(){var t=p();if(_(t))return x(t);a=setTimeout(w,function(t){var n=e-(t-l);return g?d(n,s-(t-c)):n}(t))}function x(t){return a=void 0,v&&i?y(t):(i=r=void 0,o)}function C(){var t=p(),n=_(t);if(i=arguments,r=this,l=t,n){if(void 0===a)return b(l);if(g)return a=setTimeout(w,e),y(l)}return void 0===a&&(a=setTimeout(w,e)),o}return e=m(e)||0,f(n)&&(h=!!n.leading,s=(g="maxWait"in n)?u(m(n.maxWait)||0,e):s,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},C.flush=function(){return void 0===a?o:x(p())},C}},EcEN:function(t,e,n){var i=n("xDdU"),r=n("xk4V"),s=r;s.v1=i,s.v4=r,t.exports=s},Ekho:function(t,e,n){var i,r,s;(function(){var n,o,a,l,c,h,u,d,p,f,m,g,v,y,b;a=Math.floor,f=Math.min,o=function(t,e){return t<e?-1:t>e?1:0},p=function(t,e,n,i,r){var s;if(null==n&&(n=0),null==r&&(r=o),n<0)throw new Error("lo must be non-negative");for(null==i&&(i=t.length);n<i;)r(e,t[s=a((n+i)/2)])<0?i=s:n=s+1;return[].splice.apply(t,[n,n-n].concat(e)),e},h=function(t,e,n){return null==n&&(n=o),t.push(e),y(t,0,t.length-1,n)},c=function(t,e){var n,i;return null==e&&(e=o),n=t.pop(),t.length?(i=t[0],t[0]=n,b(t,0,e)):i=n,i},d=function(t,e,n){var i;return null==n&&(n=o),i=t[0],t[0]=e,b(t,0,n),i},u=function(t,e,n){var i;return null==n&&(n=o),t.length&&n(t[0],e)<0&&(e=(i=[t[0],e])[0],t[0]=i[1],b(t,0,n)),e},l=function(t,e){var n,i,r,s,l;for(null==e&&(e=o),s=[],n=0,i=(r=(function(){l=[];for(var e=0,n=a(t.length/2);0<=n?e<n:e>n;0<=n?e++:e--)l.push(e);return l}).apply(this).reverse()).length;n<i;n++)s.push(b(t,r[n],e));return s},v=function(t,e,n){var i;if(null==n&&(n=o),-1!==(i=t.indexOf(e)))return y(t,0,i,n),b(t,i,n)},m=function(t,e,n){var i,r,s,a;if(null==n&&(n=o),!(i=t.slice(0,e)).length)return i;for(l(i,n),r=0,s=(a=t.slice(e)).length;r<s;r++)u(i,a[r],n);return i.sort(n).reverse()},g=function(t,e,n){var i,r,s,a,h,u,d,m,g;if(null==n&&(n=o),10*e<=t.length){if(!(s=t.slice(0,e).sort(n)).length)return s;for(r=s[s.length-1],a=0,u=(d=t.slice(e)).length;a<u;a++)n(i=d[a],r)<0&&(p(s,i,0,null,n),s.pop(),r=s[s.length-1]);return s}for(l(t,n),g=[],h=0,m=f(e,t.length);0<=m?h<m:h>m;0<=m?++h:--h)g.push(c(t,n));return g},y=function(t,e,n,i){var r,s,a;for(null==i&&(i=o),r=t[n];n>e&&i(r,s=t[a=n-1>>1])<0;)t[n]=s,n=a;return t[n]=r},b=function(t,e,n){var i,r,s,a,l;for(null==n&&(n=o),r=t.length,l=e,s=t[e],i=2*e+1;i<r;)(a=i+1)<r&&!(n(t[i],t[a])<0)&&(i=a),t[e]=t[i],i=2*(e=i)+1;return t[e]=s,y(t,l,e,n)},n=function(){function t(t){this.cmp=null!=t?t:o,this.nodes=[]}return t.push=h,t.pop=c,t.replace=d,t.pushpop=u,t.heapify=l,t.updateItem=v,t.nlargest=m,t.nsmallest=g,t.prototype.push=function(t){return h(this.nodes,t,this.cmp)},t.prototype.pop=function(){return c(this.nodes,this.cmp)},t.prototype.peek=function(){return this.nodes[0]},t.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},t.prototype.replace=function(t){return d(this.nodes,t,this.cmp)},t.prototype.pushpop=function(t){return u(this.nodes,t,this.cmp)},t.prototype.heapify=function(){return l(this.nodes,this.cmp)},t.prototype.updateItem=function(t){return v(this.nodes,t,this.cmp)},t.prototype.clear=function(){return this.nodes=[]},t.prototype.empty=function(){return 0===this.nodes.length},t.prototype.size=function(){return this.nodes.length},t.prototype.clone=function(){var e;return(e=new t).nodes=this.nodes.slice(0),e},t.prototype.toArray=function(){return this.nodes.slice(0)},t.prototype.insert=t.prototype.push,t.prototype.top=t.prototype.peek,t.prototype.front=t.prototype.peek,t.prototype.has=t.prototype.contains,t.prototype.copy=t.prototype.clone,t}(),r=[],void 0===(s="function"==typeof(i=function(){return n})?i.apply(e,r):i)||(t.exports=s)}).call(this)},F1pL:function(t,e,n){t.exports=n("Ekho")},Gjsa:function(t,e){var n="function"==typeof setImmediate;t.exports=n?function(t){setImmediate(t)}:function(t){setTimeout(t,0)}},I2ZF:function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);t.exports=function(t,e){var i=e||0;return[n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],"-",n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]],n[t[i++]]].join("")}},Iab2:function(t,e,n){var i,r;void 0===(r="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){o(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,s=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,s,o){var a=r.URL||r.webkitURL,l=document.createElement("a");l.download=s=s||t.name||"download",l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?i(l):n(l.href)?e(t,s,o):i(l,l.target="_blank")):(l.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,r,s){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,s),r);else if(n(t))e(t,r,s);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){i(o)}))}}:function(t,n,i,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var a="application/octet-stream"===t.type,l=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||s)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var t=h.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},h.readAsDataURL(t)}else{var u=r.URL||r.webkitURL,d=u.createObjectURL(t);o?o.location=d:location.href=d,o=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});r.saveAs=o.saveAs=o,t.exports=o})?i.apply(e,[]):i)||(t.exports=r)},Ibf7:function(t,e,n){"use strict";var i=n("Gjsa");t.exports=function(t,e,n){t&&i((function(){t.apply(n||null,e||[])}))}},KRns:function(t,e){var n=global.CustomEvent;t.exports=function(){try{var t=new n("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(e){}return!1}()?n:"function"==typeof document.createEvent?function(t,e){var n=document.createEvent("CustomEvent");return e?n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail):n.initCustomEvent(t,!1,!1,void 0),n}:function(t,e){var n=document.createEventObject();return n.type=t,e?(n.bubbles=Boolean(e.bubbles),n.cancelable=Boolean(e.cancelable),n.detail=e.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}},PzH3:function(t,e,n){"use strict";var i=n("KRns"),r=n("Ys8N"),s=global.document,o=function(t,e,n,i){return t.addEventListener(e,n,i)},a=function(t,e,n,i){return t.removeEventListener(e,n,i)},l=[];function c(t,e,n){var i=function(t,e,n){var i,r;for(i=0;i<l.length;i++)if((r=l[i]).element===t&&r.type===e&&r.fn===n)return i}(t,e,n);if(i){var r=l[i].wrapper;return l.splice(i,1),r}}global.addEventListener||(o=function(t,e,n){return t.attachEvent("on"+e,function(t,e,n){var i=c(t,e,n)||function(t,e,n){return function(e){var i=e||global.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,n.call(t,i)}}(t,0,n);return l.push({wrapper:i,element:t,type:e,fn:n}),i}(t,e,n))},a=function(t,e,n){var i=c(t,e,n);if(i)return t.detachEvent("on"+e,i)}),t.exports={add:o,remove:a,fabricate:function(t,e,n){var o=-1===r.indexOf(e)?new i(e,{detail:n}):function(){var t;return s.createEvent?(t=s.createEvent("Event")).initEvent(e,!0,!0):s.createEventObject&&(t=s.createEventObject()),t}();t.dispatchEvent?t.dispatchEvent(o):t.fireEvent("on"+e,o)}}},ROFb:function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var r=i(n("9/5/")),s=i(n("F1pL"));function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(i=(o=a.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(l){r=!0,s=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw s}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d="undefined"==typeof window?null:window,p=d?d.navigator:null,f=o(""),m=o({}),g=o((function(){})),v="undefined"==typeof HTMLElement?"undefined":o(HTMLElement),y=function(t){return t&&t.instanceString&&_(t.instanceString)?t.instanceString():null},b=function(t){return null!=t&&o(t)==f},_=function(t){return null!=t&&o(t)===g},w=function(t){return!k(t)&&(Array.isArray?Array.isArray(t):null!=t&&t instanceof Array)},x=function(t){return null!=t&&o(t)===m&&!w(t)&&t.constructor===Object},C=function(t){return null!=t&&o(t)===o(1)&&!isNaN(t)},S=function(t){return"undefined"===v?void 0:null!=t&&t instanceof HTMLElement},k=function(t){return E(t)||I(t)},E=function(t){return"collection"===y(t)&&t._private.single},I=function(t){return"collection"===y(t)&&!t._private.single},T=function(t){return"core"===y(t)},O=function(t){return"stylesheet"===y(t)},D=function(t){return null==t||!(""!==t&&!t.match(/^\s+$/))},A=function(t){return function(t){return null!=t&&o(t)===m}(t)&&_(t.then)},R=function(t,e){e||(e=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);return t.join("$")});var n=function n(){var i,r=this,s=arguments,o=e.apply(r,s),a=n.cache;return(i=a[o])||(i=a[o]=t.apply(r,s)),i};return n.cache={},n},P=R((function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))})),M=R((function(t){return t.replace(/(-\w)/g,(function(t){return t[1].toUpperCase()}))})),L=R((function(t,e){return t+e[0].toUpperCase()+e.substring(1)}),(function(t,e){return t+"$"+e})),N=function(t){return D(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},F="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",B=function(t,e){return t<e?-1:t>e?1:0},V=null!=Object.assign?Object.assign.bind(Object):function(t){for(var e=arguments,n=1;n<e.length;n++){var i=e[n];if(null!=i)for(var r=Object.keys(i),s=0;s<r.length;s++){var o=r[s];t[o]=i[o]}}return t},z={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},j=function(t){for(var e=t.map,n=t.keys,i=n.length,r=0;r<i;r++){var s=n[r];if(x(s))throw Error("Tried to set map with object key");r<n.length-1?(null==e[s]&&(e[s]={}),e=e[s]):e[s]=t.value}},H=function(t){for(var e=t.map,n=t.keys,i=n.length,r=0;r<i;r++){var s=n[r];if(x(s))throw Error("Tried to get map with object key");if(null==(e=e[s]))return e}return e},U=d?d.performance:null,$=U&&U.now?function(){return U.now()}:function(){return Date.now()},q=function(){if(d){if(d.requestAnimationFrame)return function(t){d.requestAnimationFrame(t)};if(d.mozRequestAnimationFrame)return function(t){d.mozRequestAnimationFrame(t)};if(d.webkitRequestAnimationFrame)return function(t){d.webkitRequestAnimationFrame(t)};if(d.msRequestAnimationFrame)return function(t){d.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout((function(){t($())}),1e3/60)}}(),W=function(t){return q(t)},G=$,Y=65599,X=function(t){for(var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261,i=n;!(e=t.next()).done;)i=i*Y+e.value|0;return i},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261;return e*Y+t|0},Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;return(e<<5)+e+t|0},Q=function(t){return 2097152*t[0]+t[1]},J=function(t,e){return[K(t[0],e[0]),Z(t[1],e[1])]},tt=function(t,e){var n={value:0,done:!1},i=0,r=t.length;return X({next:function(){return i<r?n.value=t.charCodeAt(i++):n.done=!0,n}},e)},et=function(){return nt(arguments)},nt=function(t){for(var e,n=0;n<t.length;n++){var i=t[n];e=0===n?tt(i):tt(i,e)}return e},it=!0,rt=null!=console.warn,st=null!=console.trace,ot=Number.MAX_SAFE_INTEGER||9007199254740991,at=function(){return!0},lt=function(){return!1},ct=function(){return 0},ht=function(){},ut=function(t){throw new Error(t)},dt=function(t){if(void 0===t)return it;it=!!t},pt=function(t){dt()&&(rt?console.warn(t):(console.log(t),st&&console.trace()))},ft=function(t){return null==t?t:w(t)?t.slice():x(t)?function(t){return V({},t)}(t):t},mt=function(t,e){for(e=t="";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e},gt={},vt=function(){return gt},yt=function(t){var e=Object.keys(t);return function(n){for(var i={},r=0;r<e.length;r++){var s=e[r],o=null==n?void 0:n[s];i[s]=void 0===o?t[s]:o}return i}},bt=function(t,e,n){for(var i=t.length-1;i>=0&&(t[i]!==e||(t.splice(i,1),!n));i--);},_t=function(t){t.splice(0,t.length)},wt=function(t,e,n){return n&&(e=L(n,e)),t[e]},xt=function(t,e,n,i){n&&(e=L(n,e)),t[e]=i},Ct="undefined"!=typeof Map?Map:function(){function t(){a(this,t),this._obj={}}return c(t,[{key:"set",value:function(t,e){return this._obj[t]=e,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return void 0!==this._obj[t]}},{key:"get",value:function(t){return this._obj[t]}}]),t}(),St=function(){function t(e){if(a(this,t),this._obj=Object.create(null),this.size=0,null!=e){var n;n=null!=e.instanceString&&e.instanceString()===this.instanceString()?e.toArray():e;for(var i=0;i<n.length;i++)this.add(n[i])}}return c(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var e=this._obj;1!==e[t]&&(e[t]=1,this.size++)}},{key:"delete",value:function(t){var e=this._obj;1===e[t]&&(e[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return 1===this._obj[t]}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter((function(e){return t.has(e)}))}},{key:"forEach",value:function(t,e){return this.toArray().forEach(t,e)}}]),t}(),kt="undefined"!==("undefined"==typeof Set?"undefined":o(Set))?Set:St,Et=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==t&&void 0!==e&&T(t)){var i=e.group;if(null==i&&(i=e.data&&null!=e.data.source&&null!=e.data.target?"edges":"nodes"),"nodes"===i||"edges"===i){this.length=1,this[0]=this;var r=this._private={cy:t,single:!0,data:e.data||{},position:e.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!e.selected,selectable:void 0===e.selectable||!!e.selectable,locked:!!e.locked,grabbed:!1,grabbable:void 0===e.grabbable||!!e.grabbable,pannable:void 0===e.pannable?"edges"===i:!!e.pannable,active:!1,classes:new kt,animation:{current:[],queue:[]},rscratch:{},scratch:e.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==r.position.x&&(r.position.x=0),null==r.position.y&&(r.position.y=0),e.renderedPosition){var s=e.renderedPosition,o=t.pan(),a=t.zoom();r.position={x:(s.x-o.x)/a,y:(s.y-o.y)/a}}var l=[];w(e.classes)?l=e.classes:b(e.classes)&&(l=e.classes.split(/\s+/));for(var c=0,h=l.length;c<h;c++){var u=l[c];u&&""!==u&&r.classes.add(u)}this.createEmitter();var d=e.style||e.css;d&&(pt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d)),(void 0===n||n)&&this.restore()}else ut("An element must be of type `nodes` or `edges`; you specified `"+i+"`")}else ut("An element must have a core reference and parameters set")},It=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(e,n,i){var r;x(e)&&!k(e)&&(e=(r=e).roots||r.root,n=r.visit,i=r.directed),i=2!==arguments.length||_(n)?i:n,n=_(n)?n:function(){};for(var s,o=this._private.cy,a=e=b(e)?this.filter(e):e,l=[],c=[],h={},u={},d={},p=0,f=this.byGroup(),m=f.nodes,g=f.edges,v=0;v<a.length;v++){var y=a[v],w=y.id();y.isNode()&&(l.unshift(y),t.bfs&&(d[w]=!0,c.push(y)),u[w]=0)}var C=function(){var e=t.bfs?l.shift():l.pop(),r=e.id();if(t.dfs){if(d[r])return"continue";d[r]=!0,c.push(e)}var o,a=u[r],f=h[r],v=null!=f?f.source():null,y=null!=f?f.target():null,b=null==f?void 0:e.same(v)?y[0]:v[0];if(!0===(o=n(e,f,b,p++,a)))return s=e,"break";if(!1===o)return"break";for(var _=e.connectedEdges().filter((function(t){return(!i||t.source().same(e))&&g.has(t)})),w=0;w<_.length;w++){var x=_[w],C=x.connectedNodes().filter((function(t){return!t.same(e)&&m.has(t)})),S=C.id();0===C.length||d[S]||(l.push(C=C[0]),t.bfs&&(d[S]=!0,c.push(C)),h[S]=x,u[S]=u[r]+1)}};t:for(;0!==l.length;){var S=C();switch(S){case"continue":continue;case"break":break t}}for(var E=o.collection(),I=0;I<c.length;I++){var T=c[I],O=h[T.id()];null!=O&&E.push(O),E.push(T)}return{path:o.collection(E),found:o.collection(s)}}},Tt={breadthFirstSearch:It({bfs:!0}),depthFirstSearch:It({dfs:!0})};Tt.bfs=Tt.breadthFirstSearch,Tt.dfs=Tt.depthFirstSearch;var Ot=yt({root:null,weight:function(t){return 1},directed:!1}),Dt={dijkstra:function(t){if(!x(t)){var e=arguments;t={root:e[0],weight:e[1],directed:e[2]}}var n=Ot(t),i=n.root,r=n.weight,o=n.directed,a=this,l=r,c=b(i)?this.filter(i)[0]:i[0],h={},u={},d={},p=this.byGroup(),f=p.nodes,m=p.edges;m.unmergeBy((function(t){return t.isLoop()}));for(var g=function(t){return h[t.id()]},v=function(t,e){h[t.id()]=e,y.updateItem(t)},y=new s((function(t,e){return g(t)-g(e)})),_=0;_<f.length;_++){var w=f[_];h[w.id()]=w.same(c)?0:1/0,y.push(w)}for(var C=function(t,e){for(var n,i=(o?t.edgesTo(e):t.edgesWith(e)).intersect(m),r=1/0,s=0;s<i.length;s++){var a=i[s],c=l(a);(c<r||!n)&&(r=c,n=a)}return{edge:n,dist:r}};y.size()>0;){var S=y.pop(),k=g(S),E=S.id();if(d[E]=k,k!==1/0)for(var I=S.neighborhood().intersect(f),T=0;T<I.length;T++){var O=I[T],D=O.id(),A=C(S,O),R=k+A.dist;R<g(O)&&(v(O,R),u[D]={node:S,edge:A.edge})}}return{distanceTo:function(t){var e=b(t)?f.filter(t)[0]:t[0];return d[e.id()]},pathTo:function(t){var e=b(t)?f.filter(t)[0]:t[0],n=[],i=e,r=i.id();if(e.length>0)for(n.unshift(e);u[r];){var s=u[r];n.unshift(s.edge),n.unshift(s.node),r=(i=s.node).id()}return a.spawn(n)}}}},At={kruskal:function(t){t=t||function(t){return 1};for(var e=this.byGroup(),n=e.nodes,i=e.edges,r=n.length,s=new Array(r),o=n,a=function(t){for(var e=0;e<s.length;e++)if(s[e].has(t))return e},l=0;l<r;l++)s[l]=this.spawn(n[l]);for(var c=i.sort((function(e,n){return t(e)-t(n)})),h=0;h<c.length;h++){var u=c[h],d=u.source()[0],p=u.target()[0],f=a(d),m=a(p),g=s[f],v=s[m];f!==m&&(o.merge(u),g.merge(v),s.splice(m,1))}return o}},Rt=yt({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),Pt={aStar:function(t){var e=this.cy(),n=Rt(t),i=n.root,r=n.goal,o=n.heuristic,a=n.directed,l=n.weight;i=e.collection(i)[0],r=e.collection(r)[0];var c,h,u=i.id(),d=r.id(),p={},f={},m={},g=new s((function(t,e){return f[t.id()]-f[e.id()]})),v=new kt,y={},b={},_=function(t,e){g.push(t),v.add(e)};_(i,u),p[u]=0,f[u]=o(i);for(var w=0;g.size()>0;){if(h=(c=g.pop()).id(),v.delete(h),w++,h===d){for(var x=[],C=r,S=d,k=b[S];x.unshift(C),null!=k&&x.unshift(k),null!=(C=y[S]);)k=b[S=C.id()];return{found:!0,distance:p[h],path:this.spawn(x),steps:w}}m[h]=!0;for(var E=c._private.edges,I=0;I<E.length;I++){var T=E[I];if(this.hasElementWithId(T.id())&&(!a||T.data("source")===h)){var O=T.source(),D=T.target(),A=O.id()!==h?O:D,R=A.id();if(this.hasElementWithId(R)&&!m[R]){var P=p[h]+l(T);v.has(R)?P<p[R]&&(p[R]=P,f[R]=P+o(A),y[R]=c,b[R]=T):(p[R]=P,f[R]=P+o(A),_(A,R),y[R]=c,b[R]=T)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},Mt=yt({weight:function(t){return 1},directed:!1}),Lt={floydWarshall:function(t){for(var e=this.cy(),n=Mt(t),i=n.directed,r=n.weight,s=this.byGroup(),o=s.nodes,a=s.edges,l=o.length,c=l*l,h=function(t){return o.indexOf(t)},u=function(t){return o[t]},d=new Array(c),p=0;p<c;p++){var f=p%l;d[p]=(p-f)/l===f?0:1/0}for(var m=new Array(c),g=new Array(c),v=0;v<a.length;v++){var y=a[v],_=y.source()[0],w=y.target()[0];if(_!==w){var x=h(_),C=h(w),S=x*l+C,k=r(y);if(d[S]>k&&(d[S]=k,m[S]=C,g[S]=y),!i){var E=C*l+x;!i&&d[E]>k&&(d[E]=k,m[E]=x,g[E]=y)}}}for(var I=0;I<l;I++)for(var T=0;T<l;T++)for(var O=T*l+I,D=0;D<l;D++){var A=T*l+D,R=I*l+D;d[O]+d[R]<d[A]&&(d[A]=d[O]+d[R],m[A]=m[O])}var P=function(t){return h(function(t){return(b(t)?e.filter(t):t)[0]}(t))};return{distance:function(t,e){var n=P(t),i=P(e);return d[n*l+i]},path:function(t,n){var i=P(t),r=P(n),s=u(i);if(i===r)return s.collection();if(null==m[i*l+r])return e.collection();var o=e.collection();for(o.merge(s);i!==r;)o.merge(g[i*l+(i=m[i*l+r])]),o.merge(u(i));return o}}}},Nt=yt({weight:function(t){return 1},directed:!1,root:null}),Ft={bellmanFord:function(t){var e=this,n=Nt(t),i=n.directed,r=n.root,s=n.weight,o=this,a=this.cy(),l=this.byGroup(),c=l.edges,h=l.nodes,u=h.length,d=new Ct,p=!1;r=a.collection(r)[0],c.unmergeBy((function(t){return t.isLoop()}));for(var f=c.length,m=function(t){var e=d.get(t.id());return e||(e={},d.set(t.id(),e)),e},g=function(t){return(b(t)?a.$(t):t)[0]},v=0;v<u;v++){var y=h[v],_=m(y);_.dist=y.same(r)?0:1/0,_.pred=null,_.edge=null}for(var w=!1,x=function(t,e,n,i,r,s){var o=i.dist+s;o<r.dist&&!n.same(i.edge)&&(r.dist=o,r.pred=t,r.edge=n,w=!0)},C=1;C<u;C++){w=!1;for(var S=0;S<f;S++){var k=c[S],E=k.source(),I=k.target(),T=s(k),O=m(E),D=m(I);x(E,0,k,O,D,T),i||x(I,0,k,D,O,T)}if(!w)break}if(w)for(var A=0;A<f;A++){var R=c[A],P=R.source(),M=R.target(),L=s(R),N=m(P).dist,F=m(M).dist;if(N+L<F||!i&&F+L<N){pt("Graph contains a negative weight cycle for Bellman-Ford"),p=!0;break}}return{distanceTo:function(t){return m(g(t)).dist},pathTo:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=g(t),s=[],a=i;;){if(null==a)return e.spawn();var l=m(a),c=l.edge,h=l.pred;if(s.unshift(a[0]),a.same(n)&&s.length>0)break;null!=c&&s.unshift(c),a=h}return o.spawn(s)},hasNegativeWeightCycle:p,negativeWeightCycles:[]}}},Bt=Math.sqrt(2),Vt=function(t,e,n){0===n.length&&ut("Karger-Stein must be run on a connected (sub)graph");for(var i=n[t],r=e[i[1]],s=e[i[2]],o=n,a=o.length-1;a>=0;a--){var l=o[a],c=l[1],h=l[2];(e[c]===r&&e[h]===s||e[c]===s&&e[h]===r)&&o.splice(a,1)}for(var u=0;u<o.length;u++){var d=o[u];d[1]===s?(o[u]=d.slice(),o[u][1]=r):d[2]===s&&(o[u]=d.slice(),o[u][2]=r)}for(var p=0;p<e.length;p++)e[p]===s&&(e[p]=r);return o},zt=function(t,e,n,i){for(;n>i;){var r=Math.floor(Math.random()*e.length);e=Vt(r,t,e),n--}return e},jt={kargerStein:function(){var t=this,e=this.byGroup(),n=e.nodes,i=e.edges;i.unmergeBy((function(t){return t.isLoop()}));var r=n.length,s=i.length,o=Math.ceil(Math.pow(Math.log(r)/Math.LN2,2)),a=Math.floor(r/Bt);if(!(r<2)){for(var l=[],c=0;c<s;c++){var h=i[c];l.push([c,n.indexOf(h.source()),n.indexOf(h.target())])}for(var u=1/0,d=[],p=new Array(r),f=new Array(r),m=new Array(r),g=function(t,e){for(var n=0;n<r;n++)e[n]=t[n]},v=0;v<=o;v++){for(var y=0;y<r;y++)f[y]=y;var b=zt(f,l.slice(),r,a),_=b.slice();g(f,m);var w=zt(f,b,a,2),x=zt(m,_,a,2);w.length<=x.length&&w.length<u?(u=w.length,d=w,g(f,p)):x.length<=w.length&&x.length<u&&(u=x.length,d=x,g(m,p))}for(var C=this.spawn(d.map((function(t){return i[t[0]]}))),S=this.spawn(),k=this.spawn(),E=p[0],I=0;I<p.length;I++){var T=n[I];p[I]===E?S.merge(T):k.merge(T)}var O=function(e){var n=t.spawn();return e.forEach((function(e){n.merge(e),e.connectedEdges().forEach((function(e){t.contains(e)&&!C.contains(e)&&n.merge(e)}))})),n},D=[O(S),O(k)];return{cut:C,components:D,partition1:S,partition2:k}}ut("At least 2 nodes are required for Karger-Stein algorithm")}},Ht=function(t,e,n){return{x:t.x*e+n.x,y:t.y*e+n.y}},Ut=function(t,e,n){return{x:(t.x-n.x)/e,y:(t.y-n.y)/e}},$t=function(t){return{x:t[0],y:t[1]}},qt=function(t,e){return Math.atan2(e,t)-Math.PI/2},Wt=Math.log2||function(t){return Math.log(t)/Math.log(2)},Gt=function(t){return t>0?1:t<0?-1:0},Yt=function(t,e){return Math.sqrt(Xt(t,e))},Xt=function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},Kt=function(t){for(var e=t.length,n=0,i=0;i<e;i++)n+=t[i];for(var r=0;r<e;r++)t[r]=t[r]/n;return t},Zt=function(t,e,n,i){return(1-i)*(1-i)*t+2*(1-i)*i*e+i*i*n},Qt=function(t,e,n,i){return{x:Zt(t.x,e.x,n.x,i),y:Zt(t.y,e.y,n.y,i)}},Jt=function(t,e,n){return Math.max(t,Math.min(n,e))},te=function(t){if(null==t)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=t.x1&&null!=t.y1){if(null!=t.x2&&null!=t.y2&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(null!=t.w&&null!=t.h&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},ee=function(t,e,n){t.x1=Math.min(t.x1,e),t.x2=Math.max(t.x2,e),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},ne=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.x1-=e,t.x2+=e,t.y1-=e,t.y2+=e,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},ie=function(t){var e,n,i,r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===s.length)e=n=i=r=s[0];else if(2===s.length)e=i=s[0],r=n=s[1];else if(4===s.length){var o=u(s,4);e=o[0],n=o[1],i=o[2],r=o[3]}return t.x1-=r,t.x2+=n,t.y1-=e,t.y2+=i,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},re=function(t,e){t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},se=function(t,e){return!(t.x1>e.x2||e.x1>t.x2||t.x2<e.x1||e.x2<t.x1||t.y2<e.y1||e.y2<t.y1||t.y1>e.y2||e.y1>t.y2)},oe=function(t,e,n){return t.x1<=e&&e<=t.x2&&t.y1<=n&&n<=t.y2},ae=function(t,e){return oe(t,e.x1,e.y1)&&oe(t,e.x2,e.y2)},le=function(t,e,n,i,r,s,o){var a,l=Ee(r,s),c=r/2,h=s/2,u=i-h-o;if((a=_e(t,e,n,i,n-c+l-o,u,n+c-l+o,u,!1)).length>0)return a;var d=n+c+o;if((a=_e(t,e,n,i,d,i-h+l-o,d,i+h-l+o,!1)).length>0)return a;var p=i+h+o;if((a=_e(t,e,n,i,n-c+l-o,p,n+c-l+o,p,!1)).length>0)return a;var f,m=n-c-o;if((a=_e(t,e,n,i,m,i-h+l-o,m,i+h-l+o,!1)).length>0)return a;var g=n-c+l,v=i-h+l;if((f=ye(t,e,n,i,g,v,l+o)).length>0&&f[0]<=g&&f[1]<=v)return[f[0],f[1]];var y=n+c-l,b=i-h+l;if((f=ye(t,e,n,i,y,b,l+o)).length>0&&f[0]>=y&&f[1]<=b)return[f[0],f[1]];var _=n+c-l,w=i+h-l;if((f=ye(t,e,n,i,_,w,l+o)).length>0&&f[0]>=_&&f[1]>=w)return[f[0],f[1]];var x=n-c+l,C=i+h-l;return(f=ye(t,e,n,i,x,C,l+o)).length>0&&f[0]<=x&&f[1]>=C?[f[0],f[1]]:[]},ce=function(t,e,n,i,r,s,o){var a=o,l=Math.min(n,r),c=Math.max(n,r),h=Math.min(i,s),u=Math.max(i,s);return l-a<=t&&t<=c+a&&h-a<=e&&e<=u+a},he=function(t,e,n,i,r,s,o,a,l){var c=Math.min(n,o,r)-l,h=Math.max(n,o,r)+l,u=Math.min(i,a,s)-l,d=Math.max(i,a,s)+l;return!(t<c||t>h||e<u||e>d)},ue=function(t,e,n,i,r,s,o,a){var l,c,h,u,d,p,f,m,g,v,y,b,_,w=[];c=9*n*r-3*n*n-3*n*o-6*r*r+3*r*o+9*i*s-3*i*i-3*i*a-6*s*s+3*s*a,h=3*n*n-6*n*r+n*o-n*t+2*r*r+2*r*t-o*t+3*i*i-6*i*s+i*a-i*e+2*s*s+2*s*e-a*e,u=1*n*r-n*n+n*t-r*t+i*s-i*i+i*e-s*e,0==(l=1*n*n-4*n*r+2*n*o+4*r*r-4*r*o+o*o+i*i-4*i*s+2*i*a+4*s*s-4*s*a+a*a)&&(l=1e-5),m=-27*(u/=l)+(c/=l)*(9*(h/=l)-c*c*2),p=(f=(3*h-c*c)/9)*f*f+(m/=54)*m,(d=w)[1]=0,b=c/3,p>0?(v=(v=m+Math.sqrt(p))<0?-Math.pow(-v,1/3):Math.pow(v,1/3),y=(y=m-Math.sqrt(p))<0?-Math.pow(-y,1/3):Math.pow(y,1/3),d[0]=-b+v+y,d[4]=d[2]=-(b+=(v+y)/2),b=Math.sqrt(3)*(-y+v)/2,d[3]=b,d[5]=-b):(d[5]=d[3]=0,0===p?(_=m<0?-Math.pow(-m,1/3):Math.pow(m,1/3),d[0]=2*_-b,d[4]=d[2]=-(_+b)):(g=(f=-f)*f*f,g=Math.acos(m/Math.sqrt(g)),_=2*Math.sqrt(f),d[0]=-b+_*Math.cos(g/3),d[2]=-b+_*Math.cos((g+2*Math.PI)/3),d[4]=-b+_*Math.cos((g+4*Math.PI)/3)));for(var x=[],C=0;C<6;C+=2)Math.abs(w[C+1])<1e-7&&w[C]>=0&&w[C]<=1&&x.push(w[C]);x.push(1),x.push(0);for(var S,k,E,I=-1,T=0;T<x.length;T++)S=Math.pow(1-x[T],2)*n+2*(1-x[T])*x[T]*r+x[T]*x[T]*o,k=Math.pow(1-x[T],2)*i+2*(1-x[T])*x[T]*s+x[T]*x[T]*a,E=Math.pow(S-t,2)+Math.pow(k-e,2),I>=0?E<I&&(I=E):I=E;return I},de=function(t,e,n,i,r,s){var o=[t-n,e-i],a=[r-n,s-i],l=a[0]*a[0]+a[1]*a[1],c=o[0]*o[0]+o[1]*o[1],h=o[0]*a[0]+o[1]*a[1],u=h*h/l;return h<0?c:u>l?(t-r)*(t-r)+(e-s)*(e-s):c-u},pe=function(t,e,n){for(var i,r,s,o,a=0,l=0;l<n.length/2;l++)if(r=n[2*l+1],l+1<n.length/2?(s=n[2*(l+1)],o=n[2*(l+1)+1]):(s=n[2*(l+1-n.length/2)],o=n[2*(l+1-n.length/2)+1]),(i=n[2*l])==t&&s==t);else{if(!(i>=t&&t>=s||i<=t&&t<=s))continue;(t-i)/(s-i)*(o-r)+r>e&&a++}return a%2!=0},fe=function(t,e,n,i,r,s,o,a,l){var c,h=new Array(n.length);null!=a[0]?(c=Math.atan(a[1]/a[0]),a[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=a;for(var u,d=Math.cos(-c),p=Math.sin(-c),f=0;f<h.length/2;f++)h[2*f]=s/2*(n[2*f]*d-n[2*f+1]*p),h[2*f+1]=o/2*(n[2*f+1]*d+n[2*f]*p),h[2*f]+=i,h[2*f+1]+=r;if(l>0){var m=ge(h,-l);u=me(m)}else u=h;return pe(t,e,u)},me=function(t){for(var e,n,i,r,s=new Array(t.length/2),o=0;o<t.length/4;o++){o<t.length/4-1?(e=t[4*(o+1)],n=t[4*(o+1)+1],i=t[4*(o+1)+2],r=t[4*(o+1)+3]):(e=t[0],n=t[1],i=t[2],r=t[3]);var a=_e(t[4*o],t[4*o+1],t[4*o+2],t[4*o+3],e,n,i,r,!0);s[2*o]=a[0],s[2*o+1]=a[1]}return s},ge=function(t,e){for(var n,i,r,s,o=new Array(2*t.length),a=0;a<t.length/2;a++){a<t.length/2-1?(r=t[2*(a+1)],s=t[2*(a+1)+1]):(r=t[0],s=t[1]);var l=s-(i=t[2*a+1]),c=-(r-(n=t[2*a])),h=Math.sqrt(l*l+c*c),u=l/h,d=c/h;o[4*a]=n+u*e,o[4*a+1]=i+d*e,o[4*a+2]=r+u*e,o[4*a+3]=s+d*e}return o},ve=function(t,e,n,i,r,s,o){return t-=r,e-=s,(t/=n/2+o)*t+(e/=i/2+o)*e<=1},ye=function(t,e,n,i,r,s,o){var a=[n-t,i-e],l=[t-r,e-s],c=a[0]*a[0]+a[1]*a[1],h=2*(l[0]*a[0]+l[1]*a[1]),u=h*h-4*c*(l[0]*l[0]+l[1]*l[1]-o*o);if(u<0)return[];var d=(-h+Math.sqrt(u))/(2*c),p=(-h-Math.sqrt(u))/(2*c),f=Math.min(d,p),m=Math.max(d,p),g=[];if(f>=0&&f<=1&&g.push(f),m>=0&&m<=1&&g.push(m),0===g.length)return[];var v=g[0]*a[0]+t,y=g[0]*a[1]+e;return g.length>1?g[0]==g[1]?[v,y]:[v,y,g[1]*a[0]+t,g[1]*a[1]+e]:[v,y]},be=function(t,e,n){return e<=t&&t<=n||n<=t&&t<=e?t:t<=e&&e<=n||n<=e&&e<=t?e:n},_e=function(t,e,n,i,r,s,o,a,l){var c=t-r,h=n-t,u=o-r,d=e-s,p=i-e,f=a-s,m=u*d-f*c,g=h*d-p*c,v=f*h-u*p;if(0!==v){var y=m/v,b=g/v;return-.001<=y&&y<=1.001&&-.001<=b&&b<=1.001||l?[t+y*h,e+y*p]:[]}return 0===m||0===g?be(t,n,o)===o?[o,a]:be(t,n,r)===r?[r,s]:be(r,o,n)===n?[n,i]:[]:[]},we=function(t,e,n,i,r,s,o,a){var l,c,h,u,d=[],p=new Array(n.length),f=!0;if(null==s&&(f=!1),f){for(var m=0;m<p.length/2;m++)p[2*m]=n[2*m]*s+i,p[2*m+1]=n[2*m+1]*o+r;if(a>0){var g=ge(p,-a);c=me(g)}else c=p}else c=n;for(var v=0;v<c.length/2;v++)v<c.length/2-1?(h=c[2*(v+1)],u=c[2*(v+1)+1]):(h=c[0],u=c[1]),0!==(l=_e(t,e,i,r,c[2*v],c[2*v+1],h,u)).length&&d.push(l[0],l[1]);return d},xe=function(t,e,n){var i=[t[0]-e[0],t[1]-e[1]],r=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=(r-n)/r;return s<0&&(s=1e-5),[e[0]+s*i[0],e[1]+s*i[1]]},Ce=function(t,e){var n=ke(t,e);return Se(n)},Se=function(t){for(var e,n,i=t.length/2,r=1/0,s=1/0,o=-1/0,a=-1/0,l=0;l<i;l++)e=t[2*l],n=t[2*l+1],r=Math.min(r,e),o=Math.max(o,e),s=Math.min(s,n),a=Math.max(a,n);for(var c=2/(o-r),h=2/(a-s),u=0;u<i;u++)e=t[2*u]=t[2*u]*c,n=t[2*u+1]=t[2*u+1]*h,r=Math.min(r,e),o=Math.max(o,e),s=Math.min(s,n),a=Math.max(a,n);if(s<-1)for(var d=0;d<i;d++)n=t[2*d+1]=t[2*d+1]+(-1-s);return t},ke=function(t,e){var n=1/t*2*Math.PI,i=t%2==0?Math.PI/2+n/2:Math.PI/2;i+=e;for(var r,s=new Array(2*t),o=0;o<t;o++)r=o*n+i,s[2*o]=Math.cos(r),s[2*o+1]=Math.sin(-r);return s},Ee=function(t,e){return Math.min(t/4,e/4,8)},Ie=function(t,e){return Math.min(t/10,e/10,8)},Te=function(t,e){return{heightOffset:Math.min(15,.05*e),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},Oe=yt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),De={pageRank:function(t){for(var e=Oe(t),n=e.dampingFactor,i=e.precision,r=e.iterations,s=e.weight,o=this._private.cy,a=this.byGroup(),l=a.nodes,c=a.edges,h=l.length,u=c.length,d=new Array(h*h),p=new Array(h),f=(1-n)/h,m=0;m<h;m++){for(var g=0;g<h;g++)d[m*h+g]=0;p[m]=0}for(var v=0;v<u;v++){var y=c[v],b=y.data("source"),_=y.data("target");if(b!==_){var w=l.indexOfId(b),x=l.indexOfId(_),C=s(y);d[x*h+w]+=C,p[w]+=C}}for(var S=1/h+f,k=0;k<h;k++)if(0===p[k])for(var E=0;E<h;E++)d[E*h+k]=S;else for(var I=0;I<h;I++){var T=I*h+k;d[T]=d[T]/p[k]+f}for(var O,D=new Array(h),A=new Array(h),R=0;R<h;R++)D[R]=1;for(var P=0;P<r;P++){for(var M=0;M<h;M++)A[M]=0;for(var L=0;L<h;L++)for(var N=0;N<h;N++)A[L]+=d[L*h+N]*D[N];Kt(A),O=D,D=A,A=O;for(var F=0,B=0;B<h;B++){var V=O[B]-D[B];F+=V*V}if(F<i)break}return{rank:function(t){return t=o.collection(t)[0],D[l.indexOf(t)]}}}},Ae=yt({root:null,weight:function(t){return 1},directed:!1,alpha:0}),Re={degreeCentralityNormalized:function(t){t=Ae(t);var e=this.cy(),n=this.nodes(),i=n.length;if(t.directed){for(var r={},s={},o=0,a=0,l=0;l<i;l++){var c=n[l],h=c.id();t.root=c;var u=this.degreeCentrality(t);o<u.indegree&&(o=u.indegree),a<u.outdegree&&(a=u.outdegree),r[h]=u.indegree,s[h]=u.outdegree}return{indegree:function(t){return 0==o?0:(b(t)&&(t=e.filter(t)),r[t.id()]/o)},outdegree:function(t){return 0===a?0:(b(t)&&(t=e.filter(t)),s[t.id()]/a)}}}for(var d={},p=0,f=0;f<i;f++){var m=n[f];t.root=m;var g=this.degreeCentrality(t);p<g.degree&&(p=g.degree),d[m.id()]=g.degree}return{degree:function(t){return 0===p?0:(b(t)&&(t=e.filter(t)),d[t.id()]/p)}}},degreeCentrality:function(t){t=Ae(t);var e=this.cy(),n=this,i=t.root,r=t.weight,s=t.directed,o=t.alpha;if(i=e.collection(i)[0],s){for(var a=i.connectedEdges(),l=a.filter((function(t){return t.target().same(i)&&n.has(t)})),c=a.filter((function(t){return t.source().same(i)&&n.has(t)})),h=l.length,u=c.length,d=0,p=0,f=0;f<l.length;f++)d+=r(l[f]);for(var m=0;m<c.length;m++)p+=r(c[m]);return{indegree:Math.pow(h,1-o)*Math.pow(d,o),outdegree:Math.pow(u,1-o)*Math.pow(p,o)}}for(var g=i.connectedEdges().intersection(n),v=g.length,y=0,b=0;b<g.length;b++)y+=r(g[b]);return{degree:Math.pow(v,1-o)*Math.pow(y,o)}}};Re.dc=Re.degreeCentrality,Re.dcn=Re.degreeCentralityNormalised=Re.degreeCentralityNormalized;var Pe=yt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Me={closenessCentralityNormalized:function(t){for(var e=Pe(t),n=e.harmonic,i=e.weight,r=e.directed,s=this.cy(),o={},a=0,l=this.nodes(),c=this.floydWarshall({weight:i,directed:r}),h=0;h<l.length;h++){for(var u=0,d=l[h],p=0;p<l.length;p++)if(h!==p){var f=c.distance(d,l[p]);u+=n?1/f:f}n||(u=1/u),a<u&&(a=u),o[d.id()]=u}return{closeness:function(t){return 0==a?0:(t=b(t)?s.filter(t)[0].id():t.id(),o[t]/a)}}},closenessCentrality:function(t){var e=Pe(t),n=e.root,i=e.weight,r=e.directed,s=e.harmonic;n=this.filter(n)[0];for(var o=this.dijkstra({root:n,weight:i,directed:r}),a=0,l=this.nodes(),c=0;c<l.length;c++){var h=l[c];if(!h.same(n)){var u=o.distanceTo(h);a+=s?1/u:u}}return s?a:1/a}};Me.cc=Me.closenessCentrality,Me.ccn=Me.closenessCentralityNormalised=Me.closenessCentralityNormalized;var Le=yt({weight:null,directed:!1}),Ne={betweennessCentrality:function(t){for(var e=Le(t),n=e.directed,i=e.weight,r=null!=i,o=this.cy(),a=this.nodes(),l={},c={},h=0,u=function(t,e){c[t]=e,e>h&&(h=e)},d=function(t){return c[t]},p=0;p<a.length;p++){var f=a[p],m=f.id();l[m]=n?f.outgoers().nodes():f.openNeighborhood().nodes(),u(m,0)}for(var g=function(t){for(var e=a[t].id(),n=[],c={},h={},p={},f=new s((function(t,e){return p[t]-p[e]})),m=0;m<a.length;m++){var g=a[m].id();c[g]=[],h[g]=0,p[g]=1/0}for(h[e]=1,p[e]=0,f.push(e);!f.empty();){var v=f.pop();if(n.push(v),r)for(var y=0;y<l[v].length;y++){var b,_=l[v][y],w=o.getElementById(v);b=w.edgesTo(_).length>0?w.edgesTo(_)[0]:_.edgesTo(w)[0];var x=i(b);_=_.id(),p[_]>p[v]+x&&(p[_]=p[v]+x,f.nodes.indexOf(_)<0?f.push(_):f.updateItem(_),h[_]=0,c[_]=[]),p[_]==p[v]+x&&(h[_]=h[_]+h[v],c[_].push(v))}else for(var C=0;C<l[v].length;C++){var S=l[v][C].id();p[S]==1/0&&(f.push(S),p[S]=p[v]+1),p[S]==p[v]+1&&(h[S]=h[S]+h[v],c[S].push(v))}}for(var k={},E=0;E<a.length;E++)k[a[E].id()]=0;for(;n.length>0;){for(var I=n.pop(),T=0;T<c[I].length;T++){var O=c[I][T];k[O]=k[O]+h[O]/h[I]*(1+k[I])}I!=a[t].id()&&u(I,d(I)+k[I])}},v=0;v<a.length;v++)g(v);var y={betweenness:function(t){var e=o.collection(t).id();return d(e)},betweennessNormalized:function(t){if(0==h)return 0;var e=o.collection(t).id();return d(e)/h}};return y.betweennessNormalised=y.betweennessNormalized,y}};Ne.bc=Ne.betweennessCentrality;var Fe=yt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),Be=function(t,e){for(var n=0,i=0;i<e.length;i++)n+=e[i](t);return n},Ve=function(t,e){for(var n,i=0;i<e;i++){n=0;for(var r=0;r<e;r++)n+=t[r*e+i];for(var s=0;s<e;s++)t[s*e+i]=t[s*e+i]/n}},ze=function(t,e,n){for(var i=new Array(n*n),r=0;r<n;r++){for(var s=0;s<n;s++)i[r*n+s]=0;for(var o=0;o<n;o++)for(var a=0;a<n;a++)i[r*n+a]+=t[r*n+o]*e[o*n+a]}return i},je=function(t,e,n){for(var i=t.slice(0),r=1;r<n;r++)t=ze(t,i,e);return t},He=function(t,e,n){for(var i=new Array(e*e),r=0;r<e*e;r++)i[r]=Math.pow(t[r],n);return Ve(i,e),i},Ue=function(t,e,n,i){for(var r=0;r<n;r++)if(Math.round(t[r]*Math.pow(10,i))/Math.pow(10,i)!=Math.round(e[r]*Math.pow(10,i))/Math.pow(10,i))return!1;return!0},$e=function(t,e){for(var n=0;n<t.length;n++)if(!e[n]||t[n].id()!==e[n].id())return!1;return!0},qe=function(t){for(var e=this.nodes(),n=this.edges(),i=this.cy(),r=function(t){return Fe(t)}(t),s={},o=0;o<e.length;o++)s[e[o].id()]=o;for(var a,l=e.length,c=l*l,h=new Array(c),u=0;u<c;u++)h[u]=0;for(var d=0;d<n.length;d++){var p=n[d],f=s[p.source().id()],m=s[p.target().id()],g=Be(p,r.attributes);h[f*l+m]+=g,h[m*l+f]+=g}!function(t,e,n){for(var i=0;i<e;i++)t[i*e+i]=n}(h,l,r.multFactor),Ve(h,l);for(var v=!0,y=0;v&&y<r.maxIterations;)v=!1,a=je(h,l,r.expandFactor),h=He(a,l,r.inflateFactor),Ue(h,a,c,4)||(v=!0),y++;return function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t.length;n++)e!=n&&$e(t[e],t[n])&&t.splice(n,1);return t}(function(t,e,n,i){for(var r=[],s=0;s<e;s++){for(var o=[],a=0;a<e;a++)Math.round(1e3*t[s*e+a])/1e3>0&&o.push(n[a]);0!==o.length&&r.push(i.collection(o))}return r}(h,l,e,i))},We={markovClustering:qe,mcl:qe},Ge=function(t){return t},Ye=function(t,e){return Math.abs(e-t)},Xe=function(t,e,n){return t+Ye(e,n)},Ke=function(t,e,n){return t+Math.pow(n-e,2)},Ze=function(t){return Math.sqrt(t)},Qe=function(t,e,n){return Math.max(t,Ye(e,n))},Je=function(t,e,n,i,r){for(var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ge,o=i,a=0;a<t;a++)o=r(o,e(a),n(a));return s(o)},tn={euclidean:function(t,e,n){return t>=2?Je(t,e,n,0,Ke,Ze):Je(t,e,n,0,Xe)},squaredEuclidean:function(t,e,n){return Je(t,e,n,0,Ke)},manhattan:function(t,e,n){return Je(t,e,n,0,Xe)},max:function(t,e,n){return Je(t,e,n,-1/0,Qe)}};function en(t,e,n,i,r,s){var o;return o=_(t)?t:tn[t]||tn.euclidean,0===e&&_(t)?o(r,s):o(e,n,i,r,s)}tn["squared-euclidean"]=tn.squaredEuclidean,tn.squaredeuclidean=tn.squaredEuclidean;var nn=yt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),rn=function(t){return nn(t)},sn=function(t,e,n,i,r){var s="kMedoids"!==r?function(t){return n[t]}:function(t){return i[t](n)};return en(t,i.length,s,(function(t){return i[t](e)}),n,e)},on=function(t,e,n){for(var i=n.length,r=new Array(i),s=new Array(i),o=new Array(e),a=null,l=0;l<i;l++)r[l]=t.min(n[l]).value,s[l]=t.max(n[l]).value;for(var c=0;c<e;c++){a=[];for(var h=0;h<i;h++)a[h]=Math.random()*(s[h]-r[h])+r[h];o[c]=a}return o},an=function(t,e,n,i,r){for(var s=1/0,o=0,a=0;a<e.length;a++){var l=sn(n,t,e[a],i,r);l<s&&(s=l,o=a)}return o},ln=function(t,e,n){for(var i=[],r=null,s=0;s<e.length;s++)n[(r=e[s]).id()]===t&&i.push(r);return i},cn=function(t,e,n){for(var i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)if(Math.abs(t[i][r]-e[i][r])>n)return!1;return!0},hn=function(t,e,n){for(var i=0;i<n;i++)if(t===e[i])return!0;return!1},un=function(t,e){var n=new Array(e);if(t.length<50)for(var i=0;i<e;i++){for(var r=t[Math.floor(Math.random()*t.length)];hn(r,n,i);)r=t[Math.floor(Math.random()*t.length)];n[i]=r}else for(var s=0;s<e;s++)n[s]=t[Math.floor(Math.random()*t.length)];return n},dn=function(t,e,n){for(var i=0,r=0;r<e.length;r++)i+=sn("manhattan",e[r],t,n,"kMedoids");return i},pn=function(t,e,n,i,r){for(var s,o,a=0;a<e.length;a++)for(var l=0;l<t.length;l++)i[a][l]=Math.pow(n[a][l],r.m);for(var c=0;c<t.length;c++)for(var h=0;h<r.attributes.length;h++){s=0,o=0;for(var u=0;u<e.length;u++)s+=i[u][c]*r.attributes[h](e[u]),o+=i[u][c];t[c][h]=s/o}},fn=function(t,e,n,i,r){for(var s=0;s<t.length;s++)e[s]=t[s].slice();for(var o,a,l,c=2/(r.m-1),h=0;h<n.length;h++)for(var u=0;u<i.length;u++){o=0;for(var d=0;d<n.length;d++)a=sn(r.distance,i[u],n[h],r.attributes,"cmeans"),l=sn(r.distance,i[u],n[d],r.attributes,"cmeans"),o+=Math.pow(a/l,c);t[u][h]=1/o}},mn=function(t){var e,n,i,r,s=this.cy(),o=this.nodes(),a=rn(t);i=new Array(o.length);for(var l=0;l<o.length;l++)i[l]=new Array(a.k);n=new Array(o.length);for(var c=0;c<o.length;c++)n[c]=new Array(a.k);for(var h=0;h<o.length;h++){for(var u=0,d=0;d<a.k;d++)n[h][d]=Math.random(),u+=n[h][d];for(var p=0;p<a.k;p++)n[h][p]=n[h][p]/u}e=new Array(a.k);for(var f=0;f<a.k;f++)e[f]=new Array(a.attributes.length);r=new Array(o.length);for(var m=0;m<o.length;m++)r[m]=new Array(a.k);for(var g=!0,v=0;g&&v<a.maxIterations;)g=!1,pn(e,o,n,r,a),fn(n,i,e,o,a),cn(n,i,a.sensitivityThreshold)||(g=!0),v++;return{clusters:function(t,e,n,i){for(var r,s,o=new Array(n.k),a=0;a<o.length;a++)o[a]=[];for(var l=0;l<e.length;l++){r=-1/0,s=-1;for(var c=0;c<e[0].length;c++)e[l][c]>r&&(r=e[l][c],s=c);o[s].push(t[l])}for(var h=0;h<o.length;h++)o[h]=i.collection(o[h]);return o}(o,n,a,s),degreeOfMembership:n}},gn={kMeans:function(t){var e,n=this.cy(),i=this.nodes(),r=null,s=rn(t),a=new Array(s.k),l={};e=s.testMode?"number"==typeof s.testCentroids?on(i,s.k,s.attributes):"object"===o(s.testCentroids)?s.testCentroids:on(i,s.k,s.attributes):on(i,s.k,s.attributes);for(var c,h=!0,u=0;h&&u<s.maxIterations;){for(var d=0;d<i.length;d++)l[(r=i[d]).id()]=an(r,e,s.distance,s.attributes,"kMeans");h=!1;for(var p=0;p<s.k;p++){var f=ln(p,i,l);if(0!==f.length){for(var m=s.attributes.length,g=e[p],v=new Array(m),y=new Array(m),b=0;b<m;b++){y[b]=0;for(var _=0;_<f.length;_++)y[b]+=s.attributes[b](r=f[_]);v[b]=y[b]/f.length,c=s.sensitivityThreshold,Math.abs(g[b]-v[b])<=c||(h=!0)}e[p]=v,a[p]=n.collection(f)}}u++}return a},kMedoids:function(t){var e,n,i=this.cy(),r=this.nodes(),s=null,a=rn(t),l=new Array(a.k),c={},h=new Array(a.k);a.testMode?"number"==typeof a.testCentroids||(e="object"===o(a.testCentroids)?a.testCentroids:un(r,a.k)):e=un(r,a.k);for(var u=!0,d=0;u&&d<a.maxIterations;){for(var p=0;p<r.length;p++)c[(s=r[p]).id()]=an(s,e,a.distance,a.attributes,"kMedoids");u=!1;for(var f=0;f<e.length;f++){var m=ln(f,r,c);if(0!==m.length){h[f]=dn(e[f],m,a.attributes);for(var g=0;g<m.length;g++)(n=dn(m[g],m,a.attributes))<h[f]&&(h[f]=n,e[f]=m[g],u=!0);l[f]=i.collection(m)}}d++}return l},fuzzyCMeans:mn,fcm:mn},vn=yt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),yn={single:"min",complete:"max"},bn=function(t,e,n,i,r){for(var s,o=0,a=1/0,l=r.attributes,c=function(t,e){return en(r.distance,l.length,(function(e){return l[e](t)}),(function(t){return l[t](e)}),t,e)},h=0;h<t.length;h++){var u=t[h].key,d=n[u][i[u]];d<a&&(o=u,a=d)}if("threshold"===r.mode&&a>=r.threshold||"dendrogram"===r.mode&&1===t.length)return!1;var p,f=e[o],m=e[i[o]];p="dendrogram"===r.mode?{left:f,right:m,key:f.key}:{value:f.value.concat(m.value),key:f.key},t[f.index]=p,t.splice(m.index,1),e[f.key]=p;for(var g=0;g<t.length;g++){var v=t[g];f.key===v.key?s=1/0:"min"===r.linkage?(s=n[f.key][v.key],n[f.key][v.key]>n[m.key][v.key]&&(s=n[m.key][v.key])):"max"===r.linkage?(s=n[f.key][v.key],n[f.key][v.key]<n[m.key][v.key]&&(s=n[m.key][v.key])):s="mean"===r.linkage?(n[f.key][v.key]*f.size+n[m.key][v.key]*m.size)/(f.size+m.size):"dendrogram"===r.mode?c(v.value,f.value):c(v.value[0],f.value[0]),n[f.key][v.key]=n[v.key][f.key]=s}for(var y=0;y<t.length;y++){var b=t[y].key;if(i[b]===f.key||i[b]===m.key){for(var _=b,w=0;w<t.length;w++){var x=t[w].key;n[b][x]<n[b][_]&&(_=x)}i[b]=_}t[y].index=y}return f.key=m.key=f.index=m.index=null,!0},_n=function t(e,n,i){e&&(e.value?n.push(e.value):(e.left&&t(e.left,n),e.right&&t(e.right,n)))},wn=function(t){for(var e=this.cy(),n=this.nodes(),i=function(t){var e=vn(t),n=yn[e.linkage];return null!=n&&(e.linkage=n),e}(t),r=i.attributes,s=function(t,e){return en(i.distance,r.length,(function(e){return r[e](t)}),(function(t){return r[t](e)}),t,e)},o=[],a=[],l=[],c=[],h=0;h<n.length;h++){var u={value:"dendrogram"===i.mode?n[h]:[n[h]],key:h,index:h};o[h]=u,c[h]=u,a[h]=[],l[h]=0}for(var d=0;d<o.length;d++)for(var p=0;p<=d;p++){var f;f="dendrogram"===i.mode?d===p?1/0:s(o[d].value,o[p].value):d===p?1/0:s(o[d].value[0],o[p].value[0]),a[d][p]=f,a[p][d]=f,f<a[d][l[d]]&&(l[d]=p)}for(var m,g=bn(o,c,a,l,i);g;)g=bn(o,c,a,l,i);return"dendrogram"===i.mode?(m=function t(e,n,i){if(!e)return[];var r=[],s=[],o=[];return 0===n?(e.left&&_n(e.left,r),e.right&&_n(e.right,s),o=r.concat(s),[i.collection(o)]):1===n?e.value?[i.collection(e.value)]:(e.left&&_n(e.left,r),e.right&&_n(e.right,s),[i.collection(r),i.collection(s)]):e.value?[i.collection(e.value)]:(e.left&&(r=t(e.left,n-1,i)),e.right&&(s=t(e.right,n-1,i)),r.concat(s))}(o[0],i.dendrogramDepth,e),i.addDendrogram&&function t(e,n){if(!e)return"";if(e.left&&e.right){var i=t(e.left,n),r=t(e.right,n),s=n.add({group:"nodes",data:{id:i+","+r}});return n.add({group:"edges",data:{source:i,target:s.id()}}),n.add({group:"edges",data:{source:r,target:s.id()}}),s.id()}return e.value?e.value.id():void 0}(o[0],e)):(m=new Array(o.length),o.forEach((function(t,n){t.key=t.index=null,m[n]=e.collection(t.value)}))),m},xn={hierarchicalClustering:wn,hca:wn},Cn=yt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Sn=function(t,e,n,i){var r=function(t,e){return i[e](t)};return-en(t,i.length,(function(t){return r(e,t)}),(function(t){return r(n,t)}),e,n)},kn=function(t,e,n){for(var i=[],r=0;r<t;r++){for(var s=-1,o=-1/0,a=0;a<n.length;a++){var l=n[a];e[r*t+l]>o&&(s=l,o=e[r*t+l])}s>0&&i.push(s)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},En=function(t){for(var e,n,i,r,s,o,a=this.cy(),l=this.nodes(),c=function(t){var e=t.damping,n=t.preference;.5<=e&&e<1||ut("Damping must range on [0.5, 1).  Got: ".concat(e));var i=["median","mean","min","max"];return i.some((function(t){return t===n}))||C(n)||ut("Preference must be one of [".concat(i.map((function(t){return"'".concat(t,"'")})).join(", "),"] or a number.  Got: ").concat(n)),Cn(t)}(t),h={},u=0;u<l.length;u++)h[l[u].id()]=u;n=(e=l.length)*e,i=new Array(n);for(var d=0;d<n;d++)i[d]=-1/0;for(var p=0;p<e;p++)for(var f=0;f<e;f++)p!==f&&(i[p*e+f]=Sn(c.distance,l[p],l[f],c.attributes));r=function(t,e){return"median"===e?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];i?t=t.slice(e,n):(n<t.length&&t.splice(n,t.length-n),e>0&&t.splice(0,e));for(var o=0,a=t.length-1;a>=0;a--){var l=t[a];s?isFinite(l)||(t[a]=-1/0,o++):t.splice(a,1)}r&&t.sort((function(t,e){return t-e}));var c=t.length,h=Math.floor(c/2);return c%2!=0?t[h+1+o]:(t[h-1+o]+t[h+o])/2}(t):"mean"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=0,r=0,s=e;s<n;s++){var o=t[s];isFinite(o)&&(i+=o,r++)}return i/r}(t):"min"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=1/0,r=e;r<n;r++){var s=t[r];isFinite(s)&&(i=Math.min(s,i))}return i}(t):"max"===e?function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=-1/0,r=e;r<n;r++){var s=t[r];isFinite(s)&&(i=Math.max(s,i))}return i}(t):e}(i,c.preference);for(var m=0;m<e;m++)i[m*e+m]=r;s=new Array(n);for(var g=0;g<n;g++)s[g]=0;o=new Array(n);for(var v=0;v<n;v++)o[v]=0;for(var y=new Array(e),b=new Array(e),_=new Array(e),w=0;w<e;w++)y[w]=0,b[w]=0,_[w]=0;for(var x,S=new Array(e*c.minIterations),k=0;k<S.length;k++)S[k]=0;for(x=0;x<c.maxIterations;x++){for(var E=0;E<e;E++){for(var I=-1/0,T=-1/0,O=-1,D=0,A=0;A<e;A++)y[A]=s[E*e+A],(D=o[E*e+A]+i[E*e+A])>=I?(T=I,I=D,O=A):D>T&&(T=D);for(var R=0;R<e;R++)s[E*e+R]=(1-c.damping)*(i[E*e+R]-I)+c.damping*y[R];s[E*e+O]=(1-c.damping)*(i[E*e+O]-T)+c.damping*y[O]}for(var P=0;P<e;P++){for(var M=0,L=0;L<e;L++)y[L]=o[L*e+P],b[L]=Math.max(0,s[L*e+P]),M+=b[L];M-=b[P],b[P]=s[P*e+P],M+=b[P];for(var N=0;N<e;N++)o[N*e+P]=(1-c.damping)*Math.min(0,M-b[N])+c.damping*y[N];o[P*e+P]=(1-c.damping)*(M-b[P])+c.damping*y[P]}for(var F=0,B=0;B<e;B++){var V=o[B*e+B]+s[B*e+B]>0?1:0;S[x%c.minIterations*e+B]=V,F+=V}if(F>0&&(x>=c.minIterations-1||x==c.maxIterations-1)){for(var z=0,j=0;j<e;j++){_[j]=0;for(var H=0;H<c.minIterations;H++)_[j]+=S[H*e+j];0!==_[j]&&_[j]!==c.minIterations||z++}if(z===e)break}}for(var U=function(t,e,n){for(var i=[],r=0;r<t;r++)e[r*t+r]+n[r*t+r]>0&&i.push(r);return i}(e,s,o),$=function(t,e,n){for(var i=kn(t,e,n),r=0;r<n.length;r++){for(var s=[],o=0;o<i.length;o++)i[o]===n[r]&&s.push(o);for(var a=-1,l=-1/0,c=0;c<s.length;c++){for(var h=0,u=0;u<s.length;u++)h+=e[s[u]*t+s[c]];h>l&&(a=c,l=h)}n[r]=s[a]}return kn(t,e,n)}(e,i,U),q={},W=0;W<U.length;W++)q[U[W]]=[];for(var G=0;G<l.length;G++){var Y=$[h[l[G].id()]];null!=Y&&q[Y].push(l[G])}for(var X=new Array(U.length),K=0;K<U.length;K++)X[K]=a.collection(q[U[K]]);return X},In={affinityPropagation:En,ap:En},Tn=yt({root:void 0,directed:!1}),On=function(){var t=this,e={},n=0,i=0,r=[],s=[],o={};t.forEach((function(a){if(a.isNode()){var l=a.id();l in e||(i=0,function a(l,c,h){l===h&&(i+=1),e[c]={id:n,low:n++,cutVertex:!1};var u,d,p,f,m=t.getElementById(c).connectedEdges().intersection(t);0===m.size()?r.push(t.spawn(t.getElementById(c))):m.forEach((function(n){u=n.source().id(),d=n.target().id(),(p=u===c?d:u)!==h&&(f=n.id(),o[f]||(o[f]=!0,s.push({x:c,y:p,edge:n})),p in e?e[c].low=Math.min(e[c].low,e[p].id):(a(l,p,c),e[c].low=Math.min(e[c].low,e[p].low),e[c].id<=e[p].low&&(e[c].cutVertex=!0,function(n,i){for(var o=s.length-1,a=[],l=t.spawn();s[o].x!=n||s[o].y!=i;)a.push(s.pop().edge),o--;a.push(s.pop().edge),a.forEach((function(n){var i=n.connectedNodes().intersection(t);l.merge(n),i.forEach((function(n){var i=n.id(),r=n.connectedEdges().intersection(t);l.merge(n),l.merge(e[i].cutVertex?r.filter((function(t){return t.isLoop()})):r)}))})),r.push(l)}(c,p))))}))}(l,l),e[l].cutVertex=i>1)}}));var a=Object.keys(e).filter((function(t){return e[t].cutVertex})).map((function(e){return t.getElementById(e)}));return{cut:t.spawn(a),components:r}},Dn=function(){var t=this,e={},n=0,i=[],r=[],s=t.spawn(t);return t.forEach((function(o){if(o.isNode()){var a=o.id();a in e||function o(a){if(r.push(a),e[a]={index:n,low:n++,explored:!1},t.getElementById(a).connectedEdges().intersection(t).forEach((function(t){var n=t.target().id();n!==a&&(n in e||o(n),e[n].explored||(e[a].low=Math.min(e[a].low,e[n].low)))})),e[a].index===e[a].low){for(var l=t.spawn();;){var c=r.pop();if(l.merge(t.getElementById(c)),e[c].low=e[a].index,e[c].explored=!0,c===a)break}var h=l.edgesWith(l),u=l.merge(h);i.push(u),s=s.difference(u)}}(a)}})),{cut:s,components:i}},An={};[Tt,Dt,At,Pt,Lt,Ft,jt,De,Re,Me,Ne,We,gn,xn,In,{hierholzer:function(t){if(!x(t)){var e=arguments;t={root:e[0],directed:e[1]}}var n,i,r,s=Tn(t),o=s.root,a=s.directed,l=this,c=!1;o&&(r=b(o)?this.filter(o)[0].id():o[0].id());var h={},u={};l.forEach(a?function(t){var e=t.id();if(t.isNode()){var r=t.indegree(!0),s=t.outdegree(!0),o=r-s,a=s-r;1==o?n?c=!0:n=e:1==a?i?c=!0:i=e:(a>1||o>1)&&(c=!0),h[e]=[],t.outgoers().forEach((function(t){t.isEdge()&&h[e].push(t.id())}))}else u[e]=[void 0,t.target().id()]}:function(t){var e=t.id();t.isNode()?(t.degree(!0)%2&&(n?i?c=!0:i=e:n=e),h[e]=[],t.connectedEdges().forEach((function(t){return h[e].push(t.id())}))):u[e]=[t.source().id(),t.target().id()]});var d={found:!1,trail:void 0};if(c)return d;if(i&&n)if(a){if(r&&i!=r)return d;r=i}else{if(r&&i!=r&&n!=r)return d;r||(r=i)}else r||(r=l[0].id());var p=function(t){for(var e,n,i,r=t,s=[t];h[r].length;)e=h[r].shift(),n=u[e][0],r!=(i=u[e][1])?(h[i]=h[i].filter((function(t){return t!=e})),r=i):a||r==n||(h[n]=h[n].filter((function(t){return t!=e})),r=n),s.unshift(e),s.unshift(r);return s},f=[],m=[];for(m=p(r);1!=m.length;)0==h[m[0]].length?(f.unshift(l.getElementById(m.shift())),f.unshift(l.getElementById(m.shift()))):m=p(m.shift()).concat(m);for(var g in f.unshift(l.getElementById(m.shift())),h)if(h[g].length)return d;return d.found=!0,d.trail=this.spawn(f,!0),d}},{hopcroftTarjanBiconnected:On,htbc:On,htb:On,hopcroftTarjanBiconnectedComponents:On},{tarjanStronglyConnected:Dn,tsc:Dn,tscc:Dn,tarjanStronglyConnectedComponents:Dn}].forEach((function(t){V(An,t)}));var Rn=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Rn.prototype={fulfill:function(t){return Pn(this,1,"fulfillValue",t)},reject:function(t){return Pn(this,2,"rejectReason",t)},then:function(t,e){var n=new Rn;return this.onFulfilled.push(Nn(t,n,"fulfill")),this.onRejected.push(Nn(e,n,"reject")),Mn(this),n.proxy}};var Pn=function(t,e,n,i){return 0===t.state&&(t.state=e,t[n]=i,Mn(t)),t},Mn=function(t){1===t.state?Ln(t,"onFulfilled",t.fulfillValue):2===t.state&&Ln(t,"onRejected",t.rejectReason)},Ln=function(t,e,n){if(0!==t[e].length){var i=t[e];t[e]=[];var r=function(){for(var t=0;t<i.length;t++)i[t](n)};"function"==typeof setImmediate?setImmediate(r):setTimeout(r,0)}},Nn=function(t,e,n){return function(i){if("function"!=typeof t)e[n].call(e,i);else{var r;try{r=t(i)}catch(s){return void e.reject(s)}Fn(e,r)}}},Fn=function t(e,n){if(e!==n&&e.proxy!==n){var i;if("object"===o(n)&&null!==n||"function"==typeof n)try{i=n.then}catch(s){return void e.reject(s)}if("function"!=typeof i)e.fulfill(n);else{var r=!1;try{i.call(n,(function(i){r||(r=!0,i===n?e.reject(new TypeError("circular thenable chain")):t(e,i))}),(function(t){r||(r=!0,e.reject(t))}))}catch(s){r||e.reject(s)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};Rn.all=function(t){return new Rn((function(e,n){for(var i=new Array(t.length),r=0,s=function(n,s){i[n]=s,++r===t.length&&e(i)},o=0;o<t.length;o++)!function(e){var i=t[e];null!=i&&null!=i.then?i.then((function(t){s(e,t)}),(function(t){n(t)})):s(e,i)}(o)}))},Rn.resolve=function(t){return new Rn((function(e,n){e(t)}))},Rn.reject=function(t){return new Rn((function(e,n){n(t)}))};var Bn="undefined"!=typeof Promise?Promise:Rn,Vn=function(t,e,n){var i=T(t),r=!i,s=this._private=V({duration:1e3},e,n);if(s.target=t,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&_(s.complete)&&s.completes.push(s.complete),r){var o=t.position();s.startPosition=s.startPosition||{x:o.x,y:o.y},s.startStyle=s.startStyle||t.cy().style().getAnimationStartStyle(t,s.style)}if(i){var a=t.pan();s.startPan={x:a.x,y:a.y},s.startZoom=t.zoom()}this.length=1,this[0]=this},zn=Vn.prototype;V(zn,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var e=t.target._private.animation;(t.queue?e.queue:e.current).push(this),k(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return 1===t.progress&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var e=this._private;return void 0===t?e.progress*e.duration:this.progress(t/e.duration)},progress:function(t){var e=this._private,n=e.playing;return void 0===t?e.progress:(n&&this.pause(),e.progress=t,e.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var t=this._private,e=t.playing;e&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(e,n){var i=t[e];null!=i&&(t[e]=t[n],t[n]=i)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var i=0;i<t.style.length;i++){var r=t.style[i],s=r.name,o=t.startStyle[s];t.startStyle[s]=r,t.style[i]=o}return e&&this.play(),this},promise:function(t){var e,n=this._private;switch(t){case"frame":e=n.frames;break;default:case"complete":case"completed":e=n.completes}return new Bn((function(t,n){e.push((function(){t()}))}))}}),zn.complete=zn.completed,zn.run=zn.play,zn.running=zn.playing;var jn={};[{animated:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var e=t[0];return e?e._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var t=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var e=0;e<t.length;e++)t[e]._private.animation.queue=[];return this}},delay:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animate({delay:t,duration:t,complete:e}):this}},delayAnimation:function(){return function(t,e){return(this._private.cy||this).styleEnabled()?this.animation({delay:t,duration:t,complete:e}):this}},animation:function(){return function(t,e){var n=void 0!==this.length,i=n?this:[this],r=this._private.cy||this,s=!n,o=!s;if(!r.styleEnabled())return this;var a=r.style();if(t=V({},t,e),0===Object.keys(t).length)return new Vn(i[0],t);switch(void 0===t.duration&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200}if(o&&(t.style=a.getPropsList(t.style||t.css),t.css=void 0),o&&null!=t.renderedPosition){var l=t.renderedPosition,c=r.pan(),h=r.zoom();t.position=Ut(l,h,c)}if(s&&null!=t.panBy){var u=t.panBy,d=r.pan();t.pan={x:d.x+u.x,y:d.y+u.y}}var p=t.center||t.centre;if(s&&null!=p){var f=r.getCenterPan(p.eles,t.zoom);null!=f&&(t.pan=f)}if(s&&null!=t.fit){var m=t.fit,g=r.getFitViewport(m.eles||m.boundingBox,m.padding);null!=g&&(t.pan=g.pan,t.zoom=g.zoom)}if(s&&x(t.zoom)){var v=r.getZoomedViewport(t.zoom);null!=v?(v.zoomed&&(t.zoom=v.zoom),v.panned&&(t.pan=v.pan)):t.zoom=null}return new Vn(i[0],t)}},animate:function(){return function(t,e){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;e&&(t=V({},t,e));for(var i=0;i<n.length;i++){var r=n[i],s=r.animated()&&(void 0===t.queue||t.queue);r.animation(t,s?{queue:!0}:void 0).play()}return this}},stop:function(){return function(t,e){var n=void 0!==this.length?this:[this],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var r=0;r<n.length;r++){for(var s=n[r]._private,o=s.animation.current,a=0;a<o.length;a++)e&&(o[a]._private.duration=0);t&&(s.animation.queue=[]),e||(s.animation.current=[])}return i.notify("draw"),this}}},{data:function(t){return t=V({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(t){},beforeSet:function(t,e){},onSet:function(t){},canSet:function(t){return!0}},t),function(e,n){var i=t,r=void 0!==this.length,s=r?this:[this],o=r?this[0]:this;if(b(e)){var a;if(i.allowGetting&&void 0===n)return o&&(i.beforeGet(o),a=o._private[i.field][e]),a;if(i.allowSetting&&void 0!==n&&!i.immutableKeys[e]){var l=h({},e,n);i.beforeSet(this,l);for(var c=0,u=s.length;c<u;c++){var d=s[c];i.canSet(d)&&(d._private[i.field][e]=n)}i.updateStyle&&this.updateStyle(),i.onSet(this),i.settingTriggersEvent&&this[i.triggerFnName](i.settingEvent)}}else if(i.allowSetting&&x(e)){var p,f,m=e,g=Object.keys(m);i.beforeSet(this,m);for(var v=0;v<g.length;v++)if(f=m[p=g[v]],!i.immutableKeys[p])for(var y=0;y<s.length;y++){var w=s[y];i.canSet(w)&&(w._private[i.field][p]=f)}i.updateStyle&&this.updateStyle(),i.onSet(this),i.settingTriggersEvent&&this[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&_(e))this.on(i.bindingEvent,e);else if(i.allowGetting&&void 0===e){var C;return o&&(i.beforeGet(o),C=o._private[i.field]),C}return this}},removeData:function(t){return t=V({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},t),function(e){var n=t,i=void 0!==this.length?this:[this];if(b(e)){for(var r=e.split(/\s+/),s=r.length,o=0;o<s;o++){var a=r[o];if(!D(a)&&!n.immutableKeys[a])for(var l=0,c=i.length;l<c;l++)i[l]._private[n.field][a]=void 0}n.triggerEvent&&this[n.triggerFnName](n.event)}else if(void 0===e){for(var h=0,u=i.length;h<u;h++)for(var d=i[h]._private[n.field],p=Object.keys(d),f=0;f<p.length;f++){var m=p[f];!n.immutableKeys[m]&&(d[m]=void 0)}n.triggerEvent&&this[n.triggerFnName](n.event)}return this}}},{eventAliasesOn:function(t){var e=t;e.addListener=e.listen=e.bind=e.on,e.unlisten=e.unbind=e.off=e.removeListener,e.trigger=e.emit,e.pon=e.promiseOn=function(t,e){var n=this,i=Array.prototype.slice.call(arguments,0);return new Bn((function(t,e){var r=i.concat([function(e){n.off.apply(n,s),t(e)}]),s=r.concat([]);n.on.apply(n,r)}))}}}].forEach((function(t){V(jn,t)}));var Hn={animate:jn.animate(),animation:jn.animation(),animated:jn.animated(),clearQueue:jn.clearQueue(),delay:jn.delay(),delayAnimation:jn.delayAnimation(),stop:jn.stop()},Un={classes:function(t){if(void 0===t){var e=[];return this[0]._private.classes.forEach((function(t){return e.push(t)})),e}w(t)||(t=(t||"").match(/\S+/g)||[]);for(var n=[],i=new kt(t),r=0;r<this.length;r++){for(var s=this[r],o=s._private,a=o.classes,l=!1,c=0;c<t.length;c++)if(!a.has(t[c])){l=!0;break}l||(l=a.size!==t.length),l&&(o.classes=i,n.push(s))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),this},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var e=this[0];return null!=e&&e._private.classes.has(t)},toggleClass:function(t,e){w(t)||(t=t.match(/\S+/g)||[]);for(var n=void 0===e,i=[],r=0,s=this.length;r<s;r++)for(var o=this[r],a=o._private.classes,l=!1,c=0;c<t.length;c++){var h=t[c],u=a.has(h),d=!1;e||n&&!u?(a.add(h),d=!0):(!e||n&&u)&&(a.delete(h),d=!0),!l&&d&&(i.push(o),l=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),this},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,e){var n=this;if(null==e)e=250;else if(0===e)return n;return n.addClass(t),setTimeout((function(){n.removeClass(t)}),e),n}};Un.className=Un.classNames=Un.classes;var $n={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:F,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};$n.variable="(?:[\\w-]|(?:\\\\"+$n.metaChar+"))+",$n.value=$n.string+"|"+$n.number,$n.className=$n.variable,$n.id=$n.variable,function(){var t,e,n;for(t=$n.comparatorOp.split("|"),n=0;n<t.length;n++)$n.comparatorOp+="|@"+(e=t[n]);for(t=$n.comparatorOp.split("|"),n=0;n<t.length;n++)(e=t[n]).indexOf("!")>=0||"="!==e&&($n.comparatorOp+="|\\!"+e)}();var qn=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort((function(t,e){return function(t,e){return-1*B(t,e)}(t.selector,e.selector)})),Wn=function(){for(var t,e={},n=0;n<qn.length;n++)e[(t=qn[n]).selector]=t.matches;return e}(),Gn="("+qn.map((function(t){return t.selector})).join("|")+")",Yn=function(t){return t.replace(new RegExp("\\\\("+$n.metaChar+")","g"),(function(t,e){return e}))},Xn=function(t,e,n){t[t.length-1]=n},Kn=[{name:"group",query:!0,regex:"("+$n.group+")",populate:function(t,e,n){var i=u(n,1)[0];e.checks.push({type:0,value:"*"===i?i:i+"s"})}},{name:"state",query:!0,regex:Gn,populate:function(t,e,n){var i=u(n,1);e.checks.push({type:7,value:i[0]})}},{name:"id",query:!0,regex:"\\#("+$n.id+")",populate:function(t,e,n){var i=u(n,1);e.checks.push({type:8,value:Yn(i[0])})}},{name:"className",query:!0,regex:"\\.("+$n.className+")",populate:function(t,e,n){var i=u(n,1);e.checks.push({type:9,value:Yn(i[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+$n.variable+")\\s*\\]",populate:function(t,e,n){var i=u(n,1);e.checks.push({type:4,field:Yn(i[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+$n.variable+")\\s*("+$n.comparatorOp+")\\s*("+$n.value+")\\s*\\]",populate:function(t,e,n){var i=u(n,3),r=i[0],s=i[1],o=i[2];o=null!=new RegExp("^"+$n.string+"$").exec(o)?o.substring(1,o.length-1):parseFloat(o),e.checks.push({type:3,field:Yn(r),operator:s,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+$n.boolOp+")\\s*("+$n.variable+")\\s*\\]",populate:function(t,e,n){var i=u(n,2),r=i[0];e.checks.push({type:5,field:Yn(i[1]),operator:r})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+$n.meta+")\\s*("+$n.comparatorOp+")\\s*("+$n.number+")\\s*\\]\\]",populate:function(t,e,n){var i=u(n,3),r=i[1],s=i[2];e.checks.push({type:6,field:Yn(i[0]),operator:r,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:$n.separator,populate:function(t,e){var n=t.currentSubject,i=t.edgeCount,r=t.compoundCount,s=t[t.length-1];return null!=n&&(s.subject=n,t.currentSubject=null),s.edgeCount=i,s.compoundCount=r,t.edgeCount=0,t.compoundCount=0,t[t.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:$n.directedEdge,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:11,source:e,target:i}),Xn(t,0,n),t.edgeCount++,i}var r={checks:[]},s={checks:[]};return r.checks.push({type:12,source:e,target:s}),Xn(t,0,r),t.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:$n.undirectedEdge,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:10,nodes:[e,i]}),Xn(t,0,n),t.edgeCount++,i}var r={checks:[]},s={checks:[]};return r.checks.push({type:14,node:e,neighbor:s}),Xn(t,0,r),s}},{name:"child",separator:!0,regex:$n.child,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:15,parent:t[t.length-1],child:i}),Xn(t,0,n),t.compoundCount++,i}if(t.currentSubject===e){var r={checks:[]},s={checks:[]},o={checks:[]},a={checks:[]},l={checks:[]};return r.checks.push({type:19,left:t[t.length-1],right:s,subject:o}),o.checks=e.checks,e.checks=[{type:20}],l.checks.push({type:20}),s.checks.push({type:17,parent:l,child:a}),Xn(t,0,r),t.currentSubject=o,t.compoundCount++,a}var c={checks:[]},h={checks:[]},u=[{type:17,parent:c,child:h}];return c.checks=e.checks,e.checks=u,t.compoundCount++,h}},{name:"descendant",separator:!0,regex:$n.descendant,populate:function(t,e){if(null==t.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:16,ancestor:t[t.length-1],descendant:i}),Xn(t,0,n),t.compoundCount++,i}if(t.currentSubject===e){var r={checks:[]},s={checks:[]},o={checks:[]},a={checks:[]},l={checks:[]};return r.checks.push({type:19,left:t[t.length-1],right:s,subject:o}),o.checks=e.checks,e.checks=[{type:20}],l.checks.push({type:20}),s.checks.push({type:18,ancestor:l,descendant:a}),Xn(t,0,r),t.currentSubject=o,t.compoundCount++,a}var c={checks:[]},h={checks:[]},u=[{type:18,ancestor:c,descendant:h}];return c.checks=e.checks,e.checks=u,t.compoundCount++,h}},{name:"subject",modifier:!0,regex:$n.subject,populate:function(t,e){if(null!=t.currentSubject&&t.currentSubject!==e)return pt("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=e;var n=t[t.length-1].checks[0],i=null==n?null:n.type;11===i?n.type=13:10===i&&(n.type=14,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];Kn.forEach((function(t){return t.regexObj=new RegExp("^"+t.regex)}));var Zn=function(t){for(var e,n,i,r=0;r<Kn.length;r++){var s=Kn[r],o=s.name,a=t.match(s.regexObj);if(null!=a){n=a,e=s,i=o,t=t.substring(a[0].length);break}}return{expr:e,match:n,name:i,remaining:t}},Qn={parse:function(t){var e=this.inputText=t,n=this[0]={checks:[]};for(this.length=1,e=function(t){var e=t.match(/^\s+/);return e&&(t=t.substring(e[0].length)),t}(e);;){var i=Zn(e);if(null==i.expr)return pt("The selector `"+t+"`is invalid"),!1;var r=i.match.slice(1),s=i.expr.populate(this,n,r);if(!1===s)return!1;if(null!=s&&(n=s),(e=i.remaining).match(/^\s*$/))break}var o=this[this.length-1];null!=this.currentSubject&&(o.subject=this.currentSubject),o.edgeCount=this.edgeCount,o.compoundCount=this.compoundCount;for(var a=0;a<this.length;a++){var l=this[a];if(l.compoundCount>0&&l.edgeCount>0)return pt("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return pt("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&pt("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var t=function(t){return null==t?"":t},e=function(e){return b(e)?'"'+e+'"':t(e)},n=function(t){return" "+t+" "},i=function(r,s){return r.checks.reduce((function(o,a,l){return o+(s===r&&0===l?"$":"")+function(r,s){var o=r.value;switch(r.type){case 0:var a=t(o);return a.substring(0,a.length-1);case 3:return"["+r.field+n(t(r.operator))+e(o)+"]";case 5:var l=r.field;return"["+t(r.operator)+l+"]";case 4:return"["+r.field+"]";case 6:return"[["+r.field+n(t(r.operator))+e(o)+"]]";case 7:return o;case 8:return"#"+o;case 9:return"."+o;case 17:case 15:return i(r.parent,s)+n(">")+i(r.child,s);case 18:case 16:return i(r.ancestor,s)+" "+i(r.descendant,s);case 19:var c=i(r.left,s),h=i(r.subject,s),u=i(r.right,s);return c+(c.length>0?" ":"")+h+u;case 20:return""}}(a,s)}),"")},r="",s=0;s<this.length;s++){var o=this[s];r+=i(o,o.subject),this.length>1&&s<this.length-1&&(r+=", ")}return this.toStringCache=r,r}},Jn=function(t,e,n){var i,r,s,o=b(t),a=C(t),l=b(n),c=!1,h=!1,u=!1;switch(e.indexOf("!")>=0&&(e=e.replace("!",""),h=!0),e.indexOf("@")>=0&&(e=e.replace("@",""),c=!0),(o||l||c)&&(r=o||a?""+t:"",s=""+n),c&&(t=r=r.toLowerCase(),n=s=s.toLowerCase()),e){case"*=":i=r.indexOf(s)>=0;break;case"$=":i=r.indexOf(s,r.length-s.length)>=0;break;case"^=":i=0===r.indexOf(s);break;case"=":i=t===n;break;case">":u=!0,i=t>n;break;case">=":u=!0,i=t>=n;break;case"<":u=!0,i=t<n;break;case"<=":u=!0,i=t<=n;break;default:i=!1}return!h||null==t&&u||(i=!i),i},ti=function(t,e){return t.data(e)},ei=[],ni=function(t,e){return t.checks.every((function(t){return ei[t.type](t,e)}))};ei[0]=function(t,e){var n=t.value;return"*"===n||n===e.group()},ei[7]=function(t,e){return function(t,e){return Wn[t](e)}(t.value,e)},ei[8]=function(t,e){var n=t.value;return e.id()===n},ei[9]=function(t,e){return e.hasClass(t.value)},ei[6]=function(t,e){var n=t.operator,i=t.value;return Jn(function(t,e){return t[e]()}(e,t.field),n,i)},ei[3]=function(t,e){var n=t.operator,i=t.value;return Jn(ti(e,t.field),n,i)},ei[5]=function(t,e){var n=t.operator;return function(t,e){switch(e){case"?":return!!t;case"!":return!t;case"^":return void 0===t}}(ti(e,t.field),n)},ei[4]=function(t,e){return void 0!==ti(e,t.field)},ei[10]=function(t,e){var n=t.nodes[0],i=t.nodes[1],r=e.source(),s=e.target();return ni(n,r)&&ni(i,s)||ni(i,r)&&ni(n,s)},ei[14]=function(t,e){return ni(t.node,e)&&e.neighborhood().some((function(e){return e.isNode()&&ni(t.neighbor,e)}))},ei[11]=function(t,e){return ni(t.source,e.source())&&ni(t.target,e.target())},ei[12]=function(t,e){return ni(t.source,e)&&e.outgoers().some((function(e){return e.isNode()&&ni(t.target,e)}))},ei[13]=function(t,e){return ni(t.target,e)&&e.incomers().some((function(e){return e.isNode()&&ni(t.source,e)}))},ei[15]=function(t,e){return ni(t.child,e)&&ni(t.parent,e.parent())},ei[17]=function(t,e){return ni(t.parent,e)&&e.children().some((function(e){return ni(t.child,e)}))},ei[16]=function(t,e){return ni(t.descendant,e)&&e.ancestors().some((function(e){return ni(t.ancestor,e)}))},ei[18]=function(t,e){return ni(t.ancestor,e)&&e.descendants().some((function(e){return ni(t.descendant,e)}))},ei[19]=function(t,e){return ni(t.subject,e)&&ni(t.left,e)&&ni(t.right,e)},ei[20]=function(){return!0},ei[1]=function(t,e){return t.value.has(e)},ei[2]=function(t,e){return(0,t.value)(e)};var ii=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==t||b(t)&&t.match(/^\s*$/)||(k(t)?this.addQuery({checks:[{type:1,value:t.collection()}]}):_(t)?this.addQuery({checks:[{type:2,value:t}]}):b(t)?this.parse(t)||(this.invalid=!0):ut("A selector must be created from a string; found "))},ri=ii.prototype;[Qn,{matches:function(t){for(var e=0;e<this.length;e++)if(ni(this[e],t))return!0;return!1},filter:function(t){var e=this;if(1===e.length&&1===e[0].checks.length&&8===e[0].checks[0].type)return t.getElementById(e[0].checks[0].value).collection();var n=function(t){for(var n=0;n<e.length;n++)if(ni(e[n],t))return!0;return!1};return null==e.text()&&(n=function(){return!0}),t.filter(n)}}].forEach((function(t){return V(ri,t)})),ri.text=function(){return this.inputText},ri.size=function(){return this.length},ri.eq=function(t){return this[t]},ri.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()},ri.addQuery=function(t){this[this.length++]=t},ri.selector=ri.toString;var si={allAre:function(t){var e=new ii(t);return this.every((function(t){return e.matches(t)}))},is:function(t){var e=new ii(t);return this.some((function(t){return e.matches(t)}))},some:function(t,e){for(var n=0;n<this.length;n++)if(e?t.apply(e,[this[n],n,this]):t(this[n],n,this))return!0;return!1},every:function(t,e){for(var n=0;n<this.length;n++)if(!(e?t.apply(e,[this[n],n,this]):t(this[n],n,this)))return!1;return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var e=this.length;return e===t.length&&(1===e?this[0]===t[0]:this.every((function(e){return t.hasElementWithId(e.id())})))},anySame:function(t){return t=this.cy().collection(t),this.some((function(e){return t.hasElementWithId(e.id())}))},allAreNeighbors:function(t){t=this.cy().collection(t);var e=this.neighborhood();return t.every((function(t){return e.hasElementWithId(t.id())}))},contains:function(t){t=this.cy().collection(t);var e=this;return t.every((function(t){return e.hasElementWithId(t.id())}))}};si.allAreNeighbours=si.allAreNeighbors,si.has=si.contains,si.equal=si.equals=si.same;var oi,ai,li=function(t,e){return function(n,i,r,s){var o,a=n;if(null==a?o="":k(a)&&1===a.length&&(o=a.id()),1===this.length&&o){var l=this[0]._private,c=l.traversalCache=l.traversalCache||{},h=c[e]=c[e]||[],u=tt(o);return h[u]||(h[u]=t.call(this,n,i,r,s))}return t.call(this,n,i,r,s)}},ci={parent:function(t){var e=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var r=this[i]._private.parent;r&&e.push(r)}return this.spawn(e,!0).filter(t)},parents:function(t){for(var e=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++)e.push(n[i]);n=n.parent()}return this.spawn(e,!0).filter(t)},commonAncestors:function(t){for(var e,n=0;n<this.length;n++){var i=this[n].parents();e=(e=e||i).intersect(i)}return e.filter(t)},orphans:function(t){return this.stdFilter((function(t){return t.isOrphan()})).filter(t)},nonorphans:function(t){return this.stdFilter((function(t){return t.isChild()})).filter(t)},children:li((function(t){for(var e=[],n=0;n<this.length;n++)for(var i=this[n]._private.children,r=0;r<i.length;r++)e.push(i[r]);return this.spawn(e,!0).filter(t)}),"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&0!==t._private.children.length},isChildless:function(){var t=this[0];if(t)return t.isNode()&&0===t._private.children.length},isChild:function(){var t=this[0];if(t)return t.isNode()&&null!=t._private.parent},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&null==t._private.parent},descendants:function(t){var e=[];return function t(n){for(var i=0;i<n.length;i++){var r=n[i];e.push(r),r.children().nonempty()&&t(r.children())}}(this.children()),this.spawn(e,!0).filter(t)}};function hi(t,e,n,i){for(var r=[],s=new kt,o=t.cy().hasCompoundNodes(),a=0;a<t.length;a++){var l=t[a];n?r.push(l):o&&i(r,s,l)}for(;r.length>0;){var c=r.shift();e(c),s.add(c.id()),o&&i(r,s,c)}return t}function ui(t,e,n){if(n.isParent())for(var i=n._private.children,r=0;r<i.length;r++){var s=i[r];e.has(s.id())||t.push(s)}}function di(t,e,n){if(n.isChild()){var i=n._private.parent;e.has(i.id())||t.push(i)}}function pi(t,e,n){di(t,e,n),ui(t,e,n)}ci.forEachDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return hi(this,t,e,ui)},ci.forEachUp=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return hi(this,t,e,di)},ci.forEachUpAndDown=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return hi(this,t,e,pi)},ci.ancestors=ci.parents,(oi=ai={data:jn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:jn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:jn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:jn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:jn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:jn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}}).attr=oi.data,oi.removeAttr=oi.removeData;var fi,mi,gi=ai,vi={};function yi(t){return function(e){if(void 0===e&&(e=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var n=0,i=this[0],r=i._private.edges,s=0;s<r.length;s++){var o=r[s];!e&&o.isLoop()||(n+=t(i,o))}return n}}}function bi(t,e){return function(n){for(var i,r=this.nodes(),s=0;s<r.length;s++){var o=r[s][t](n);void 0===o||void 0!==i&&!e(o,i)||(i=o)}return i}}V(vi,{degree:yi((function(t,e){return e.source().same(e.target())?2:1})),indegree:yi((function(t,e){return e.target().same(t)?1:0})),outdegree:yi((function(t,e){return e.source().same(t)?1:0}))}),V(vi,{minDegree:bi("degree",(function(t,e){return t<e})),maxDegree:bi("degree",(function(t,e){return t>e})),minIndegree:bi("indegree",(function(t,e){return t<e})),maxIndegree:bi("indegree",(function(t,e){return t>e})),minOutdegree:bi("outdegree",(function(t,e){return t<e})),maxOutdegree:bi("outdegree",(function(t,e){return t>e}))}),V(vi,{totalDegree:function(t){for(var e=0,n=this.nodes(),i=0;i<n.length;i++)e+=n[i].degree(t);return e}});var _i=function(t,e,n){for(var i=0;i<t.length;i++){var r=t[i];if(!r.locked()){var s=r._private.position,o={x:null!=e.x?e.x-s.x:0,y:null!=e.y?e.y-s.y:0};!r.isParent()||0===o.x&&0===o.y||r.children().shift(o,n),r.dirtyBoundingBoxCache()}}},wi={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,e){_i(t,e,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};(fi=mi={position:jn.data(wi),silentPosition:jn.data(V({},wi,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,e){_i(t,e,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,e){if(x(t))e?this.silentPosition(t):this.position(t);else if(_(t)){var n=t,i=this.cy();i.startBatch();for(var r=0;r<this.length;r++){var s,o=this[r];(s=n(o,r))&&(e?o.silentPosition(s):o.position(s))}i.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,e,n){var i;if(x(t)?(i={x:C(t.x)?t.x:0,y:C(t.y)?t.y:0},n=e):b(t)&&C(e)&&((i={x:0,y:0})[t]=e),null!=i){var r=this.cy();r.startBatch();for(var s=0;s<this.length;s++){var o=this[s],a=o.position(),l={x:a.x+i.x,y:a.y+i.y};n?o.silentPosition(l):o.position(l)}r.endBatch()}return this},silentShift:function(t,e){return x(t)?this.shift(t,!0):b(t)&&C(e)&&this.shift(t,e,!0),this},renderedPosition:function(t,e){var n=this[0],i=this.cy(),r=i.zoom(),s=i.pan(),o=x(t)?t:void 0,a=void 0!==o||void 0!==e&&b(t);if(n&&n.isNode()){if(!a){var l=n.position();return o=Ht(l,r,s),void 0===t?o:o[t]}for(var c=0;c<this.length;c++){var h=this[c];void 0!==e?h.position(t,(e-s[t])/r):void 0!==o&&h.position(Ut(o,r,s))}}else if(!a)return;return this},relativePosition:function(t,e){var n=this[0],i=this.cy(),r=x(t)?t:void 0,s=void 0!==r||void 0!==e&&b(t),o=i.hasCompoundNodes();if(n&&n.isNode()){if(!s){var a=n.position(),l=o?n.parent():null,c=l&&l.length>0;c&&(l=l[0]);var h=c?l.position():{x:0,y:0};return r={x:a.x-h.x,y:a.y-h.y},void 0===t?r:r[t]}for(var u=0;u<this.length;u++){var d=this[u],p=o?d.parent():null,f=p&&p.length>0;f&&(p=p[0]);var m=f?p.position():{x:0,y:0};void 0!==e?d.position(t,e+m[t]):void 0!==r&&d.position({x:r.x+m.x,y:r.y+m.y})}}else if(!s)return;return this}}).modelPosition=fi.point=fi.position,fi.modelPositions=fi.points=fi.positions,fi.renderedPoint=fi.renderedPosition,fi.relativePoint=fi.relativePosition;var xi,Ci,Si=mi;xi=Ci={},Ci.renderedBoundingBox=function(t){var e=this.boundingBox(t),n=this.cy(),i=n.zoom(),r=n.pan(),s=e.x1*i+r.x,o=e.x2*i+r.x,a=e.y1*i+r.y,l=e.y2*i+r.y;return{x1:s,x2:o,y1:a,y2:l,w:o-s,h:l-a}},Ci.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp((function(e){if(e.isParent()){var n=e._private;n.compoundBoundsClean=!1,n.bbCache=null,t||e.emitAndNotify("bounds")}})),this):this},Ci.updateCompoundBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function n(t){if(t.isParent()){var e=t._private,n=t.children(),i="include"===t.pstyle("compound-sizing-wrt-labels").value,r={width:{val:t.pstyle("min-width").pfValue,left:t.pstyle("min-width-bias-left"),right:t.pstyle("min-width-bias-right")},height:{val:t.pstyle("min-height").pfValue,top:t.pstyle("min-height-bias-top"),bottom:t.pstyle("min-height-bias-bottom")}},s=n.boundingBox({includeLabels:i,includeOverlays:!1,useCache:!1}),o=e.position;0!==s.w&&0!==s.h||((s={w:t.pstyle("width").pfValue,h:t.pstyle("height").pfValue}).x1=o.x-s.w/2,s.x2=o.x+s.w/2,s.y1=o.y-s.h/2,s.y2=o.y+s.h/2);var a=r.width.left.value;"px"===r.width.left.units&&r.width.val>0&&(a=100*a/r.width.val);var l=r.width.right.value;"px"===r.width.right.units&&r.width.val>0&&(l=100*l/r.width.val);var c=r.height.top.value;"px"===r.height.top.units&&r.height.val>0&&(c=100*c/r.height.val);var h=r.height.bottom.value;"px"===r.height.bottom.units&&r.height.val>0&&(h=100*h/r.height.val);var u=v(r.width.val-s.w,a,l),d=u.biasDiff,p=u.biasComplementDiff,f=v(r.height.val-s.h,c,h),m=f.biasDiff,g=f.biasComplementDiff;e.autoPadding=function(t,e,n,i){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(i){case"width":return t>0?n.pfValue*t:0;case"height":return e>0?n.pfValue*e:0;case"average":return t>0&&e>0?n.pfValue*(t+e)/2:0;case"min":return t>0&&e>0?t>e?n.pfValue*e:n.pfValue*t:0;case"max":return t>0&&e>0?t>e?n.pfValue*t:n.pfValue*e:0;default:return 0}}(s.w,s.h,t.pstyle("padding"),t.pstyle("padding-relative-to").value),e.autoWidth=Math.max(s.w,r.width.val),o.x=(-d+s.x1+s.x2+p)/2,e.autoHeight=Math.max(s.h,r.height.val),o.y=(-m+s.y1+s.y2+g)/2}function v(t,e,n){var i=0,r=0,s=e+n;return t>0&&s>0&&(i=e/s*t,r=n/s*t),{biasDiff:i,biasComplementDiff:r}}}for(var i=0;i<this.length;i++){var r=this[i],s=r._private;s.compoundBoundsClean&&!t||(n(r),e.batching()||(s.compoundBoundsClean=!0))}return this};var ki=function(t){return t===1/0||t===-1/0?0:t},Ei=function(t,e,n,i,r){i-e!=0&&r-n!=0&&null!=e&&null!=n&&null!=i&&null!=r&&(t.x1=e<t.x1?e:t.x1,t.x2=i>t.x2?i:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=r>t.y2?r:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Ii=function(t,e){return null==e?t:Ei(t,e.x1,e.y1,e.x2,e.y2)},Ti=function(t,e,n){return wt(t,e,n)},Oi=function(t,e,n){if(!e.cy().headless()){var i,r,s=e._private,o=s.rstyle,a=o.arrowWidth/2;if("none"!==e.pstyle(n+"-arrow-shape").value){"source"===n?(i=o.srcX,r=o.srcY):"target"===n?(i=o.tgtX,r=o.tgtY):(i=o.midX,r=o.midY);var l=s.arrowBounds=s.arrowBounds||{},c=l[n]=l[n]||{};c.x1=i-a,c.y1=r-a,c.x2=i+a,c.y2=r+a,c.w=c.x2-c.x1,c.h=c.y2-c.y1,ne(c,1),Ei(t,c.x1,c.y1,c.x2,c.y2)}}},Di=function(t,e,n){if(!e.cy().headless()){var i,r=e._private,s=r.rstyle;if(e.pstyle((i=n?n+"-":"")+"label").strValue){var o,a,l,c,h=e.pstyle("text-halign"),u=e.pstyle("text-valign"),d=Ti(s,"labelWidth",n),p=Ti(s,"labelHeight",n),f=Ti(s,"labelX",n),m=Ti(s,"labelY",n),g=e.pstyle(i+"text-margin-x").pfValue,v=e.pstyle(i+"text-margin-y").pfValue,y=e.isEdge(),b=e.pstyle(i+"text-rotation"),_=e.pstyle("text-outline-width").pfValue,w=e.pstyle("text-border-width").pfValue/2,x=e.pstyle("text-background-padding").pfValue,C=p,S=d,k=S/2,E=C/2;if(y)o=f-k,a=f+k,l=m-E,c=m+E;else{switch(h.value){case"left":o=f-S,a=f;break;case"center":o=f-k,a=f+k;break;case"right":o=f,a=f+S}switch(u.value){case"top":l=m-C,c=m;break;case"center":l=m-E,c=m+E;break;case"bottom":l=m,c=m+C}}o+=g-Math.max(_,w)-x-2,a+=g+Math.max(_,w)+x+2,l+=v-Math.max(_,w)-x-2,c+=v+Math.max(_,w)+x+2;var I=n||"main",T=r.labelBounds,O=T[I]=T[I]||{};O.x1=o,O.y1=l,O.x2=a,O.y2=c,O.w=a-o,O.h=c-l;var D=y&&"autorotate"===b.strValue;if(D||null!=b.pfValue&&0!==b.pfValue){var A=D?Ti(r.rstyle,"labelAngle",n):b.pfValue,R=Math.cos(A),P=Math.sin(A),M=(o+a)/2,L=(l+c)/2;if(!y){switch(h.value){case"left":M=a;break;case"right":M=o}switch(u.value){case"top":L=c;break;case"bottom":L=l}}var N=function(t,e){return{x:(t-=M)*R-(e-=L)*P+M,y:t*P+e*R+L}},F=N(o,l),B=N(o,c),V=N(a,l),z=N(a,c);o=Math.min(F.x,B.x,V.x,z.x),a=Math.max(F.x,B.x,V.x,z.x),l=Math.min(F.y,B.y,V.y,z.y),c=Math.max(F.y,B.y,V.y,z.y)}var j=I+"Rot",H=T[j]=T[j]||{};H.x1=o,H.y1=l,H.x2=a,H.y2=c,H.w=a-o,H.h=c-l,Ei(t,o,l,a,c),Ei(r.labelBounds.all,o,l,a,c)}return t}},Ai=function(t){var e=0,n=function(t){return(t?1:0)<<e++},i=0;return i+=n(t.incudeNodes),i+=n(t.includeEdges),i+=n(t.includeLabels),i+=n(t.includeMainLabels),i+=n(t.includeSourceLabels),(i+=n(t.includeTargetLabels))+n(t.includeOverlays)},Ri=function(t){if(t.isEdge()){var e=t.source().position(),n=t.target().position(),i=function(t){return Math.round(t)};return function(t,e){var n={value:0,done:!1},i=0,r=t.length;return X({next:function(){return i<r?n.value=t[i++]:n.done=!0,n}},void 0)}([i(e.x),i(e.y),i(n.x),i(n.y)])}return 0},Pi=function(t,e){var n,i=t._private,r=t.isEdge(),s=(null==e?Li:Ai(e))===Li,o=Ri(t),a=i.bbCachePosKey===o,l=e.useCache&&a,c=function(t){return null==t._private.bbCache||t._private.styleDirty};if(!l||c(t)||r&&c(t.source())||c(t.target())?(a||t.recalculateRenderedStyle(l),n=function(t,e){var n,i,r,s,o,a,l,c=t._private.cy,h=c.styleEnabled(),u=c.headless(),d=te(),p=t._private,f=t.isNode(),m=t.isEdge(),g=p.rstyle,v=f&&h?t.pstyle("bounds-expansion").pfValue:[0],y=function(t){return"none"!==t.pstyle("display").value},b=!h||y(t)&&(!m||y(t.source())&&y(t.target()));if(b){var _=0;h&&e.includeOverlays&&0!==t.pstyle("overlay-opacity").value&&(_=t.pstyle("overlay-padding").value);var w=0;if(h&&(w=t.pstyle("width").pfValue/2),f&&e.includeNodes){var x=t.position();o=x.x,a=x.y;var C=t.outerWidth()/2,S=t.outerHeight()/2;Ei(d,n=o-C,r=a-S,i=o+C,s=a+S)}else if(m&&e.includeEdges)if(h&&!u){var k=t.pstyle("curve-style").strValue;if(n=Math.min(g.srcX,g.midX,g.tgtX),i=Math.max(g.srcX,g.midX,g.tgtX),r=Math.min(g.srcY,g.midY,g.tgtY),s=Math.max(g.srcY,g.midY,g.tgtY),Ei(d,n-=w,r-=w,i+=w,s+=w),"haystack"===k){var E=g.haystackPts;if(E&&2===E.length){if((n=E[0].x)>(i=E[1].x)){var I=n;n=i,i=I}if((r=E[0].y)>(s=E[1].y)){var T=r;r=s,s=T}Ei(d,n-w,r-w,i+w,s+w)}}else if("bezier"===k||"unbundled-bezier"===k||"segments"===k||"taxi"===k){var O;switch(k){case"bezier":case"unbundled-bezier":O=g.bezierPts;break;case"segments":case"taxi":O=g.linePts}if(null!=O)for(var D=0;D<O.length;D++){var A=O[D];Ei(d,n=A.x-w,r=A.y-w,i=A.x+w,s=A.y+w)}}}else{var R=t.source().position(),P=t.target().position();if((n=R.x)>(i=P.x)){var M=n;n=i,i=M}if((r=R.y)>(s=P.y)){var L=r;r=s,s=L}Ei(d,n-=w,r-=w,i+=w,s+=w)}if(h&&e.includeEdges&&m&&(Oi(d,t,"mid-source"),Oi(d,t,"mid-target"),Oi(d,t,"source"),Oi(d,t,"target")),h&&"yes"===t.pstyle("ghost").value){var N=t.pstyle("ghost-offset-x").pfValue,F=t.pstyle("ghost-offset-y").pfValue;Ei(d,d.x1+N,d.y1+F,d.x2+N,d.y2+F)}var B=p.bodyBounds=p.bodyBounds||{};re(B,d),ie(B,v),ne(B,1),h&&Ei(d,(n=d.x1)-_,(r=d.y1)-_,(i=d.x2)+_,(s=d.y2)+_);var V=p.overlayBounds=p.overlayBounds||{};re(V,d),ie(V,v),ne(V,1);var z=p.labelBounds=p.labelBounds||{};null!=z.all?((l=z.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):z.all=te(),h&&e.includeLabels&&(e.includeMainLabels&&Di(d,t,null),m&&(e.includeSourceLabels&&Di(d,t,"source"),e.includeTargetLabels&&Di(d,t,"target")))}return d.x1=ki(d.x1),d.y1=ki(d.y1),d.x2=ki(d.x2),d.y2=ki(d.y2),d.w=ki(d.x2-d.x1),d.h=ki(d.y2-d.y1),d.w>0&&d.h>0&&b&&(ie(d,v),ne(d,1)),d}(t,Mi),i.bbCache=n,i.bbCachePosKey=o):n=i.bbCache,!s){var h=t.isNode();n=te(),(e.includeNodes&&h||e.includeEdges&&!h)&&Ii(n,e.includeOverlays?i.overlayBounds:i.bodyBounds),e.includeLabels&&(e.includeMainLabels&&(!r||e.includeSourceLabels&&e.includeTargetLabels)?Ii(n,i.labelBounds.all):(e.includeMainLabels&&Ii(n,i.labelBounds.mainRot),e.includeSourceLabels&&Ii(n,i.labelBounds.sourceRot),e.includeTargetLabels&&Ii(n,i.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Mi={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},Li=Ai(Mi),Ni=yt(Mi);Ci.boundingBox=function(t){var e;if(1!==this.length||null==this[0]._private.bbCache||this[0]._private.styleDirty||void 0!==t&&void 0!==t.useCache&&!0!==t.useCache){e=te();var n=Ni(t=t||Mi);if(this.cy().styleEnabled())for(var i=0;i<this.length;i++){var r=this[i],s=r._private,o=Ri(r);r.recalculateRenderedStyle(n.useCache&&s.bbCachePosKey===o&&!s.styleDirty)}this.updateCompoundBounds(!t.useCache);for(var a=0;a<this.length;a++)Ii(e,Pi(this[a],n))}else t=void 0===t?Mi:Ni(t),e=Pi(this[0],t);return e.x1=ki(e.x1),e.y1=ki(e.y1),e.x2=ki(e.x2),e.y2=ki(e.y2),e.w=ki(e.x2-e.x1),e.h=ki(e.y2-e.y1),e},Ci.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ci.boundingBoxAt=function(t){var e=this.nodes(),n=this.cy(),i=n.hasCompoundNodes(),r=n.collection();if(i&&(r=e.filter((function(t){return t.isParent()})),e=e.not(r)),x(t)){var s=t;t=function(){return s}}n.startBatch(),e.forEach((function(e,n){return e._private.bbAtOldPos=t(e,n)})).silentPositions(t),i&&(r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),r.updateCompoundBounds(!0));var o=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}}(this.boundingBox({useCache:!1}));return e.silentPositions((function(t){return t._private.bbAtOldPos})),i&&(r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache(),r.updateCompoundBounds(!0)),n.endBatch(),o},xi.boundingbox=xi.bb=xi.boundingBox,xi.renderedBoundingbox=xi.renderedBoundingBox;var Fi,Bi,Vi=Ci;Fi=Bi={};var zi=function(t){t.uppercaseName=N(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=N(t.outerName),Fi[t.name]=function(){var e=this[0],n=e._private;if(e){if(!n.cy._private.styleEnabled)return 1;if(e.isParent())return e.updateCompoundBounds(),n[t.autoName]||0;var i=e.pstyle(t.name);switch(i.strValue){case"label":return e.recalculateRenderedStyle(),n.rstyle[t.labelName]||0;default:return i.pfValue}}},Fi["outer"+t.uppercaseName]=function(){var e=this[0];if(e)return e._private.cy._private.styleEnabled?e[t.name]()+e.pstyle("border-width").pfValue+2*e.padding():1},Fi["rendered"+t.uppercaseName]=function(){var e=this[0];if(e)return e[t.name]()*this.cy().zoom()},Fi["rendered"+t.uppercaseOuterName]=function(){var e=this[0];if(e)return e[t.outerName]()*this.cy().zoom()}};zi({name:"width"}),zi({name:"height"}),Bi.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),void 0!==e.autoPadding?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue},Bi.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()},Bi.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var ji=Bi,Hi={controlPoints:{get:function(t){return t.renderer().getControlPoints(t)},mult:!0},segmentPoints:{get:function(t){return t.renderer().getSegmentPoints(t)},mult:!0},sourceEndpoint:{get:function(t){return t.renderer().getSourceEndpoint(t)}},targetEndpoint:{get:function(t){return t.renderer().getTargetEndpoint(t)}},midpoint:{get:function(t){return t.renderer().getEdgeMidpoint(t)}}},Ui=Object.keys(Hi).reduce((function(t,e){var n=Hi[e],i=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)}(e);return t[e]=function(){return function(t,e){if(t.isEdge())return e(t)}(this,n.get)},t[i]=n.mult?function(){return function(t,e){if(t.isEdge()){var n=t.cy(),i=n.pan(),r=n.zoom();return e(t).map((function(t){return Ht(t,r,i)}))}}(this,n.get)}:function(){return function(t,e){if(t.isEdge()){var n=t.cy();return Ht(e(t),n.zoom(),n.pan())}}(this,n.get)},t}),{}),$i=V({},Si,Vi,ji,Ui),qi=function(t,e){this.recycle(t,e)};function Wi(){return!1}function Gi(){return!0}qi.prototype={instanceString:function(){return"event"},recycle:function(t,e){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Wi,null!=t&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?Gi:Wi):null!=t&&t.type?e=t:this.type=t,null!=e&&(this.originalEvent=e.originalEvent,this.type=null!=e.type?e.type:this.type,this.cy=e.cy,this.target=e.target,this.position=e.position,this.renderedPosition=e.renderedPosition,this.namespace=e.namespace,this.layout=e.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,i=this.cy.zoom(),r=this.cy.pan();this.renderedPosition={x:n.x*i+r.x,y:n.y*i+r.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Gi;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Gi;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Gi,this.stopPropagation()},isDefaultPrevented:Wi,isPropagationStopped:Wi,isImmediatePropagationStopped:Wi};var Yi=/^([^.]+)(\.(?:[^.]+))?$/,Xi={qualifierCompare:function(t,e){return t===e},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Ki=Object.keys(Xi),Zi={};function Qi(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi,e=arguments.length>1?arguments[1]:void 0,n=0;n<Ki.length;n++){var i=Ki[n];this[i]=t[i]||Xi[i]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Ji=Qi.prototype,tr=function(t,e,n,i,r,s,o){_(i)&&(r=i,i=null),o&&(s=null==s?o:V({},s,o));for(var a=w(n)?n:n.split(/\s+/),l=0;l<a.length;l++){var c=a[l];if(!D(c)){var h=c.match(Yi);if(h&&!1===e(t,c,h[1],h[2]?h[2]:null,i,r,s))break}}},er=function(t,e){return t.addEventFields(t.context,e),new qi(e.type,e)};Ji.on=Ji.addListener=function(t,e,n,i,r){return tr(this,(function(t,e,n,i,r,s,o){_(s)&&t.listeners.push({event:e,callback:s,type:n,namespace:i,qualifier:r,conf:o})}),t,e,n,i,r),this},Ji.one=function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},Ji.removeListener=Ji.off=function(t,e,n,i){var r=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var s=this.listeners,o=function(o){var a=s[o];tr(r,(function(e,n,i,r,l,c){if((a.type===i||"*"===t)&&(!r&&".*"!==a.namespace||a.namespace===r)&&(!l||e.qualifierCompare(a.qualifier,l))&&(!c||a.callback===c))return s.splice(o,1),!1}),t,e,n,i)},a=s.length-1;a>=0;a--)o(a);return this},Ji.removeAllListeners=function(){return this.removeListener("*")},Ji.emit=Ji.trigger=function(t,e,n){var i=this.listeners,r=i.length;return this.emitting++,w(e)||(e=[e]),function(t,e,n){if("event"!==y(n))if(x(n))e(t,er(t,n));else for(var i=w(n)?n:n.split(/\s+/),r=0;r<i.length;r++){var s=i[r];if(!D(s)){var o=s.match(Yi);o&&e(t,er(t,{type:o[1],namespace:o[2]?o[2]:null,target:t.context}))}}else e(t,n)}(this,(function(t,s){null!=n&&(r=(i=[{event:s.event,type:s.type,namespace:s.namespace,callback:n}]).length);for(var o=function(n){var r=i[n];if(r.type===s.type&&(!r.namespace||r.namespace===s.namespace||".*"===r.namespace)&&t.eventMatches(t.context,r,s)){var o=[s];null!=e&&function(t,e){for(var n=0;n<e.length;n++)t.push(e[n])}(o,e),t.beforeEmit(t.context,r,s),r.conf&&r.conf.one&&(t.listeners=t.listeners.filter((function(t){return t!==r})));var a=t.callbackContext(t.context,r,s),l=r.callback.apply(a,o);t.afterEmit(t.context,r,s),!1===l&&(s.stopPropagation(),s.preventDefault())}},a=0;a<r;a++)o(a);t.bubble(t.context)&&!s.isPropagationStopped()&&t.parent(t.context).emit(s,e)}),t),this.emitting--,this};var nr={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var i=e.qualifier;return null==i||t!==n.target&&E(n.target)&&i.matches(n.target)},addEventFields:function(t,e){e.cy=t.cy(),e.target=t},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t},beforeEmit:function(t,e){e.conf&&e.conf.once&&e.conf.onceCollection.removeListener(e.event,e.qualifier,e.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},ir=function(t){return b(t)?new ii(t):t},rr={createEmitter:function(){for(var t=0;t<this.length;t++){var e=this[t],n=e._private;n.emitter||(n.emitter=new Qi(nr,e))}return this},emitter:function(){return this._private.emitter},on:function(t,e,n){for(var i=ir(e),r=0;r<this.length;r++)this[r].emitter().on(t,i,n);return this},removeListener:function(t,e,n){for(var i=ir(e),r=0;r<this.length;r++)this[r].emitter().removeListener(t,i,n);return this},removeAllListeners:function(){for(var t=0;t<this.length;t++)this[t].emitter().removeAllListeners();return this},one:function(t,e,n){for(var i=ir(e),r=0;r<this.length;r++)this[r].emitter().one(t,i,n);return this},once:function(t,e,n){for(var i=ir(e),r=0;r<this.length;r++)this[r].emitter().on(t,i,n,{once:!0,onceCollection:this})},emit:function(t,e){for(var n=0;n<this.length;n++)this[n].emitter().emit(t,e);return this},emitAndNotify:function(t,e){if(0!==this.length)return this.cy().notify(t,this),this.emit(t,e),this}};jn.eventAliasesOn(rr);var sr={nodes:function(t){return this.filter((function(t){return t.isNode()})).filter(t)},edges:function(t){return this.filter((function(t){return t.isEdge()})).filter(t)},byGroup:function(){for(var t=this.spawn(),e=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?t.push(i):e.push(i)}return{nodes:t,edges:e}},filter:function(t,e){if(void 0===t)return this;if(b(t)||k(t))return new ii(t).filter(this);if(_(t)){for(var n=this.spawn(),i=0;i<this.length;i++){var r=this[i];(e?t.apply(e,[r,i,this]):t(r,i,this))&&n.push(r)}return n}return this.spawn()},not:function(t){if(t){b(t)&&(t=this.filter(t));for(var e=this.spawn(),n=0;n<this.length;n++){var i=this[n];t.has(i)||e.push(i)}return e}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(t){if(b(t))return this.filter(t);for(var e=this.spawn(),n=this.length<t.length,i=n?this:t,r=n?t:this,s=0;s<i.length;s++){var o=i[s];r.has(o)&&e.push(o)}return e},xor:function(t){var e=this._private.cy;b(t)&&(t=e.$(t));var n=this.spawn(),i=t,r=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];e.hasElementWithId(r._private.data.id)||n.push(r)}};return r(this,i),r(i,this),n},diff:function(t){var e=this._private.cy;b(t)&&(t=e.$(t));var n=this.spawn(),i=this.spawn(),r=this.spawn(),s=t,o=function(t,e,n){for(var i=0;i<t.length;i++){var s=t[i];e.hasElementWithId(s._private.data.id)?r.merge(s):n.push(s)}};return o(this,s,n),o(s,this,i),{left:n,right:i,both:r}},add:function(t){var e=this._private.cy;if(!t)return this;if(b(t)){var n=t;t=e.mutableElements().filter(n)}for(var i=this.spawnSelf(),r=0;r<t.length;r++){var s=t[r];!this.has(s)&&i.push(s)}return i},merge:function(t){var e=this._private,n=e.cy;if(!t)return this;if(t&&b(t)){var i=t;t=n.mutableElements().filter(i)}for(var r=e.map,s=0;s<t.length;s++){var o=t[s],a=o._private.data.id;if(!r.has(a)){var l=this.length++;this[l]=o,r.set(a,{ele:o,index:l})}}return this},unmergeAt:function(t){var e=this[t].id(),n=this._private.map;if(this[t]=void 0,n.delete(e),this.length>1&&t!==this.length-1){var i=this.length-1,r=this[i],s=r._private.data.id;this[i]=void 0,this[t]=r,n.set(s,{ele:r,index:t})}return this.length--,this},unmergeOne:function(t){var e=this._private.map.get((t=t[0])._private.data.id);return e?(this.unmergeAt(e.index),this):this},unmerge:function(t){var e=this._private.cy;if(!t)return this;if(t&&b(t)){var n=t;t=e.mutableElements().filter(n)}for(var i=0;i<t.length;i++)this.unmergeOne(t[i]);return this},unmergeBy:function(t){for(var e=this.length-1;e>=0;e--)t(this[e])&&this.unmergeAt(e);return this},map:function(t,e){for(var n=[],i=0;i<this.length;i++){var r=this[i],s=e?t.apply(e,[r,i,this]):t(r,i,this);n.push(s)}return n},reduce:function(t,e){for(var n=e,i=0;i<this.length;i++)n=t(n,this[i],i,this);return n},max:function(t,e){for(var n,i=-1/0,r=0;r<this.length;r++){var s=this[r],o=e?t.apply(e,[s,r,this]):t(s,r,this);o>i&&(i=o,n=s)}return{value:i,ele:n}},min:function(t,e){for(var n,i=1/0,r=0;r<this.length;r++){var s=this[r],o=e?t.apply(e,[s,r,this]):t(s,r,this);o<i&&(i=o,n=s)}return{value:i,ele:n}}},or=sr;or.u=or["|"]=or["+"]=or.union=or.or=or.add,or["\\"]=or["!"]=or["-"]=or.difference=or.relativeComplement=or.subtract=or.not,or.n=or["&"]=or["."]=or.and=or.intersection=or.intersect,or["^"]=or["(+)"]=or["(-)"]=or.symmetricDifference=or.symdiff=or.xor,or.fnFilter=or.filterFn=or.stdFilter=or.filter,or.complement=or.abscomp=or.absoluteComplement;var ar=function(t,e){var n=t.cy().hasCompoundNodes();function i(t){var e=t.pstyle("z-compound-depth");return"auto"===e.value?n?t.zDepth():0:"bottom"===e.value?-1:"top"===e.value?ot:0}var r=i(t)-i(e);if(0!==r)return r;function s(t){return"auto"===t.pstyle("z-index-compare").value&&t.isNode()?1:0}var o=s(t)-s(e);if(0!==o)return o;var a=t.pstyle("z-index").value-e.pstyle("z-index").value;return 0!==a?a:t.poolIndex()-e.poolIndex()},lr={forEach:function(t,e){if(_(t))for(var n=this.length,i=0;i<n;i++){var r=this[i];if(!1===(e?t.apply(e,[r,i,this]):t(r,i,this)))break}return this},toArray:function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},slice:function(t,e){var n=[],i=this.length;null==e&&(e=i),null==t&&(t=0),t<0&&(t=i+t),e<0&&(e=i+e);for(var r=t;r>=0&&r<e&&r<i;r++)n.push(this[r]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(t){if(!_(t))return this;var e=this.toArray().sort(t);return this.spawn(e)},sortByZIndex:function(){return this.sort(ar)},zDepth:function(){var t=this[0];if(t){var e=t._private;if("nodes"===e.group){var n=e.data.parent?t.parents().size():0;return t.isParent()?n:ot-1}var i=e.target,r=e.source.zDepth(),s=i.zDepth();return Math.max(r,s,0)}}};lr.each=lr.forEach,"undefined"!=("undefined"==typeof Symbol?"undefined":o(Symbol))&&"undefined"!=o(Symbol.iterator)&&(lr[Symbol.iterator]=function(){var t=this,e={value:void 0,done:!1},n=0,i=this.length;return h({next:function(){return n<i?e.value=t[n++]:(e.value=void 0,e.done=!0),e}},Symbol.iterator,(function(){return this}))});var cr=yt({nodeDimensionsIncludeLabels:!1}),hr={layoutDimensions:function(t){var e;if(t=cr(t),this.takesUpSpace())if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();e={w:n.w,h:n.h}}else e={w:this.outerWidth(),h:this.outerHeight()};else e={w:0,h:0};return 0!==e.w&&0!==e.h||(e.w=e.h=1),e},layoutPositions:function(t,e,n){var i=this.nodes().filter((function(t){return!t.isParent()})),r=this.cy(),s=e.eles,o=function(t){return t.id()},a=R(n,o);t.emit({type:"layoutstart",layout:t}),t.animations=[];var l=e.spacingFactor&&1!==e.spacingFactor,c=function(){if(!l)return null;for(var t=te(),e=0;e<i.length;e++){var n=a(i[e],e);ee(t,n.x,n.y)}return t}(),h=R((function(t,n){var i,r,s,o,h,u=a(t,n);return l&&(i=Math.abs(e.spacingFactor),u={x:(o=(r=c).x1+r.w/2)+((s=u).x-o)*i,y:(h=r.y1+r.h/2)+(s.y-h)*i}),null!=e.transform&&(u=e.transform(t,u)),u}),o);if(e.animate){for(var u=0;u<i.length;u++){var d=i[u],p=h(d,u);if(null==e.animateFilter||e.animateFilter(d,u)){var f=d.animation({position:p,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(f)}else d.position(p)}if(e.fit){var m=r.animation({fit:{boundingBox:s.boundingBoxAt(h),padding:e.padding},duration:e.animationDuration,easing:e.animationEasing});t.animations.push(m)}else if(void 0!==e.zoom&&void 0!==e.pan){var g=r.animation({zoom:e.zoom,pan:e.pan,duration:e.animationDuration,easing:e.animationEasing});t.animations.push(g)}t.animations.forEach((function(t){return t.play()})),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),Bn.all(t.animations.map((function(t){return t.promise()}))).then((function(){t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t})}))}else i.positions(h),e.fit&&r.fit(e.eles,e.padding),null!=e.zoom&&r.zoom(e.zoom),e.pan&&r.pan(e.pan),t.one("layoutready",e.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",e.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){return this.cy().makeLayout(V({},t,{eles:this}))}};function ur(t,e,n){var i,r=n._private,s=r.styleCache=r.styleCache||[];return null!=(i=s[t])?i:i=s[t]=e(n)}function dr(t,e){return t=tt(t),function(n){return ur(t,e,n)}}function pr(t,e){t=tt(t);var n=function(t){return e.call(t)};return function(){var e=this[0];if(e)return ur(t,n,e)}}hr.createLayout=hr.makeLayout=hr.layout;var fr={recalculateRenderedStyle:function(t){var e=this.cy(),n=e.renderer(),i=e.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t,e=this.cy(),n=function(t){return t._private.styleCache=null};return e.hasCompoundNodes()?((t=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(t.connectedEdges()),t.forEach(n)):this.forEach((function(t){n(t),t.connectedEdges().forEach(n)})),this},updateStyle:function(t){var e=this._private.cy;if(!e.styleEnabled())return this;if(e.batching())return e._private.batchStyleEles.merge(this),this;var n=this;t=!(!t&&void 0!==t),e.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var i=n;return t?i.emitAndNotify("style"):i.emit("style"),n.forEach((function(t){return t._private.styleDirty=!0})),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var e=0;e<this.length;e++){var n=this[e];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],i=n.cy();if(i.styleEnabled()&&n){this.cleanStyle();var r=n._private.style[t];return null!=r?r:e?i.style().getDefaultProperty(t):null}},numericStyle:function(t){var e=this[0];if(e.cy().styleEnabled()&&e){var n=e.pstyle(t);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(t){var e=this[0];if(e.cy().styleEnabled())return e?e.pstyle(t).units:void 0},renderedStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=this[0];return n?e.style().getRenderedStyle(n,t):void 0},style:function(t,e){var n=this.cy();if(!n.styleEnabled())return this;var i=n.style();if(x(t))i.applyBypass(this,t,!1),this.emitAndNotify("style");else if(b(t)){if(void 0===e){var r=this[0];return r?i.getStylePropertyValue(r,t):void 0}i.applyBypass(this,t,e,!1),this.emitAndNotify("style")}else if(void 0===t){var s=this[0];return s?i.getRawStyle(s):void 0}return this},removeStyle:function(t){var e=this.cy();if(!e.styleEnabled())return this;var n=e.style();if(void 0===t)for(var i=0;i<this.length;i++)n.removeAllBypasses(this[i],!1);else{t=t.split(/\s+/);for(var r=0;r<this.length;r++)n.removeBypasses(this[r],t,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var e=t.hasCompoundNodes(),n=this[0];if(n){var i=n._private,r=n.pstyle("opacity").value;if(!e)return r;var s=i.data.parent?n.parents():null;if(s)for(var o=0;o<s.length;o++)r*=s[o].pstyle("opacity").value;return r}},transparent:function(){if(!this.cy().styleEnabled())return!1;var t=this[0],e=t.cy().hasCompoundNodes();return t?e?0===t.effectiveOpacity():0===t.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function mr(t,e){var n=t._private.data.parent?t.parents():null;if(n)for(var i=0;i<n.length;i++)if(!e(n[i]))return!1;return!0}function gr(t){var e=t.ok,n=t.edgeOkViaNode||t.ok,i=t.parentOk||t.ok;return function(){var t=this.cy();if(!t.styleEnabled())return!0;var r=this[0],s=t.hasCompoundNodes();if(r){var o=r._private;if(!e(r))return!1;if(r.isNode())return!s||mr(r,i);var a=o.source,l=o.target;return n(a)&&(!s||mr(a,n))&&(a===l||n(l)&&(!s||mr(l,n)))}}}var vr=dr("eleTakesUpSpace",(function(t){return"element"===t.pstyle("display").value&&0!==t.width()&&(!t.isNode()||0!==t.height())}));fr.takesUpSpace=pr("takesUpSpace",gr({ok:vr}));var yr=dr("eleInteractive",(function(t){return"yes"===t.pstyle("events").value&&"visible"===t.pstyle("visibility").value&&vr(t)})),br=dr("parentInteractive",(function(t){return"visible"===t.pstyle("visibility").value&&vr(t)}));fr.interactive=pr("interactive",gr({ok:yr,parentOk:br,edgeOkViaNode:vr})),fr.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var _r=dr("eleVisible",(function(t){return"visible"===t.pstyle("visibility").value&&0!==t.pstyle("opacity").pfValue&&vr(t)}));fr.visible=pr("visible",gr({ok:_r,edgeOkViaNode:vr})),fr.hidden=function(){var t=this[0];if(t)return!t.visible()},fr.isBundledBezier=pr("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()})),fr.bypass=fr.css=fr.style,fr.renderedCss=fr.renderedStyle,fr.removeBypass=fr.removeCss=fr.removeStyle,fr.pstyle=fr.parsedStyle;var wr={};function xr(t){return function(){var e=arguments,n=[];if(2===e.length){var i=e[0],r=e[1];this.on(t.event,i,r)}else if(1===e.length&&_(e[0])){var s=e[0];this.on(t.event,s)}else if(0===e.length||1===e.length&&w(e[0])){for(var o=1===e.length?e[0]:null,a=0;a<this.length;a++){var l=this[a],c=!t.ableField||l._private[t.ableField],h=l._private[t.field]!=t.value;if(t.overrideAble){var u=t.overrideAble(l);if(void 0!==u&&(c=u,!u))return this}c&&(l._private[t.field]=t.value,h&&n.push(l))}var d=this.spawn(n);d.updateStyle(),d.emit(t.event),o&&d.emit(o)}return this}}function Cr(t){wr[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var n=t.overrideField(e);if(void 0!==n)return n}return e._private[t.field]}},wr[t.on]=xr({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),wr[t.off]=xr({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Cr({field:"locked",overrideField:function(t){return!!t.cy().autolock()||void 0},on:"lock",off:"unlock"}),Cr({field:"grabbable",overrideField:function(t){return!t.cy().autoungrabify()&&!t.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Cr({field:"selected",ableField:"selectable",overrideAble:function(t){return!t.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Cr({field:"selectable",overrideField:function(t){return!t.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),wr.deselect=wr.unselect,wr.grabbed=function(){var t=this[0];if(t)return t._private.grabbed},Cr({field:"active",on:"activate",off:"unactivate"}),Cr({field:"pannable",on:"panify",off:"unpanify"}),wr.inactive=function(){var t=this[0];if(t)return!t._private.active};var Sr={},kr=function(t){return function(e){for(var n=[],i=0;i<this.length;i++){var r=this[i];if(r.isNode()){for(var s=!1,o=r.connectedEdges(),a=0;a<o.length;a++){var l=o[a],c=l.source(),h=l.target();if(t.noIncomingEdges&&h===r&&c!==r||t.noOutgoingEdges&&c===r&&h!==r){s=!0;break}}s||n.push(r)}}return this.spawn(n,!0).filter(e)}},Er=function(t){return function(e){for(var n=[],i=0;i<this.length;i++){var r=this[i];if(r.isNode())for(var s=r.connectedEdges(),o=0;o<s.length;o++){var a=s[o],l=a.source(),c=a.target();t.outgoing&&l===r?(n.push(a),n.push(c)):t.incoming&&c===r&&(n.push(a),n.push(l))}}return this.spawn(n,!0).filter(e)}},Ir=function(t){return function(e){for(var n=this,i=[],r={};;){var s=t.outgoing?n.outgoers():n.incomers();if(0===s.length)break;for(var o=!1,a=0;a<s.length;a++){var l=s[a],c=l.id();r[c]||(r[c]=!0,i.push(l),o=!0)}if(!o)break;n=s}return this.spawn(i,!0).filter(e)}};function Tr(t){return function(e){for(var n=[],i=0;i<this.length;i++){var r=this[i]._private[t.attr];r&&n.push(r)}return this.spawn(n,!0).filter(e)}}function Or(t){return function(e){var n=[],i=this._private.cy,r=t||{};b(e)&&(e=i.$(e));for(var s=0;s<e.length;s++)for(var o=e[s]._private.edges,a=0;a<o.length;a++){var l=o[a],c=l._private.data,h=this.hasElementWithId(c.source)&&e.hasElementWithId(c.target),u=e.hasElementWithId(c.source)&&this.hasElementWithId(c.target);if(h||u){if(r.thisIsSrc||r.thisIsTgt){if(r.thisIsSrc&&!h)continue;if(r.thisIsTgt&&!u)continue}n.push(l)}}return this.spawn(n,!0)}}function Dr(t){return t=V({},{codirected:!1},t),function(e){for(var n=[],i=this.edges(),r=t,s=0;s<i.length;s++)for(var o=i[s]._private,a=o.source,l=a._private.data.id,c=o.data.target,h=a._private.edges,u=0;u<h.length;u++){var d=h[u],p=d._private.data,f=p.target,m=p.source,g=f===c&&m===l;(r.codirected&&g||!r.codirected&&(g||l===f&&c===m))&&n.push(d)}return this.spawn(n,!0).filter(e)}}Sr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null},V(Sr,{roots:kr({noIncomingEdges:!0}),leaves:kr({noOutgoingEdges:!0}),outgoers:li(Er({outgoing:!0}),"outgoers"),successors:Ir({outgoing:!0}),incomers:li(Er({incoming:!0}),"incomers"),predecessors:Ir({incoming:!0})}),V(Sr,{neighborhood:li((function(t){for(var e=[],n=this.nodes(),i=0;i<n.length;i++)for(var r=n[i],s=r.connectedEdges(),o=0;o<s.length;o++){var a=s[o],l=a.source(),c=a.target(),h=r===l?c:l;h.length>0&&e.push(h[0]),e.push(a[0])}return this.spawn(e,!0).filter(t)}),"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}}),Sr.neighbourhood=Sr.neighborhood,Sr.closedNeighbourhood=Sr.closedNeighborhood,Sr.openNeighbourhood=Sr.openNeighborhood,V(Sr,{source:li((function(t){var e,n=this[0];return n&&(e=n._private.source||n.cy().collection()),e&&t?e.filter(t):e}),"source"),target:li((function(t){var e,n=this[0];return n&&(e=n._private.target||n.cy().collection()),e&&t?e.filter(t):e}),"target"),sources:Tr({attr:"source"}),targets:Tr({attr:"target"})}),V(Sr,{edgesWith:li(Or(),"edgesWith"),edgesTo:li(Or({thisIsSrc:!0}),"edgesTo")}),V(Sr,{connectedEdges:li((function(t){for(var e=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode())for(var r=i._private.edges,s=0;s<r.length;s++)e.push(r[s])}return this.spawn(e,!0).filter(t)}),"connectedEdges"),connectedNodes:li((function(t){for(var e=[],n=0;n<this.length;n++){var i=this[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(t)}),"connectedNodes"),parallelEdges:li(Dr(),"parallelEdges"),codirectedEdges:li(Dr({codirected:!0}),"codirectedEdges")}),V(Sr,{components:function(t){var e=this,n=e.cy(),i=n.collection(),r=null==t?e.nodes():t.nodes(),s=[];null!=t&&r.empty()&&(r=t.sources());var o=function(t,e){i.merge(t),r.unmerge(t),e.merge(t)};if(r.empty())return e.spawn();var a=function(){var t=n.collection();s.push(t);var i=r[0];o(i,t),e.bfs({directed:!1,roots:i,visit:function(e){return o(e,t)}}),t.forEach((function(n){n.connectedEdges().forEach((function(n){e.has(n)&&t.has(n.source())&&t.has(n.target())&&t.merge(n)}))}))};do{a()}while(r.length>0);return s},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}}),Sr.componentsOf=Sr.components;var Ar=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==t){var i=new Ct,r=!1;if(e){if(e.length>0&&x(e[0])&&!E(e[0])){r=!0;for(var s=[],o=new kt,a=0,l=e.length;a<l;a++){var c=e[a];null==c.data&&(c.data={});var h=c.data;if(null==h.id)h.id=mt();else if(t.hasElementWithId(h.id)||o.has(h.id))continue;var u=new Et(t,c,!1);s.push(u),o.add(h.id)}e=s}}else e=[];this.length=0;for(var d=0,p=e.length;d<p;d++){var f=e[d][0];if(null!=f){var m=f._private.data.id;n&&i.has(m)||(n&&i.set(m,{index:this.length,ele:f}),this[this.length]=f,this.length++)}}this._private={eles:this,cy:t,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(t){this.lazyMap=t},rebuildMap:function(){for(var t=this.lazyMap=new Ct,e=this.eles,n=0;n<e.length;n++){var i=e[n];t.set(i.id(),{index:n,ele:i})}}},n&&(this._private.map=i),r&&this.restore()}else ut("A collection must have a reference to the core")},Rr=Et.prototype=Ar.prototype=Object.create(Array.prototype);Rr.instanceString=function(){return"collection"},Rr.spawn=function(t,e){return new Ar(this.cy(),t,e)},Rr.spawnSelf=function(){return this.spawn(this)},Rr.cy=function(){return this._private.cy},Rr.renderer=function(){return this._private.cy.renderer()},Rr.element=function(){return this[0]},Rr.collection=function(){return I(this)?this:new Ar(this._private.cy,[this])},Rr.unique=function(){return new Ar(this._private.cy,this,!0)},Rr.hasElementWithId=function(t){return this._private.map.has(t=""+t)},Rr.getElementById=function(t){var e=this._private.cy,n=this._private.map.get(t=""+t);return n?n.ele:new Ar(e)},Rr.$id=Rr.getElementById,Rr.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Rr.indexOf=function(t){return this._private.map.get(t[0]._private.data.id).index},Rr.indexOfId=function(t){return this._private.map.get(t=""+t).index},Rr.json=function(t){var e=this.element(),n=this.cy();if(null==e&&t)return this;if(null!=e){var i=e._private;if(x(t)){if(n.startBatch(),t.data){e.data(t.data);var r=i.data;if(e.isEdge()){var s=!1,o={},a=t.data.source,l=t.data.target;null!=a&&a!=r.source&&(o.source=""+a,s=!0),null!=l&&l!=r.target&&(o.target=""+l,s=!0),s&&(e=e.move(o))}else{var c=t.data.parent;!("parent"in t.data)||null==c&&null==r.parent||c==r.parent||(void 0===c&&(c=null),null!=c&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var h=function(n,r,s){var o=t[n];null!=o&&o!==i[n]&&(o?e[r]():e[s]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),null!=t.classes&&e.classes(t.classes),n.endBatch(),this}if(void 0===t){var u={data:ft(i.data),position:ft(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,pannable:i.pannable,classes:null};u.classes="";var d=0;return i.classes.forEach((function(t){return u.classes+=0==d++?t:" "+t})),u}}},Rr.jsons=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e].json();t.push(n)}return t},Rr.clone=function(){for(var t=this.cy(),e=[],n=0;n<this.length;n++){var i=this[n].json(),r=new Et(t,i,!1);e.push(r)}return new Ar(t,e)},Rr.copy=Rr.clone,Rr.restore=function(){for(var t,e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,s=r.cy(),o=s._private,a=[],l=[],c=0,h=r.length;c<h;c++){var u=r[c];i&&!u.removed()||(u.isNode()?a.push(u):l.push(u))}t=a.concat(l);var d=function(){t.splice(e,1),e--};for(e=0;e<t.length;e++){var p=t[e],f=p._private,m=f.data;if(p.clearTraversalCache(),i||f.removed)if(void 0===m.id)m.id=mt();else if(C(m.id))m.id=""+m.id;else{if(D(m.id)||!b(m.id)){ut("Can not create element with invalid string ID `"+m.id+"`"),d();continue}if(s.hasElementWithId(m.id)){ut("Can not create second element with ID `"+m.id+"`"),d();continue}}var g=m.id;if(p.isNode()){var v=f.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(p.isEdge()){for(var y=p,_=["source","target"],w=_.length,x=!1,S=0;S<w;S++){var k=_[S],E=m[k];C(E)&&(E=m[k]=""+m[k]),null==E||""===E?(ut("Can not create edge `"+g+"` with unspecified "+k),x=!0):s.hasElementWithId(E)||(ut("Can not create edge `"+g+"` with nonexistant "+k+" `"+E+"`"),x=!0)}if(x){d();continue}var I=s.getElementById(m.source),T=s.getElementById(m.target);I.same(T)?I._private.edges.push(y):(I._private.edges.push(y),T._private.edges.push(y)),y._private.source=I,y._private.target=T}f.map=new Ct,f.map.set(g,{ele:p,index:0}),f.removed=!1,i&&s.addToPool(p)}for(var O=0;O<a.length;O++){var A=a[O],R=A._private.data;C(R.parent)&&(R.parent=""+R.parent);var P=R.parent,M=null!=P;if(M){var L=s.getElementById(P);if(L.empty())R.parent=void 0;else{for(var N=!1,F=L;!F.empty();){if(A.same(F)){N=!0,R.parent=void 0;break}F=F.parent()}N||(L[0]._private.children.push(A),A._private.parent=L[0],o.hasCompoundNodes=!0)}}}if(t.length>0){for(var B=t.length===r.length?r:new Ar(s,t),V=0;V<B.length;V++){var z=B[V];z.isNode()||(z.parallelEdges().clearTraversalCache(),z.source().clearTraversalCache(),z.target().clearTraversalCache())}(o.hasCompoundNodes?s.collection().merge(B).merge(B.connectedNodes()).merge(B.parent()):B).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?B.emitAndNotify("add"):i&&B.emit("add")}return r},Rr.removed=function(){var t=this[0];return t&&t._private.removed},Rr.inside=function(){var t=this[0];return t&&!t._private.removed},Rr.remove=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,i=[],r={},s=n._private.cy;function o(t){for(var e=t._private.edges,n=0;n<e.length;n++)l(e[n])}function a(t){for(var e=t._private.children,n=0;n<e.length;n++)l(e[n])}function l(t){var n=r[t.id()];e&&t.removed()||n||(r[t.id()]=!0,t.isNode()?(i.push(t),o(t),a(t)):i.unshift(t))}for(var c=0,h=n.length;c<h;c++){var u=n[c];l(u)}function d(t,e){bt(t._private.edges,e),t.clearTraversalCache()}function p(t){t.clearTraversalCache()}var f=[];function m(t,e){e=e[0];var n=(t=t[0])._private.children,i=t.id();bt(n,e),e._private.parent=null,f.ids[i]||(f.ids[i]=!0,f.push(t))}f.ids={},n.dirtyCompoundBoundsCache(),e&&s.removeFromPool(i);for(var g=0;g<i.length;g++){var v=i[g];if(v.isEdge()){var y=v.source()[0],b=v.target()[0];d(y,v),d(b,v);for(var _=v.parallelEdges(),w=0;w<_.length;w++){var x=_[w];p(x),x.isBundledBezier()&&x.dirtyBoundingBoxCache()}}else{var C=v.parent();0!==C.length&&m(C,v)}e&&(v._private.removed=!0)}var S=s._private.elements;s._private.hasCompoundNodes=!1;for(var k=0;k<S.length;k++){var E=S[k];if(E.isParent()){s._private.hasCompoundNodes=!0;break}}var I=new Ar(this.cy(),i);I.size()>0&&(t?I.emitAndNotify("remove"):e&&I.emit("remove"));for(var T=0;T<f.length;T++){var O=f[T];e&&O.removed()||O.updateStyle()}return I},Rr.move=function(t){var e=this._private.cy,n=this,i=function(t){return null==t?t:""+t};if(void 0!==t.source||void 0!==t.target){var r=i(t.source),s=i(t.target),o=null!=r&&e.hasElementWithId(r),a=null!=s&&e.hasElementWithId(s);(o||a)&&(e.batch((function(){n.remove(!1,!1),n.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var e=n[t],i=e._private.data;e.isEdge()&&(o&&(i.source=r),a&&(i.target=s))}n.restore(!1,!1)})),n.emitAndNotify("move"))}else if(void 0!==t.parent){var l=i(t.parent);if(null===l||e.hasElementWithId(l)){var c=null===l?void 0:l;e.batch((function(){var t=n.remove(!1,!1);t.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var i=n[e],r=i._private.data;i.isNode()&&(r.parent=c)}t.restore(!1,!1)})),n.emitAndNotify("move")}}return this},[An,Hn,Un,si,ci,gi,vi,$i,rr,sr,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},lr,hr,fr,wr,Sr].forEach((function(t){V(Rr,t)}));var Pr={add:function(t){var e,n=this;if(k(t)){var i=t;if(i._private.cy===n)e=i.restore();else{for(var r=[],s=0;s<i.length;s++)r.push(i[s].json());e=new Ar(n,r)}}else if(w(t))e=new Ar(n,t);else if(x(t)&&(w(t.nodes)||w(t.edges))){for(var o=t,a=[],l=["nodes","edges"],c=0,h=l.length;c<h;c++){var u=l[c],d=o[u];if(w(d))for(var p=0,f=d.length;p<f;p++){var m=V({group:u},d[p]);a.push(m)}}e=new Ar(n,a)}else e=new Et(n,t).collection();return e},remove:function(t){return k(t)||b(t)&&(t=this.$(t)),t.remove()}},Mr=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,i){var r={x:e.x+i.dx*n,v:e.v+i.dv*n,tension:e.tension,friction:e.friction};return{dx:r.v,dv:t(r)}}function n(n,i){var r={dx:n.v,dv:t(n)},s=e(n,.5*i,r),o=e(n,.5*i,s),a=e(n,i,o),l=1/6*(r.dv+2*(s.dv+o.dv)+a.dv);return n.x=n.x+1/6*(r.dx+2*(s.dx+o.dx)+a.dx)*i,n.v=n.v+l*i,n}return function t(e,i,r){var s,o,a,l={x:-1,v:0,tension:null,friction:null},c=[0],h=0;for(e=parseFloat(e)||500,i=parseFloat(i)||20,r=r||null,l.tension=e,l.friction=i,o=(s=null!==r)?(h=t(e,i))/r*.016:.016;a=n(a||l,o),c.push(1+a.x),h+=16,Math.abs(a.x)>1e-4&&Math.abs(a.v)>1e-4;);return s?function(t){return c[t*(c.length-1)|0]}:h}}(),Lr=function(t,e,n,i){var r=function(t,e,n,i){var r=4,s=.001,o=1e-7,a=10,l=11,c=1/(l-1),h="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var u=0;u<4;++u)if("number"!=typeof arguments[u]||isNaN(arguments[u])||!isFinite(arguments[u]))return!1;t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0);var d=h?new Float32Array(l):new Array(l);function p(t,e){return 1-3*e+3*t}function f(t,e){return 3*e-6*t}function m(t){return 3*t}function g(t,e,n){return((p(e,n)*t+f(e,n))*t+m(e))*t}function v(t,e,n){return 3*p(e,n)*t*t+2*f(e,n)*t+m(e)}function y(e,i){for(var s=0;s<r;++s){var o=v(i,t,n);if(0===o)return i;i-=(g(i,t,n)-e)/o}return i}function b(){for(var e=0;e<l;++e)d[e]=g(e*c,t,n)}function _(e,i,r){var s,l,c=0;do{(s=g(l=i+(r-i)/2,t,n)-e)>0?r=l:i=l}while(Math.abs(s)>o&&++c<a);return l}function w(e){for(var i=0,r=1,o=l-1;r!==o&&d[r]<=e;++r)i+=c;--r;var a=i+(e-d[r])/(d[r+1]-d[r])*c,h=v(a,t,n);return h>=s?y(e,a):0===h?a:_(e,i,i+c)}var x=!1;function C(){x=!0,t===e&&n===i||b()}var S=function(r){return x||C(),t===e&&n===i?r:0===r?0:1===r?1:g(w(r),e,i)};S.getControlPoints=function(){return[{x:t,y:e},{x:n,y:i}]};var k="generateBezier("+[t,e,n,i]+")";return S.toString=function(){return k},S}(t,e,n,i);return function(t,e,n){return t+(e-t)*r(n)}},Nr={linear:function(t,e,n){return t+(e-t)*n},ease:Lr(.25,.1,.25,1),"ease-in":Lr(.42,0,1,1),"ease-out":Lr(0,0,.58,1),"ease-in-out":Lr(.42,0,.58,1),"ease-in-sine":Lr(.47,0,.745,.715),"ease-out-sine":Lr(.39,.575,.565,1),"ease-in-out-sine":Lr(.445,.05,.55,.95),"ease-in-quad":Lr(.55,.085,.68,.53),"ease-out-quad":Lr(.25,.46,.45,.94),"ease-in-out-quad":Lr(.455,.03,.515,.955),"ease-in-cubic":Lr(.55,.055,.675,.19),"ease-out-cubic":Lr(.215,.61,.355,1),"ease-in-out-cubic":Lr(.645,.045,.355,1),"ease-in-quart":Lr(.895,.03,.685,.22),"ease-out-quart":Lr(.165,.84,.44,1),"ease-in-out-quart":Lr(.77,0,.175,1),"ease-in-quint":Lr(.755,.05,.855,.06),"ease-out-quint":Lr(.23,1,.32,1),"ease-in-out-quint":Lr(.86,0,.07,1),"ease-in-expo":Lr(.95,.05,.795,.035),"ease-out-expo":Lr(.19,1,.22,1),"ease-in-out-expo":Lr(1,0,0,1),"ease-in-circ":Lr(.6,.04,.98,.335),"ease-out-circ":Lr(.075,.82,.165,1),"ease-in-out-circ":Lr(.785,.135,.15,.86),spring:function(t,e,n){if(0===n)return Nr.linear;var i=Mr(t,e,n);return function(t,e,n){return t+(e-t)*i(n)}},"cubic-bezier":Lr};function Fr(t,e,n,i,r){if(1===i)return n;if(e===n)return n;var s=r(e,n,i);return null==t||((t.roundValue||t.color)&&(s=Math.round(s)),void 0!==t.min&&(s=Math.max(s,t.min)),void 0!==t.max&&(s=Math.min(s,t.max))),s}function Br(t,e){return null!=t.pfValue||null!=t.value?null==t.pfValue||null!=e&&"%"===e.type.units?t.value:t.pfValue:t}function Vr(t,e,n,i,r){var s=null!=r?r.type:null;n<0?n=0:n>1&&(n=1);var o=Br(t,r),a=Br(e,r);if(C(o)&&C(a))return Fr(s,o,a,n,i);if(w(o)&&w(a)){for(var l=[],c=0;c<a.length;c++){var h=o[c],u=a[c];if(null!=h&&null!=u){var d=Fr(s,h,u,n,i);l.push(d)}else l.push(u)}return l}}function zr(t,e,n,i){var r=!i,s=t._private,o=e._private,a=o.easing,l=o.startTime,c=(i?t:t.cy()).style();if(!o.easingImpl)if(null==a)o.easingImpl=Nr.linear;else{var h,u,d;h=b(a)?c.parse("transition-timing-function",a).value:a,b(h)?(u=h,d=[]):(u=h[1],d=h.slice(2).map((function(t){return+t}))),d.length>0?("spring"===u&&d.push(o.duration),o.easingImpl=Nr[u].apply(null,d)):o.easingImpl=Nr[u]}var p,f=o.easingImpl;if(p=0===o.duration?1:(n-l)/o.duration,o.applying&&(p=o.progress),p<0?p=0:p>1&&(p=1),null==o.delay){var m=o.startPosition,g=o.position;if(g&&r&&!t.locked()){var v={};jr(m.x,g.x)&&(v.x=Vr(m.x,g.x,p,f)),jr(m.y,g.y)&&(v.y=Vr(m.y,g.y,p,f)),t.position(v)}var y=o.startPan,_=o.pan,w=s.pan,x=null!=_&&i;x&&(jr(y.x,_.x)&&(w.x=Vr(y.x,_.x,p,f)),jr(y.y,_.y)&&(w.y=Vr(y.y,_.y,p,f)),t.emit("pan"));var C=o.startZoom,S=o.zoom,k=null!=S&&i;k&&(jr(C,S)&&(s.zoom=Jt(s.minZoom,Vr(C,S,p,f),s.maxZoom)),t.emit("zoom")),(x||k)&&t.emit("viewport");var E=o.style;if(E&&E.length>0&&r){for(var I=0;I<E.length;I++){var T=E[I],O=T.name,D=o.startStyle[O],A=Vr(D,T,p,f,c.properties[D.name]);c.overrideBypass(t,O,A)}t.emit("style")}}return o.progress=p,p}function jr(t,e){return!(null==t||null==e||!(C(t)&&C(e)||t&&e))}function Hr(t,e,n,i){var r=e._private;r.started=!0,r.startTime=n-r.progress*r.duration}function Ur(t,e){var n=e._private.aniEles,i=[];function r(e,n){var r=e._private,s=r.animation.current,o=r.animation.queue,a=!1;if(0===s.length){var l=o.shift();l&&s.push(l)}for(var c=function(t){for(var e=t.length-1;e>=0;e--)(0,t[e])();t.splice(0,t.length)},h=s.length-1;h>=0;h--){var u=s[h],d=u._private;d.stopped?(s.splice(h,1),d.hooked=!1,d.playing=!1,d.started=!1,c(d.frames)):(d.playing||d.applying)&&(d.playing&&d.applying&&(d.applying=!1),d.started||Hr(0,u,t),zr(e,u,t,n),d.applying&&(d.applying=!1),c(d.frames),null!=d.step&&d.step(t),u.completed()&&(s.splice(h,1),d.hooked=!1,d.playing=!1,d.started=!1,c(d.completes)),a=!0)}return n||0!==s.length||0!==o.length||i.push(e),a}for(var s=!1,o=0;o<n.length;o++){var a=r(n[o]);s=s||a}var l=r(e,!0);(s||l)&&(n.length>0?e.notify("draw",n):e.notify("draw")),n.unmerge(i),e.emit("step")}var $r={animate:jn.animate(),animation:jn.animation(),animated:jn.animated(),clearQueue:jn.clearQueue(),delay:jn.delay(),delayAnimation:jn.delayAnimation(),stop:jn.stop(),addToAnimationPool:function(t){this.styleEnabled()&&this._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,t.styleEnabled()){var e=t.renderer();e&&e.beforeRender?e.beforeRender((function(e,n){Ur(n,t)}),e.beforeRenderPriorities.animations):function e(){t._private.animationsRunning&&W((function(n){Ur(n,t),e()}))}()}}},qr={qualifierCompare:function(t,e){return null==t||null==e?null==t&&null==e:t.sameText(e)},eventMatches:function(t,e,n){var i=e.qualifier;return null==i||t!==n.target&&E(n.target)&&i.matches(n.target)},addEventFields:function(t,e){e.cy=t,e.target=t},callbackContext:function(t,e,n){return null!=e.qualifier?n.target:t}},Wr=function(t){return b(t)?new ii(t):t},Gr={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new Qi(qr,this)),this},emitter:function(){return this._private.emitter},on:function(t,e,n){return this.emitter().on(t,Wr(e),n),this},removeListener:function(t,e,n){return this.emitter().removeListener(t,Wr(e),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,e,n){return this.emitter().one(t,Wr(e),n),this},once:function(t,e,n){return this.emitter().one(t,Wr(e),n),this},emit:function(t,e){return this.emitter().emit(t,e),this},emitAndNotify:function(t,e){return this.emit(t),this.notify(t,e),this}};jn.eventAliasesOn(Gr);var Yr={png:function(t){return this._private.renderer.png(t=t||{})},jpg:function(t){var e=this._private.renderer;return(t=t||{}).bg=t.bg||"#fff",e.jpg(t)}};Yr.jpeg=Yr.jpg;var Xr={layout:function(t){if(null!=t)if(null!=t.name){var e,n=t.name,i=this.extension("layout",n);if(null!=i)return e=b(t.eles)?this.$(t.eles):null!=t.eles?t.eles:this.$(),new i(V({},t,{cy:this,eles:e}));ut("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else ut("A `name` must be specified to make a layout");else ut("Layout options must be specified to make a layout")}};Xr.createLayout=Xr.makeLayout=Xr.layout;var Kr={notify:function(t,e){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();null!=e&&i.merge(e)}else if(n.notificationsEnabled){var r=this.renderer();!this.destroyed()&&r&&r.notify(t,e)}},notifications:function(t){var e=this._private;return void 0===t?e.notificationsEnabled:(e.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return null==t.batchCount&&(t.batchCount=0),0===t.batchCount&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(0===t.batchCount)return this;if(t.batchCount--,0===t.batchCount){t.batchStyleEles.updateStyle();var e=this.renderer();Object.keys(t.batchNotifications).forEach((function(n){var i=t.batchNotifications[n];i.empty()?e.notify(n):e.notify(n,i)}))}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var e=this;return this.batch((function(){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i],s=t[r];e.getElementById(r).data(s)}}))}},Zr=yt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Qr={renderTo:function(t,e,n,i){return this._private.renderer.renderTo(t,e,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var e=this.extension("renderer",t.name);if(null!=e){void 0!==t.wheelSensitivity&&pt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=Zr(t);n.cy=this,this._private.renderer=new e(n),this.notify("init")}else ut("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){this.notify("destroy");var t=this.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach((function(t){var e=t._private;e.rscratch={},e.rstyle={},e.animation.current=[],e.animation.queue=[]}))},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};Qr.invalidateDimensions=Qr.resize;var Jr={collection:function(t,e){return b(t)?this.$(t):k(t)?t.collection():w(t)?new Ar(this,t,e):new Ar(this)},nodes:function(t){var e=this.$((function(t){return t.isNode()}));return t?e.filter(t):e},edges:function(t){var e=this.$((function(t){return t.isEdge()}));return t?e.filter(t):e},$:function(t){var e=this._private.elements;return t?e.filter(t):e.spawnSelf()},mutableElements:function(){return this._private.elements}};Jr.elements=Jr.filter=Jr.$;var ts={apply:function(t){for(var e=this._private.cy.collection(),n=0;n<t.length;n++){var i=t[n],r=this.getContextMeta(i);if(!r.empty){var s=this.getContextStyle(r),o=this.applyContextStyle(r,s,i);i._private.appliedInitStyle?this.updateTransitions(i,o.diffProps):i._private.appliedInitStyle=!0,this.updateStyleHints(i)&&e.push(i)}}return e},getPropertiesDiff:function(t,e){var n=this._private.propDiffs=this._private.propDiffs||{},i=t+"-"+e,r=n[i];if(r)return r;for(var s=[],o={},a=0;a<this.length;a++){var l=this[a],c="t"===e[a],h="t"===t[a]!==c,u=l.mappedProperties.length>0;if(h||c&&u){var d=void 0;h&&u||h?d=l.properties:u&&(d=l.mappedProperties);for(var p=0;p<d.length;p++){for(var f=d[p],m=f.name,g=!1,v=a+1;v<this.length&&("t"!==e[v]||!(g=null!=this[v].properties[f.name]));v++);o[m]||g||(o[m]=!0,s.push(m))}}}return n[i]=s,s},getContextMeta:function(t){for(var e,n="",i=t._private.styleCxtKey||"",r=0;r<this.length;r++){var s=this[r];n+=s.selector&&s.selector.matches(t)?"t":"f"}return e=this.getPropertiesDiff(i,n),t._private.styleCxtKey=n,{key:n,diffPropNames:e,empty:0===e.length}},getContextStyle:function(t){var e=t.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},r=0;r<this.length;r++){var s=this[r];if("t"===e[r])for(var o=0;o<s.properties.length;o++){var a=s.properties[o];i[a.name]=a}}return n[e]=i,i},applyContextStyle:function(t,e,n){for(var i=t.diffPropNames,r={},s=this.types,o=0;o<i.length;o++){var a=i[o],l=e[a],c=n.pstyle(a);if(!l){if(!c)continue;l=c.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(c!==l){if(l.mapped===s.fn&&null!=c&&null!=c.mapping&&c.mapping.value===l.value){var h=c.mapping;if((h.fnValue=l.value(n))===h.prevFnValue)continue}var u=r[a]={prev:c};this.applyParsedProperty(n,l),u.next=n.pstyle(a),u.next&&u.next.bypass&&(u.next=u.next.bypassed)}}return{diffProps:r}},updateStyleHints:function(t){var e,n=t._private,i=this,r=i.propertyGroupKeys,s=function(t,e,n){return i.getPropertiesHash(t,e,n)},o=n.styleKey;if(t.removed())return!1;var a="nodes"===n.group,l=t._private.style;e=Object.keys(l);for(var c=0;c<r.length;c++)n.styleKeys[r[c]]=[9261,5381];for(var h,u=function(t,e){return n.styleKeys[e][0]=K(t,n.styleKeys[e][0])},d=function(t,e){return n.styleKeys[e][1]=Z(t,n.styleKeys[e][1])},p=function(t,e){u(t,e),d(t,e)},f=function(t,e){for(var n=0;n<t.length;n++){var i=t.charCodeAt(n);u(i,e),d(i,e)}},m=0;m<e.length;m++){var g=e[m],v=l[g];if(null!=v){var y=this.properties[g],b=y.type,_=y.groupKey,w=void 0;null!=y.hashOverride?w=y.hashOverride(t,v):null!=v.pfValue&&(w=v.pfValue);var x=null==y.enums?v.value:null,C=null!=w,S=v.units;!b.number||!C&&null==x||b.multiple?f(v.strValue,_):(p(-128<(h=C?w:x)&&h<128&&Math.floor(h)!==h?2e9-(1024*h|0):h,_),C||null==S||f(S,_))}}for(var k=[9261,5381],E=0;E<r.length;E++){var I=n.styleKeys[r[E]];k[0]=K(I[0],k[0]),k[1]=Z(I[1],k[1])}n.styleKey=2097152*k[0]+k[1];var T=n.styleKeys;n.labelDimsKey=Q(T.labelDimensions);var O=s(t,["label"],T.labelDimensions);if(n.labelKey=Q(O),n.labelStyleKey=Q(J(T.commonLabel,O)),!a){var D=s(t,["source-label"],T.labelDimensions);n.sourceLabelKey=Q(D),n.sourceLabelStyleKey=Q(J(T.commonLabel,D));var A=s(t,["target-label"],T.labelDimensions);n.targetLabelKey=Q(A),n.targetLabelStyleKey=Q(J(T.commonLabel,A))}if(a){var R=n.styleKeys,P=R.pie,M=[R.nodeBody,R.nodeBorder,R.backgroundImage,R.compound,P].filter((function(t){return null!=t})).reduce(J,[9261,5381]);n.nodeKey=Q(M),n.hasPie=null!=P&&9261!==P[0]&&5381!==P[1]}return o!==n.styleKey},clearStyleHints:function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null},applyParsedProperty:function(t,e){var n,i=this,r=e,s=t._private.style,o=i.types,a=i.properties[r.name].type,l=r.bypass,c=s[r.name],h=c&&c.bypass,u=t._private,d=function(t){return null==t?null:null!=t.pfValue?t.pfValue:t.value},p=function(){var e=d(c),n=d(r);i.checkTriggers(t,r.name,e,n)};if(r&&"pie"===r.name.substr(0,3)&&pt("The pie style properties are deprecated.  Create charts using background images instead."),"curve-style"===e.name&&t.isEdge()&&("bezier"!==e.value&&t.isLoop()||"haystack"===e.value&&(t.source().isParent()||t.target().isParent()))&&(r=e=this.parse(e.name,"bezier",l)),r.delete)return s[r.name]=void 0,p(),!0;if(r.deleteBypassed)return c?!!c.bypass&&(c.bypassed=void 0,p(),!0):(p(),!0);if(r.deleteBypass)return c?!!c.bypass&&(s[r.name]=c.bypassed,p(),!0):(p(),!0);var f=function(){pt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case o.mapData:for(var m,g=r.field.split("."),v=u.data,y=0;y<g.length&&v;y++)v=v[g[y]];if(null==v)return f(),!1;if(!C(v))return pt("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+v+"` for `"+t.id()+"` is non-numeric)"),!1;var b=r.fieldMax-r.fieldMin;if((m=0===b?0:(v-r.fieldMin)/b)<0?m=0:m>1&&(m=1),a.color){var _=r.valueMin[0],w=r.valueMin[1],x=r.valueMax[1],S=r.valueMin[2],k=r.valueMax[2],E=null==r.valueMin[3]?1:r.valueMin[3],I=null==r.valueMax[3]?1:r.valueMax[3],T=[Math.round(_+(r.valueMax[0]-_)*m),Math.round(w+(x-w)*m),Math.round(S+(k-S)*m),Math.round(E+(I-E)*m)];n={bypass:r.bypass,name:r.name,value:T,strValue:"rgb("+T[0]+", "+T[1]+", "+T[2]+")"}}else{if(!a.number)return!1;n=this.parse(r.name,r.valueMin+(r.valueMax-r.valueMin)*m,r.bypass,"mapping")}if(!n)return f(),!1;n.mapping=r,r=n;break;case o.data:for(var O=r.field.split("."),D=u.data,A=0;A<O.length&&D;A++)D=D[O[A]];if(null!=D&&(n=this.parse(r.name,D,r.bypass,"mapping")),!n)return f(),!1;n.mapping=r,r=n;break;case o.fn:var R=null!=r.fnValue?r.fnValue:(0,r.value)(t);if(r.prevFnValue=R,null==R)return pt("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+t.id()+"` is null)"),!1;if(!(n=this.parse(r.name,R,r.bypass,"mapping")))return pt("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+t.id()+"` is invalid)"),!1;n.mapping=ft(r),r=n;break;case void 0:break;default:return!1}return l?(r.bypassed=h?c.bypassed:c,s[r.name]=r):h?c.bypassed=r:s[r.name]=r,p(),!0},cleanElements:function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),e)for(var r=i._private.style,s=Object.keys(r),o=0;o<s.length;o++){var a=s[o],l=r[a];null!=l&&(l.bypass?l.bypassed=null:r[a]=null)}else i._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(t,e){var n=this,i=t._private,r=t.pstyle("transition-property").value,s=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(r.length>0&&s>0){for(var a={},l=!1,c=0;c<r.length;c++){var h=r[c],u=t.pstyle(h),d=e[h];if(d){var p=d.prev,f=null!=d.next?d.next:u,m=!1,g=void 0;p&&(C(p.pfValue)&&C(f.pfValue)?g=p.pfValue+1e-6*(m=f.pfValue-p.pfValue):C(p.value)&&C(f.value)?g=p.value+1e-6*(m=f.value-p.value):w(p.value)&&w(f.value)&&(m=p.value[0]!==f.value[0]||p.value[1]!==f.value[1]||p.value[2]!==f.value[2],g=p.strValue),m&&(a[h]=f.strValue,this.applyBypass(t,h,g),l=!0))}}if(!l)return;i.transitioning=!0,new Bn((function(e){o>0?t.delayAnimation(o).play().promise().then(e):e()})).then((function(){return t.animation({style:a,duration:s,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){n.removeBypasses(t,r),t.emitAndNotify("style"),i.transitioning=!1}))}else i.transitioning&&(this.removeBypasses(t,r),t.emitAndNotify("style"),i.transitioning=!1)},checkTrigger:function(t,e,n,i,r,s){var o=this.properties[e],a=r(o);null!=a&&a(n,i)&&s(o)},checkZOrderTrigger:function(t,e,n,i){var r=this;this.checkTrigger(t,e,n,i,(function(t){return t.triggersZOrder}),(function(){r._private.cy.notify("zorder",t)}))},checkBoundsTrigger:function(t,e,n,i){this.checkTrigger(t,e,n,i,(function(t){return t.triggersBounds}),(function(r){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),"curve-style"!==e||"bezier"!==n&&"bezier"!==i||!r.triggersBoundsOfParallelBeziers||t.parallelEdges().forEach((function(t){t.isBundledBezier()&&t.dirtyBoundingBoxCache()}))}))},checkTriggers:function(t,e,n,i){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,n,i),this.checkBoundsTrigger(t,e,n,i)}},es={applyBypass:function(t,e,n,i){var r=[];if("*"===e||"**"===e){if(void 0!==n)for(var s=0;s<this.properties.length;s++){var o=this.parse(this.properties[s].name,n,!0);o&&r.push(o)}}else if(b(e)){var a=this.parse(e,n,!0);a&&r.push(a)}else{if(!x(e))return!1;var l=e;i=n;for(var c=Object.keys(l),h=0;h<c.length;h++){var u=c[h],d=l[u];if(void 0===d&&(d=l[M(u)]),void 0!==d){var p=this.parse(u,d,!0);p&&r.push(p)}}}if(0===r.length)return!1;for(var f=!1,m=0;m<t.length;m++){for(var g=t[m],v={},y=void 0,_=0;_<r.length;_++){var w=r[_];if(i){var C=g.pstyle(w.name);y=v[w.name]={prev:C}}f=this.applyParsedProperty(g,ft(w))||f,i&&(y.next=g.pstyle(w.name))}f&&this.updateStyleHints(g),i&&this.updateTransitions(g,v,!0)}return f},overrideBypass:function(t,e,n){e=P(e);for(var i=0;i<t.length;i++){var r=t[i],s=r._private.style[e],o=this.properties[e].type,a=o.color,l=o.mutiple,c=s?null!=s.pfValue?s.pfValue:s.value:null;s&&s.bypass?(s.value=n,null!=s.pfValue&&(s.pfValue=n),s.strValue=a?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(r)):this.applyBypass(r,e,n),this.checkTriggers(r,e,c,n)}},removeAllBypasses:function(t,e){return this.removeBypasses(t,this.propertyNames,e)},removeBypasses:function(t,e,n){for(var i=0;i<t.length;i++){for(var r=t[i],s={},o=0;o<e.length;o++){var a=e[o],l=this.properties[a],c=r.pstyle(l.name);if(c&&c.bypass){var h=this.parse(a,"",!0),u=s[l.name]={prev:c};this.applyParsedProperty(r,h),u.next=r.pstyle(l.name)}}this.updateStyleHints(r),n&&this.updateTransitions(r,s,!0)}}},ns={getEmSizeInPixels:function(){var t=this.containerCss("font-size");return null!=t?parseFloat(t):1},containerCss:function(t){var e=this._private.cy.container();if(d&&e&&d.getComputedStyle)return d.getComputedStyle(e).getPropertyValue(t)}},is={getRenderedStyle:function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)},getRawStyle:function(t,e){if(t=t[0]){for(var n={},i=0;i<this.properties.length;i++){var r=this.properties[i],s=this.getStylePropertyValue(t,r.name,e);null!=s&&(n[r.name]=s,n[M(r.name)]=s)}return n}},getIndexedStyle:function(t,e,n,i){var r=t.pstyle(e)[n][i];return null!=r?r:t.cy().style().getDefaultProperty(e)[n][0]},getStylePropertyValue:function(t,e,n){if(t=t[0]){var i=this.properties[e];i.alias&&(i=i.pointsTo);var r=i.type,s=t.pstyle(i.name);if(s){var o=s.value,a=s.units,l=s.strValue;if(n&&r.number&&null!=o&&C(o)){var c=t.cy().zoom(),h=function(t){return t*c},u=function(t,e){return h(t)+e},d=w(o);return(d?a.every((function(t){return null!=t})):null!=a)?d?o.map((function(t,e){return u(t,a[e])})).join(" "):u(o,a):d?o.map((function(t){return b(t)?t:""+h(t)})).join(" "):""+h(o)}if(null!=l)return l}return null}},getAnimationStartStyle:function(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i].name,s=t.pstyle(r);void 0!==s&&(s=x(s)?this.parse(r,s.strValue):this.parse(r,s)),s&&(n[r]=s)}return n},getPropsList:function(t){var e=[],n=t,i=this.properties;if(n)for(var r=Object.keys(n),s=0;s<r.length;s++){var o=r[s],a=n[o],l=i[o]||i[P(o)],c=this.parse(l.name,a);c&&e.push(c)}return e},getNonDefaultPropertiesHash:function(t,e,n){var i,r,s,o,a,l=n.slice();for(o=0;o<e.length;o++)if(null!=(i=t.pstyle(e[o],!1)))if(null!=i.pfValue)l[0]=K(s,l[0]),l[1]=Z(s,l[1]);else for(r=i.strValue,a=0;a<r.length;a++)s=r.charCodeAt(a),l[0]=K(s,l[0]),l[1]=Z(s,l[1]);return l}};is.getPropertiesHash=is.getNonDefaultPropertiesHash;var rs={appendFromJson:function(t){for(var e=0;e<t.length;e++){var n=t[e],i=n.selector,r=n.style||n.css,s=Object.keys(r);this.selector(i);for(var o=0;o<s.length;o++){var a=s[o];this.css(a,r[a])}}return this},fromJson:function(t){return this.resetToDefault(),this.appendFromJson(t),this},json:function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var n=this[e],i=n.selector,r=n.properties,s={},o=0;o<r.length;o++){var a=r[o];s[a.name]=a.strValue}t.push({selector:i?i.toString():"core",style:s})}return t}},ss={appendFromString:function(t){var e,n,i,r=""+t;function s(){r=r.length>e.length?r.substr(e.length):""}function o(){n=n.length>i.length?n.substr(i.length):""}for(r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");!r.match(/^\s*$/);){var a=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!a){pt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}e=a[0];var l=a[1];if("core"!==l&&new ii(l).invalid)pt("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),s();else{var c=a[2],h=!1;n=c;for(var u=[];!n.match(/^\s*$/);){var d=n.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!d){pt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+c),h=!0;break}i=d[0];var p=d[1],f=d[2];this.properties[p]?this.parse(p,f)?(u.push({name:p,val:f}),o()):(pt("Skipping property: Invalid property definition in: "+i),o()):(pt("Skipping property: Invalid property name in: "+i),o())}if(h){s();break}this.selector(l);for(var m=0;m<u.length;m++){var g=u[m];this.css(g.name,g.val)}s()}}return this},fromString:function(t){return this.resetToDefault(),this.appendFromString(t),this}},os={};!function(){var t=F,e=function(t){return"^"+t+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(e){var n=t+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+e+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},i=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];os.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:e("data")},layoutData:{mapping:!0,regex:e("layoutData")},scratch:{mapping:!0,regex:e("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:i,singleRegexMatchValue:!0},urls:{regexes:i,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(t,e){switch(t.length){case 2:return"deg"!==e[0]&&"rad"!==e[0]&&"deg"!==e[1]&&"rad"!==e[1];case 1:return b(t[0])||"deg"===e[0]||"rad"===e[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(t){var e=t.length;return 1===e||2===e||4===e}}};var r={zeroNonZero:function(t,e){return(null==t||null==e)&&t!==e||0==t&&0!=e||0!=t&&0==e},any:function(t,e){return t!=e},emptyNonEmpty:function(t,e){var n=D(t),i=D(e);return n&&!i||!n&&i}},s=os.types,o=[{name:"label",type:s.text,triggersBounds:r.any,triggersZOrder:r.emptyNonEmpty},{name:"text-rotation",type:s.textRotation,triggersBounds:r.any},{name:"text-margin-x",type:s.bidirectionalSize,triggersBounds:r.any},{name:"text-margin-y",type:s.bidirectionalSize,triggersBounds:r.any}],a=[{name:"source-label",type:s.text,triggersBounds:r.any},{name:"source-text-rotation",type:s.textRotation,triggersBounds:r.any},{name:"source-text-margin-x",type:s.bidirectionalSize,triggersBounds:r.any},{name:"source-text-margin-y",type:s.bidirectionalSize,triggersBounds:r.any},{name:"source-text-offset",type:s.size,triggersBounds:r.any}],l=[{name:"target-label",type:s.text,triggersBounds:r.any},{name:"target-text-rotation",type:s.textRotation,triggersBounds:r.any},{name:"target-text-margin-x",type:s.bidirectionalSize,triggersBounds:r.any},{name:"target-text-margin-y",type:s.bidirectionalSize,triggersBounds:r.any},{name:"target-text-offset",type:s.size,triggersBounds:r.any}],c=[{name:"font-family",type:s.fontFamily,triggersBounds:r.any},{name:"font-style",type:s.fontStyle,triggersBounds:r.any},{name:"font-weight",type:s.fontWeight,triggersBounds:r.any},{name:"font-size",type:s.size,triggersBounds:r.any},{name:"text-transform",type:s.textTransform,triggersBounds:r.any},{name:"text-wrap",type:s.textWrap,triggersBounds:r.any},{name:"text-overflow-wrap",type:s.textOverflowWrap,triggersBounds:r.any},{name:"text-max-width",type:s.size,triggersBounds:r.any},{name:"text-outline-width",type:s.size,triggersBounds:r.any},{name:"line-height",type:s.positiveNumber,triggersBounds:r.any}],h=[{name:"text-valign",type:s.valign,triggersBounds:r.any},{name:"text-halign",type:s.halign,triggersBounds:r.any},{name:"color",type:s.color},{name:"text-outline-color",type:s.color},{name:"text-outline-opacity",type:s.zeroOneNumber},{name:"text-background-color",type:s.color},{name:"text-background-opacity",type:s.zeroOneNumber},{name:"text-background-padding",type:s.size,triggersBounds:r.any},{name:"text-border-opacity",type:s.zeroOneNumber},{name:"text-border-color",type:s.color},{name:"text-border-width",type:s.size,triggersBounds:r.any},{name:"text-border-style",type:s.borderStyle,triggersBounds:r.any},{name:"text-background-shape",type:s.textBackgroundShape,triggersBounds:r.any},{name:"text-justification",type:s.justification}],u=[{name:"events",type:s.bool},{name:"text-events",type:s.bool}],d=[{name:"display",type:s.display,triggersZOrder:r.any,triggersBounds:r.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:s.visibility,triggersZOrder:r.any},{name:"opacity",type:s.zeroOneNumber,triggersZOrder:r.zeroNonZero},{name:"text-opacity",type:s.zeroOneNumber},{name:"min-zoomed-font-size",type:s.size},{name:"z-compound-depth",type:s.zCompoundDepth,triggersZOrder:r.any},{name:"z-index-compare",type:s.zIndexCompare,triggersZOrder:r.any},{name:"z-index",type:s.nonNegativeInt,triggersZOrder:r.any}],p=[{name:"overlay-padding",type:s.size,triggersBounds:r.any},{name:"overlay-color",type:s.color},{name:"overlay-opacity",type:s.zeroOneNumber,triggersBounds:r.zeroNonZero},{name:"overlay-shape",type:s.overlayShape,triggersBounds:r.any}],f=[{name:"underlay-padding",type:s.size,triggersBounds:r.any},{name:"underlay-color",type:s.color},{name:"underlay-opacity",type:s.zeroOneNumber,triggersBounds:r.zeroNonZero},{name:"underlay-shape",type:s.overlayShape,triggersBounds:r.any}],m=[{name:"transition-property",type:s.propList},{name:"transition-duration",type:s.time},{name:"transition-delay",type:s.time},{name:"transition-timing-function",type:s.easing}],g=function(t,e){return"label"===e.value?-t.poolIndex():e.pfValue},v=[{name:"height",type:s.nodeSize,triggersBounds:r.any,hashOverride:g},{name:"width",type:s.nodeSize,triggersBounds:r.any,hashOverride:g},{name:"shape",type:s.nodeShape,triggersBounds:r.any},{name:"shape-polygon-points",type:s.polygonPointList,triggersBounds:r.any},{name:"background-color",type:s.color},{name:"background-fill",type:s.fill},{name:"background-opacity",type:s.zeroOneNumber},{name:"background-blacken",type:s.nOneOneNumber},{name:"background-gradient-stop-colors",type:s.colors},{name:"background-gradient-stop-positions",type:s.percentages},{name:"background-gradient-direction",type:s.gradientDirection},{name:"padding",type:s.sizeMaybePercent,triggersBounds:r.any},{name:"padding-relative-to",type:s.paddingRelativeTo,triggersBounds:r.any},{name:"bounds-expansion",type:s.boundsExpansion,triggersBounds:r.any}],y=[{name:"border-color",type:s.color},{name:"border-opacity",type:s.zeroOneNumber},{name:"border-width",type:s.size,triggersBounds:r.any},{name:"border-style",type:s.borderStyle}],_=[{name:"background-image",type:s.urls},{name:"background-image-crossorigin",type:s.bgCrossOrigin},{name:"background-image-opacity",type:s.zeroOneNumbers},{name:"background-image-containment",type:s.bgContainment},{name:"background-image-smoothing",type:s.bools},{name:"background-position-x",type:s.bgPos},{name:"background-position-y",type:s.bgPos},{name:"background-width-relative-to",type:s.bgRelativeTo},{name:"background-height-relative-to",type:s.bgRelativeTo},{name:"background-repeat",type:s.bgRepeat},{name:"background-fit",type:s.bgFit},{name:"background-clip",type:s.bgClip},{name:"background-width",type:s.bgWH},{name:"background-height",type:s.bgWH},{name:"background-offset-x",type:s.bgPos},{name:"background-offset-y",type:s.bgPos}],w=[{name:"position",type:s.position,triggersBounds:r.any},{name:"compound-sizing-wrt-labels",type:s.compoundIncludeLabels,triggersBounds:r.any},{name:"min-width",type:s.size,triggersBounds:r.any},{name:"min-width-bias-left",type:s.sizeMaybePercent,triggersBounds:r.any},{name:"min-width-bias-right",type:s.sizeMaybePercent,triggersBounds:r.any},{name:"min-height",type:s.size,triggersBounds:r.any},{name:"min-height-bias-top",type:s.sizeMaybePercent,triggersBounds:r.any},{name:"min-height-bias-bottom",type:s.sizeMaybePercent,triggersBounds:r.any}],x=[{name:"line-style",type:s.lineStyle},{name:"line-color",type:s.color},{name:"line-fill",type:s.fill},{name:"line-cap",type:s.lineCap},{name:"line-opacity",type:s.zeroOneNumber},{name:"line-dash-pattern",type:s.numbers},{name:"line-dash-offset",type:s.number},{name:"line-gradient-stop-colors",type:s.colors},{name:"line-gradient-stop-positions",type:s.percentages},{name:"curve-style",type:s.curveStyle,triggersBounds:r.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:s.zeroOneNumber,triggersBounds:r.any},{name:"source-endpoint",type:s.edgeEndpoint,triggersBounds:r.any},{name:"target-endpoint",type:s.edgeEndpoint,triggersBounds:r.any},{name:"control-point-step-size",type:s.size,triggersBounds:r.any},{name:"control-point-distances",type:s.bidirectionalSizes,triggersBounds:r.any},{name:"control-point-weights",type:s.numbers,triggersBounds:r.any},{name:"segment-distances",type:s.bidirectionalSizes,triggersBounds:r.any},{name:"segment-weights",type:s.numbers,triggersBounds:r.any},{name:"taxi-turn",type:s.bidirectionalSizeMaybePercent,triggersBounds:r.any},{name:"taxi-turn-min-distance",type:s.size,triggersBounds:r.any},{name:"taxi-direction",type:s.axisDirection,triggersBounds:r.any},{name:"edge-distances",type:s.edgeDistances,triggersBounds:r.any},{name:"arrow-scale",type:s.positiveNumber,triggersBounds:r.any},{name:"loop-direction",type:s.angle,triggersBounds:r.any},{name:"loop-sweep",type:s.angle,triggersBounds:r.any},{name:"source-distance-from-node",type:s.size,triggersBounds:r.any},{name:"target-distance-from-node",type:s.size,triggersBounds:r.any}],C=[{name:"ghost",type:s.bool,triggersBounds:r.any},{name:"ghost-offset-x",type:s.bidirectionalSize,triggersBounds:r.any},{name:"ghost-offset-y",type:s.bidirectionalSize,triggersBounds:r.any},{name:"ghost-opacity",type:s.zeroOneNumber}],S=[{name:"selection-box-color",type:s.color},{name:"selection-box-opacity",type:s.zeroOneNumber},{name:"selection-box-border-color",type:s.color},{name:"selection-box-border-width",type:s.size},{name:"active-bg-color",type:s.color},{name:"active-bg-opacity",type:s.zeroOneNumber},{name:"active-bg-size",type:s.size},{name:"outside-texture-bg-color",type:s.color},{name:"outside-texture-bg-opacity",type:s.zeroOneNumber}],k=[];os.pieBackgroundN=16,k.push({name:"pie-size",type:s.sizeMaybePercent});for(var E=1;E<=os.pieBackgroundN;E++)k.push({name:"pie-"+E+"-background-color",type:s.color}),k.push({name:"pie-"+E+"-background-size",type:s.percent}),k.push({name:"pie-"+E+"-background-opacity",type:s.zeroOneNumber});var I=[],T=os.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:s.arrowShape,triggersBounds:r.any},{name:"arrow-color",type:s.color},{name:"arrow-fill",type:s.arrowFill}].forEach((function(t){T.forEach((function(e){I.push({name:e+"-"+t.name,type:t.type,triggersBounds:t.triggersBounds})}))}),{});var O=os.properties=[].concat(u,m,d,p,f,C,h,c,o,a,l,v,y,_,k,w,x,I,S),A=os.propertyGroups={behavior:u,transition:m,visibility:d,overlay:p,underlay:f,ghost:C,commonLabel:h,labelDimensions:c,mainLabel:o,sourceLabel:a,targetLabel:l,nodeBody:v,nodeBorder:y,backgroundImage:_,pie:k,compound:w,edgeLine:x,edgeArrow:I,core:S},R=os.propertyGroupNames={};(os.propertyGroupKeys=Object.keys(A)).forEach((function(t){R[t]=A[t].map((function(t){return t.name})),A[t].forEach((function(e){return e.groupKey=t}))}));var P=os.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];os.propertyNames=O.map((function(t){return t.name}));for(var M=0;M<O.length;M++){var L=O[M];O[L.name]=L}for(var N=0;N<P.length;N++){var B=P[N],V={name:B.name,alias:!0,pointsTo:O[B.pointsTo]};O.push(V),O[B.name]=V}}(),os.getDefaultProperty=function(t){return this.getDefaultProperties()[t]},os.getDefaultProperties=function(){var t=this._private;if(null!=t.defaultProperties)return t.defaultProperties;for(var e=V({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(t,e){for(var n=1;n<=os.pieBackgroundN;n++)t[e.name.replace("{{i}}",n)]=e.value;return t}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(t,e){return os.arrowPrefixes.forEach((function(n){t[n+"-"+e.name]=e.value})),t}),{})),n={},i=0;i<this.properties.length;i++){var r=this.properties[i];if(!r.pointsTo){var s=r.name,o=this.parse(s,e[s]);n[s]=o}}return t.defaultProperties=n,t.defaultProperties},os.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var as={parse:function(t,e,n,i){if(_(e))return this.parseImplWarn(t,e,n,i);var r,s=et(t,""+e,n?"t":"f","mapping"===i||!0===i||!1===i||null==i?"dontcare":i),o=this.propCache=this.propCache||[];return(r=o[s])||(r=o[s]=this.parseImplWarn(t,e,n,i)),(n||"mapping"===i)&&(r=ft(r))&&(r.value=ft(r.value)),r},parseImplWarn:function(t,e,n,i){var r=this.parseImpl(t,e,n,i);return r||null==e||pt("The style property `".concat(t,": ").concat(e,"` is invalid")),!r||"width"!==r.name&&"height"!==r.name||"label"!==e||pt("The style value of `label` is deprecated for `"+r.name+"`"),r},parseImpl:function(t,e,n,i){t=P(t);var r=this.properties[t],s=e,o=this.types;if(!r)return null;if(void 0===e)return null;r.alias&&(t=(r=r.pointsTo).name);var a=b(e);a&&(e=e.trim());var l,c,h=r.type;if(!h)return null;if(n&&(""===e||null===e))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(_(e))return{name:t,value:e,strValue:"fn",mapped:o.fn,bypass:n};if(!a||i||e.length<7||"a"!==e[1]);else{if(e.length>=7&&"d"===e[0]&&(l=new RegExp(o.data.regex).exec(e)))return!n&&{name:t,value:l,strValue:""+e,mapped:o.data,field:l[1],bypass:n};if(e.length>=10&&"m"===e[0]&&(c=new RegExp(o.mapData.regex).exec(e))){if(n)return!1;if(h.multiple)return!1;var u=o.mapData;if(!h.color&&!h.number)return!1;var d=this.parse(t,c[4]);if(!d||d.mapped)return!1;var p=this.parse(t,c[5]);if(!p||p.mapped)return!1;if(d.pfValue===p.pfValue||d.strValue===p.strValue)return pt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+d.strValue+"`"),this.parse(t,d.strValue);if(h.color){var f=d.value,m=p.value;if(!(f[0]!==m[0]||f[1]!==m[1]||f[2]!==m[2]||f[3]!==m[3]&&(null!=f[3]&&1!==f[3]||null!=m[3]&&1!==m[3])))return!1}return{name:t,value:c,strValue:""+e,mapped:u,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:d.value,valueMax:p.value,bypass:n}}}if(h.multiple&&"multiple"!==i){var g;if(g=a?e.split(/\s+/):w(e)?e:[e],h.evenMultiple&&g.length%2!=0)return null;for(var v=[],y=[],x=[],S="",k=!1,E=0;E<g.length;E++){var I=this.parse(t,g[E],n,"multiple");k=k||b(I.value),v.push(I.value),x.push(null!=I.pfValue?I.pfValue:I.value),y.push(I.units),S+=(E>0?" ":"")+I.strValue}return h.validate&&!h.validate(v,y)?null:h.singleEnum&&k?1===v.length&&b(v[0])?{name:t,value:v[0],strValue:v[0],bypass:n}:null:{name:t,value:v,pfValue:x,strValue:S,bypass:n,units:y}}var T,O,D=function(){for(var i=0;i<h.enums.length;i++)if(h.enums[i]===e)return{name:t,value:e,strValue:""+e,bypass:n};return null};if(h.number){var A,R="px";if(h.units&&(A=h.units),h.implicitUnits&&(R=h.implicitUnits),!h.unitless)if(a){var M="px|em"+(h.allowPercent?"|\\%":"");A&&(M=A);var L=e.match("^("+F+")("+M+")?$");L&&(e=L[1],A=L[2]||R)}else A&&!h.implicitUnits||(A=R);if(e=parseFloat(e),isNaN(e)&&void 0===h.enums)return null;if(isNaN(e)&&void 0!==h.enums)return e=s,D();if(h.integer&&(!C(T=e)||Math.floor(T)!==T))return null;if(void 0!==h.min&&(e<h.min||h.strictMin&&e===h.min)||void 0!==h.max&&(e>h.max||h.strictMax&&e===h.max))return null;var N={name:t,value:e,strValue:""+e+(A||""),units:A,bypass:n};return N.pfValue=h.unitless||"px"!==A&&"em"!==A?e:"px"!==A&&A?this.getEmSizeInPixels()*e:e,"ms"!==A&&"s"!==A||(N.pfValue="ms"===A?e:1e3*e),"deg"!==A&&"rad"!==A||(N.pfValue="rad"===A?e:Math.PI*e/180),"%"===A&&(N.pfValue=e/100),N}if(h.propList){var B=[],V=""+e;if("none"===V);else{for(var j=V.split(/\s*,\s*|\s+/),H=0;H<j.length;H++){var U=j[H].trim();this.properties[U]?B.push(U):pt("`"+U+"` is not a valid property name")}if(0===B.length)return null}return{name:t,value:B,strValue:0===B.length?"none":B.join(" "),bypass:n}}if(h.color){var $=(w(O=e)?O:null)||function(t){return z[t.toLowerCase()]}(O)||function(t){var e,n,i;if((4===t.length||7===t.length)&&"#"===t[0])return 4===t.length?(e=parseInt(t[1]+t[1],16),n=parseInt(t[2]+t[2],16),i=parseInt(t[3]+t[3],16)):(e=parseInt(t[1]+t[2],16),n=parseInt(t[3]+t[4],16),i=parseInt(t[5]+t[6],16)),[e,n,i]}(O)||function(t){var e,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(n){e=[];for(var i=[],r=1;r<=3;r++){var s=n[r];if("%"===s[s.length-1]&&(i[r]=!0),s=parseFloat(s),i[r]&&(s=s/100*255),s<0||s>255)return;e.push(Math.floor(s))}if((i[1]||i[2]||i[3])&&!(i[1]&&i[2]&&i[3]))return;var o=n[4];if(void 0!==o){if((o=parseFloat(o))<0||o>1)return;e.push(o)}}return e}(O)||function(t){var e,n,i,r,s,o,a,l;function c(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var h=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(t);if(h){if((n=parseInt(h[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(i=parseFloat(h[2]))<0||i>100)return;if(i/=100,(r=parseFloat(h[3]))<0||r>100)return;if(r/=100,void 0!==(s=h[4])&&((s=parseFloat(s))<0||s>1))return;if(0===i)o=a=l=Math.round(255*r);else{var u=r<.5?r*(1+i):r+i-r*i,d=2*r-u;o=Math.round(255*c(d,u,n+1/3)),a=Math.round(255*c(d,u,n)),l=Math.round(255*c(d,u,n-1/3))}e=[o,a,l,s]}return e}(O);return $?{name:t,value:$,pfValue:$,strValue:"rgb("+$[0]+","+$[1]+","+$[2]+")",bypass:n}:null}if(h.regex||h.regexes){if(h.enums){var q=D();if(q)return q}for(var W=h.regexes?h.regexes:[h.regex],G=0;G<W.length;G++){var Y=new RegExp(W[G]).exec(e);if(Y)return{name:t,value:h.singleRegexMatchValue?Y[1]:Y,strValue:""+e,bypass:n}}return null}return h.string?{name:t,value:""+e,strValue:""+e,bypass:n}:h.enums?D():null}},ls=function t(e){if(!(this instanceof t))return new t(e);T(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):ut("A style must have a core reference")},cs=ls.prototype;cs.instanceString=function(){return"style"},cs.clear=function(){for(var t=this._private,e=t.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(e,!0),e.forEach((function(t){var e=t[0]._private;e.styleDirty=!0,e.appliedInitStyle=!1})),this},cs.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},cs.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)},cs.selector=function(t){var e="core"===t?null:new ii(t),n=this.length++;return this[n]={selector:e,properties:[],mappedProperties:[],index:n},this},cs.css=function(){var t=this,e=arguments;if(1===e.length)for(var n=e[0],i=0;i<t.properties.length;i++){var r=t.properties[i],s=n[r.name];void 0===s&&(s=n[M(r.name)]),void 0!==s&&this.cssRule(r.name,s)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},cs.style=cs.css,cs.cssRule=function(t,e){var n=this.parse(t,e);if(n){var i=this.length-1;this[i].properties.push(n),this[i].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[i].mappedProperties.push(n),!this[i].selector&&(this._private.coreStyle[n.name]=n)}return this},cs.append=function(t){return O(t)?t.appendToStyle(this):w(t)?this.appendFromJson(t):b(t)&&this.appendFromString(t),this},ls.fromJson=function(t,e){var n=new ls(t);return n.fromJson(e),n},ls.fromString=function(t,e){return new ls(t).fromString(e)},[ts,es,ns,is,rs,ss,os,as].forEach((function(t){V(cs,t)})),ls.types=cs.types,ls.properties=cs.properties,ls.propertyGroups=cs.propertyGroups,ls.propertyGroupNames=cs.propertyGroupNames,ls.propertyGroupKeys=cs.propertyGroupKeys;var hs={style:function(t){return t&&this.setStyle(t).update(),this._private.style},setStyle:function(t){var e=this._private;return e.style=O(t)?t.generateStyle(this):w(t)?ls.fromJson(this,t):b(t)?ls.fromString(this,t):ls(this),e.style},updateStyle:function(){this.mutableElements().updateStyle()}},us={autolock:function(t){return void 0===t?this._private.autolock:(this._private.autolock=!!t,this)},autoungrabify:function(t){return void 0===t?this._private.autoungrabify:(this._private.autoungrabify=!!t,this)},autounselectify:function(t){return void 0===t?this._private.autounselectify:(this._private.autounselectify=!!t,this)},selectionType:function(t){var e=this._private;return null==e.selectionType&&(e.selectionType="single"),void 0===t?e.selectionType:("additive"!==t&&"single"!==t||(e.selectionType=t),this)},panningEnabled:function(t){return void 0===t?this._private.panningEnabled:(this._private.panningEnabled=!!t,this)},userPanningEnabled:function(t){return void 0===t?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!t,this)},zoomingEnabled:function(t){return void 0===t?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!t,this)},userZoomingEnabled:function(t){return void 0===t?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!t,this)},boxSelectionEnabled:function(t){return void 0===t?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!t,this)},pan:function(){var t,e,n,i,r,s=arguments,o=this._private.pan;switch(s.length){case 0:return o;case 1:if(b(s[0]))return o[t=s[0]];if(x(s[0])){if(!this._private.panningEnabled)return this;r=(n=s[0]).y,C(i=n.x)&&(o.x=i),C(r)&&(o.y=r),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;e=s[1],"x"!==(t=s[0])&&"y"!==t||!C(e)||(o[t]=e),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(t,e){var n,i,r,s,o,a=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(a.length){case 1:x(t)&&(o=(r=a[0]).y,C(s=r.x)&&(l.x+=s),C(o)&&(l.y+=o),this.emit("pan viewport"));break;case 2:i=e,"x"!==(n=t)&&"y"!==n||!C(i)||(l[n]+=i),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(t,e){var n=this.getFitViewport(t,e);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,e){var n,i;if(C(t)&&void 0===e&&(e=t,t=void 0),this._private.panningEnabled&&this._private.zoomingEnabled&&(b(t)?t=this.$(t):x(i=t)&&C(i.x1)&&C(i.x2)&&C(i.y1)&&C(i.y2)?((n={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1):k(t)||(t=this.mutableElements()),!k(t)||!t.empty())){n=n||t.boundingBox();var r,s=this.width(),o=this.height();if(e=C(e)?e:0,!isNaN(s)&&!isNaN(o)&&s>0&&o>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:r=(r=(r=Math.min((s-2*e)/n.w,(o-2*e)/n.h))>this._private.maxZoom?this._private.maxZoom:r)<this._private.minZoom?this._private.minZoom:r,pan:{x:(s-r*(n.x1+n.x2))/2,y:(o-r*(n.y1+n.y2))/2}}}},zoomRange:function(t,e){var n=this._private;if(null==e){var i=t;t=i.min,e=i.max}return C(t)&&C(e)&&t<=e?(n.minZoom=t,n.maxZoom=e):C(t)&&void 0===e&&t<=n.maxZoom?n.minZoom=t:C(e)&&void 0===t&&e>=n.minZoom&&(n.maxZoom=e),this},minZoom:function(t){return void 0===t?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return void 0===t?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var e,n,i=this._private,r=i.pan,s=i.zoom,o=!1;return i.zoomingEnabled||(o=!0),C(t)?n=t:x(t)&&(n=t.level,null!=t.position?e=Ht(t.position,s,r):null!=t.renderedPosition&&(e=t.renderedPosition),null==e||i.panningEnabled||(o=!0)),n=(n=n>i.maxZoom?i.maxZoom:n)<i.minZoom?i.minZoom:n,!o&&C(n)&&n!==s&&(null==e||C(e.x)&&C(e.y))?null!=e?{zoomed:!0,panned:!0,zoom:n,pan:{x:-n/s*(e.x-r.x)+e.x,y:-n/s*(e.y-r.y)+e.y}}:{zoomed:!0,panned:!1,zoom:n,pan:r}:null},zoom:function(t){if(void 0===t)return this._private.zoom;var e=this.getZoomedViewport(t),n=this._private;return null!=e&&e.zoomed?(n.zoom=e.zoom,e.panned&&(n.pan.x=e.pan.x,n.pan.y=e.pan.y),this.emit("zoom"+(e.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(t){var e=this._private,n=!0,i=!0,r=[],s=!1,o=!1;if(!t)return this;if(C(t.zoom)||(n=!1),x(t.pan)||(i=!1),!n&&!i)return this;if(n){var a=t.zoom;a<e.minZoom||a>e.maxZoom||!e.zoomingEnabled?s=!0:(e.zoom=a,r.push("zoom"))}if(i&&(!s||!t.cancelOnFailedZoom)&&e.panningEnabled){var l=t.pan;C(l.x)&&(e.pan.x=l.x,o=!1),C(l.y)&&(e.pan.y=l.y,o=!1),o||r.push("pan")}return r.length>0&&(r.push("viewport"),this.emit(r.join(" ")),this.notify("viewport")),this},center:function(t){var e=this.getCenterPan(t);return e&&(this._private.pan=e,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,e){if(this._private.panningEnabled){if(b(t)){var n=t;t=this.mutableElements().filter(n)}else k(t)||(t=this.mutableElements());if(0!==t.length){var i=t.boundingBox(),r=this.width(),s=this.height();return{x:(r-(e=void 0===e?this._private.zoom:e)*(i.x1+i.x2))/2,y:(s-e*(i.y1+i.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t,e,n=this._private,i=n.container;return n.sizeCache=n.sizeCache||(i?(t=d.getComputedStyle(i),{width:i.clientWidth-(e=function(e){return parseFloat(t.getPropertyValue(e))})("padding-left")-e("padding-right"),height:i.clientHeight-e("padding-top")-e("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,e=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-t.x)/e,x2:(n.x2-t.x)/e,y1:(n.y1-t.y)/e,y2:(n.y2-t.y)/e};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var t=this.width(),e=this.height();return{x1:0,y1:0,x2:t,y2:e,w:t,h:e}},multiClickDebounceTime:function(t){return t?(this._private.multiClickDebounceTime=t,this):this._private.multiClickDebounceTime}};us.centre=us.center,us.autolockNodes=us.autolock,us.autoungrabifyNodes=us.autoungrabify;var ds={data:jn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:jn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:jn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:jn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};ds.attr=ds.data,ds.removeAttr=ds.removeData;var ps=function(t){var e=this,n=(t=V({},t)).container;n&&!S(n)&&S(n[0])&&(n=n[0]);var i=n?n._cyreg:null;(i=i||{})&&i.cy&&(i.cy.destroy(),i={});var r=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=e;var s=void 0!==d&&void 0!==n&&!t.headless,o=t;o.layout=V({name:s?"grid":"null"},o.layout),o.renderer=V({name:s?"canvas":"null"},o.renderer);var a=function(t,e,n){return void 0!==e?e:void 0!==n?n:t},l=this._private={container:n,ready:!1,options:o,elements:new Ar(this),listeners:[],aniEles:new Ar(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:a(!0,o.zoomingEnabled),userZoomingEnabled:a(!0,o.userZoomingEnabled),panningEnabled:a(!0,o.panningEnabled),userPanningEnabled:a(!0,o.userPanningEnabled),boxSelectionEnabled:a(!0,o.boxSelectionEnabled),autolock:a(!1,o.autolock,o.autolockNodes),autoungrabify:a(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:a(!1,o.autounselectify),styleEnabled:void 0===o.styleEnabled?s:o.styleEnabled,zoom:C(o.zoom)?o.zoom:1,pan:{x:x(o.pan)&&C(o.pan.x)?o.pan.x:0,y:x(o.pan)&&C(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:a(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom}),l.styleEnabled&&e.setStyle([]);var c=V({},o,o.renderer);e.initRenderer(c),function(t,e){if(t.some(A))return Bn.all(t).then(e);e(t)}([o.style,o.elements],(function(t){var n=t[0],s=t[1];l.styleEnabled&&e.style().append(n),function(t,n,i){e.notifications(!1);var r=e.mutableElements();r.length>0&&r.remove(),null!=t&&(x(t)||w(t))&&e.add(t),e.one("layoutready",(function(t){e.notifications(!0),e.emit(t),e.one("load",n),e.emitAndNotify("load")})).one("layoutstop",(function(){e.one("done",i),e.emit("done")}));var s=V({},e._private.options.layout);s.eles=e.elements(),e.layout(s).run()}(s,(function(){e.startAnimationLoop(),l.ready=!0,_(o.ready)&&e.on("ready",o.ready);for(var t=0;t<r.length;t++)e.on("ready",r[t]);i&&(i.readies=[]),e.emit("ready")}),o.done)}))},fs=ps.prototype;V(fs,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},mount:function(t){if(null!=t){var e=this,n=e._private,i=n.options;return!S(t)&&S(t[0])&&(t=t[0]),e.stopAnimationLoop(),e.destroyRenderer(),n.container=t,n.styleEnabled=!0,e.invalidateSize(),e.initRenderer(V({},i,i.renderer,{name:"null"===i.renderer.name?"canvas":i.renderer.name})),e.startAnimationLoop(),e.style(i.style),e.emit("mount"),e}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return ft(this._private.options)},json:function(t){var e=this,n=e._private,i=e.mutableElements();if(x(t)){if(e.startBatch(),t.elements){var r={},s=function(t,n){for(var i=[],s=[],o=0;o<t.length;o++){var a=t[o];if(a.data.id){var l=""+a.data.id,c=e.getElementById(l);r[l]=!0,0!==c.length?s.push({ele:c,json:a}):n?(a.group=n,i.push(a)):i.push(a)}else pt("cy.json() cannot handle elements without an ID attribute")}e.add(i);for(var h=0;h<s.length;h++){var u=s[h];u.ele.json(u.json)}};if(w(t.elements))s(t.elements);else for(var o=["nodes","edges"],a=0;a<o.length;a++){var l=o[a],c=t.elements[l];w(c)&&s(c,l)}var h=e.collection();i.filter((function(t){return!r[t.id()]})).forEach((function(t){t.isParent()?h.merge(t):t.remove()})),h.forEach((function(t){return t.children().move({parent:null})})),h.forEach((function(t){return function(t){return e.getElementById(t.id())}(t).remove()}))}t.style&&e.style(t.style),null!=t.zoom&&t.zoom!==n.zoom&&e.zoom(t.zoom),t.pan&&(t.pan.x===n.pan.x&&t.pan.y===n.pan.y||e.pan(t.pan)),t.data&&e.data(t.data);for(var u=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],d=0;d<u.length;d++){var p=u[d];null!=t[p]&&e[p](t[p])}return e.endBatch(),this}var f={};t?f.elements=this.elements().map((function(t){return t.json()})):(f.elements={},i.forEach((function(t){var e=t.group();f.elements[e]||(f.elements[e]=[]),f.elements[e].push(t.json())}))),this._private.styleEnabled&&(f.style=e.style().json()),f.data=ft(e.data());var m=n.options;return f.zoomingEnabled=n.zoomingEnabled,f.userZoomingEnabled=n.userZoomingEnabled,f.zoom=n.zoom,f.minZoom=n.minZoom,f.maxZoom=n.maxZoom,f.panningEnabled=n.panningEnabled,f.userPanningEnabled=n.userPanningEnabled,f.pan=ft(n.pan),f.boxSelectionEnabled=n.boxSelectionEnabled,f.renderer=ft(m.renderer),f.hideEdgesOnViewport=m.hideEdgesOnViewport,f.textureOnViewport=m.textureOnViewport,f.wheelSensitivity=m.wheelSensitivity,f.motionBlur=m.motionBlur,f.multiClickDebounceTime=m.multiClickDebounceTime,f}}),fs.$id=fs.getElementById,[Pr,$r,Gr,Yr,Xr,Kr,Qr,Jr,hs,us,ds].forEach((function(t){V(fs,t)}));var ms={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}},gs=function(t){return t.scratch("breadthfirst")},vs=function(t,e){return t.scratch("breadthfirst",e)};function ys(t){this.options=V({},ms,t)}ys.prototype.run=function(){var t,e=this.options,n=e,i=e.cy,r=n.eles,s=r.nodes().filter((function(t){return!t.isParent()})),o=r,a=n.directed,l=n.maximal||n.maximalAdjustments>0,c=te(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(k(n.roots))t=n.roots;else if(w(n.roots)){for(var h=[],u=0;u<n.roots.length;u++){var d=i.getElementById(n.roots[u]);h.push(d)}t=i.collection(h)}else if(b(n.roots))t=i.$(n.roots);else if(a)t=s.roots();else{var p=r.components();t=i.collection();for(var f=function(e){var n=p[e],i=n.maxDegree(!1),r=n.filter((function(t){return t.degree(!1)===i}));t=t.add(r)},m=0;m<p.length;m++)f(m)}var g=[],v={},y=function(t,e){null==g[e]&&(g[e]=[]);var n=g[e].length;g[e].push(t),vs(t,{index:n,depth:e})};o.bfs({roots:t,directed:n.directed,visit:function(t,e,n,i,r){var s=t[0],o=s.id();y(s,r),v[o]=!0}});for(var _=[],x=0;x<s.length;x++){var C=s[x];v[C.id()]||_.push(C)}var S=function(t){for(var e=g[t],n=0;n<e.length;n++){var i=e[n];null!=i?vs(i,{depth:t,index:n}):(e.splice(n,1),n--)}},E=function(){for(var t=0;t<g.length;t++)S(t)},I=function(t,e){for(var n=gs(t),i=t.incomers().filter((function(t){return t.isNode()&&r.has(t)})),s=-1,o=t.id(),a=0;a<i.length;a++){var l=gs(i[a]);s=Math.max(s,l.depth)}return n.depth<=s&&(e[o]?null:(function(t,e){var n=gs(t);g[n.depth][n.index]=null,y(t,e)}(t,s+1),e[o]=!0,!0))};if(a&&l){var T=[],O={},D=function(t){return T.push(t)};for(s.forEach((function(t){return T.push(t)}));T.length>0;){var A=T.shift(),R=I(A,O);if(R)A.outgoers().filter((function(t){return t.isNode()&&r.has(t)})).forEach(D);else if(null===R){pt("Detected double maximal shift for node `"+A.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}E();var P=0;if(n.avoidOverlap)for(var M=0;M<s.length;M++){var L=s[M].layoutDimensions(n);P=Math.max(P,L.w,L.h)}for(var N={},F=function(t){if(N[t.id()])return N[t.id()];for(var e=gs(t).depth,n=t.neighborhood(),i=0,r=0,o=0;o<n.length;o++){var a=n[o];if(!a.isEdge()&&!a.isParent()&&s.has(a)){var l=gs(a);if(null!=l){var c=l.index,h=l.depth;null!=c&&null!=h&&h<e&&(i+=c/g[h].length,r++)}}}return i/=r=Math.max(1,r),0===r&&(i=0),N[t.id()]=i,i},V=function(t,e){var n=F(t)-F(e);return 0===n?B(t.id(),e.id()):n},z=0;z<g.length;z++)g[z].sort(V),S(z);for(var j=[],H=0;H<_.length;H++)j.push(_[H]);g.unshift(j),E();for(var U=0,$=0;$<g.length;$++)U=Math.max(g[$].length,U);var q=c.x1+c.w/2,W=c.x1+c.h/2,G=g.reduce((function(t,e){return Math.max(t,e.length)}),0);return r.nodes().layoutPositions(this,n,(function(t){var e=gs(t),i=e.depth,r=e.index,s=g[i].length,o=Math.max(c.w/((n.grid?G:s)+1),P),a=Math.max(c.h/(g.length+1),P),l=Math.min(c.w/2/g.length,c.h/2/g.length);if(l=Math.max(l,P),n.circle){var h=l*i+l-(g.length>0&&g[0].length<=3?l/2:0),u=2*Math.PI/g[i].length*r;return 0===i&&1===g[0].length&&(h=1),{x:q+h*Math.cos(u),y:W+h*Math.sin(u)}}return{x:q+(r+1-(s+1)/2)*o,y:(i+1)*a}})),this};var bs={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function _s(t){this.options=V({},bs,t)}_s.prototype.run=function(){var t=this.options,e=t,n=t.cy,i=e.eles,r=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,s=i.nodes().not(":parent");e.sort&&(s=s.sort(e.sort));for(var o,a=te(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),l=a.x1+a.w/2,c=a.y1+a.h/2,h=(void 0===e.sweep?2*Math.PI-2*Math.PI/s.length:e.sweep)/Math.max(1,s.length-1),u=0,d=0;d<s.length;d++){var p=s[d].layoutDimensions(e);u=Math.max(u,p.w,p.h)}if(o=C(e.radius)?e.radius:s.length<=1?0:Math.min(a.h,a.w)/2-u,s.length>1&&e.avoidOverlap){u*=1.75;var f=Math.cos(h)-Math.cos(0),m=Math.sin(h)-Math.sin(0),g=Math.sqrt(u*u/(f*f+m*m));o=Math.max(g,o)}return i.nodes().layoutPositions(this,e,(function(t,n){var i=e.startAngle+n*h*(r?1:-1),s=o*Math.cos(i),a=o*Math.sin(i);return{x:l+s,y:c+a}})),this};var ws,xs={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Cs(t){this.options=V({},xs,t)}Cs.prototype.run=function(){for(var t=this.options,e=t,n=void 0!==e.counterclockwise?!e.counterclockwise:e.clockwise,i=t.cy,r=e.eles,s=r.nodes().not(":parent"),o=te(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),a=o.x1+o.w/2,l=o.y1+o.h/2,c=[],h=0,u=0;u<s.length;u++){var d,p=s[u];d=e.concentric(p),c.push({value:d,node:p}),p._private.scratch.concentric=d}s.updateStyle();for(var f=0;f<s.length;f++){var m=s[f].layoutDimensions(e);h=Math.max(h,m.w,m.h)}c.sort((function(t,e){return e.value-t.value}));for(var g=e.levelWidth(s),v=[[]],y=v[0],b=0;b<c.length;b++){var _=c[b];y.length>0&&Math.abs(y[0].value-_.value)>=g&&v.push(y=[]),y.push(_)}var w=h+e.minNodeSpacing;if(!e.avoidOverlap){var x=v.length>0&&v[0].length>1,C=Math.min(o.w,o.h)/2-w;w=Math.min(w,C/(v.length+x?1:0))}for(var S=0,k=0;k<v.length;k++){var E=v[k],I=void 0===e.sweep?2*Math.PI-2*Math.PI/E.length:e.sweep,T=E.dTheta=I/Math.max(1,E.length-1);if(E.length>1&&e.avoidOverlap){var O=Math.cos(T)-Math.cos(0),D=Math.sin(T)-Math.sin(0),A=Math.sqrt(w*w/(O*O+D*D));S=Math.max(A,S)}E.r=S,S+=w}if(e.equidistant){for(var R=0,P=0,M=0;M<v.length;M++)R=Math.max(R,v[M].r-P);P=0;for(var L=0;L<v.length;L++){var N=v[L];0===L&&(P=N.r),N.r=P,P+=R}}for(var F={},B=0;B<v.length;B++)for(var V=v[B],z=V.dTheta,j=V.r,H=0;H<V.length;H++){var U=V[H],$=e.startAngle+(n?1:-1)*z*H,q={x:a+j*Math.cos($),y:l+j*Math.sin($)};F[U.node.id()]=q}return r.nodes().layoutPositions(this,e,(function(t){var e=t.id();return F[e]})),this};var Ss={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,e){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function ks(t){this.options=V({},Ss,t),this.options.layout=this}ks.prototype.run=function(){var t=this.options,e=t.cy,n=this;n.stopped=!1,!0!==t.animate&&!1!==t.animate||n.emit({type:"layoutstart",layout:n}),ws=!0===t.debug;var i=Es(e,n,t);ws&&(void 0)(i),t.randomize&&Os(i);var r=G(),s=function(){As(i,e,t),!0===t.fit&&e.fit(t.padding)},o=function(e){return!(n.stopped||e>=t.numIter||(Rs(i,t),i.temperature=i.temperature*t.coolingFactor,i.temperature<t.minTemp))},a=function(){if(!0===t.animate||!1===t.animate)s(),n.one("layoutstop",t.stop),n.emit({type:"layoutstop",layout:n});else{var e=t.eles.nodes(),r=Ds(i,t,e);e.layoutPositions(n,t,r)}},l=0,c=!0;if(!0===t.animate)!function e(){for(var n=0;c&&n<t.refresh;)c=o(l),l++,n++;c?(G()-r>=t.animationThreshold&&s(),W(e)):($s(i,t),a())}();else{for(;c;)c=o(l),l++;$s(i,t),a()}return this},ks.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},ks.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Es=function(t,e,n){for(var i=n.eles.edges(),r=n.eles.nodes(),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:r.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:t.width(),clientHeight:t.width(),boundingBox:te(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()})},o=n.eles.components(),a={},l=0;l<o.length;l++)for(var c=o[l],h=0;h<c.length;h++)a[c[h].id()]=l;for(l=0;l<s.nodeSize;l++){var u=(g=r[l]).layoutDimensions(n);(A={}).isLocked=g.locked(),A.id=g.data("id"),A.parentId=g.data("parent"),A.cmptId=a[g.id()],A.children=[],A.positionX=g.position("x"),A.positionY=g.position("y"),A.offsetX=0,A.offsetY=0,A.height=u.w,A.width=u.h,A.maxX=A.positionX+A.width/2,A.minX=A.positionX-A.width/2,A.maxY=A.positionY+A.height/2,A.minY=A.positionY-A.height/2,A.padLeft=parseFloat(g.style("padding")),A.padRight=parseFloat(g.style("padding")),A.padTop=parseFloat(g.style("padding")),A.padBottom=parseFloat(g.style("padding")),A.nodeRepulsion=_(n.nodeRepulsion)?n.nodeRepulsion(g):n.nodeRepulsion,s.layoutNodes.push(A),s.idToIndex[A.id]=l}var d=[],p=0,f=-1,m=[];for(l=0;l<s.nodeSize;l++){var g,v=(g=s.layoutNodes[l]).parentId;null!=v?s.layoutNodes[s.idToIndex[v]].children.push(g.id):(d[++f]=g.id,m.push(g.id))}for(s.graphSet.push(m);p<=f;){var y=d[p++],b=s.layoutNodes[s.idToIndex[y]].children;if(b.length>0)for(s.graphSet.push(b),l=0;l<b.length;l++)d[++f]=b[l]}for(l=0;l<s.graphSet.length;l++){var w=s.graphSet[l];for(h=0;h<w.length;h++)s.indexToGraph[s.idToIndex[w[h]]]=l}for(l=0;l<s.edgeSize;l++){var x=i[l],C={};C.id=x.data("id"),C.sourceId=x.data("source"),C.targetId=x.data("target");var S=_(n.idealEdgeLength)?n.idealEdgeLength(x):n.idealEdgeLength,k=_(n.edgeElasticity)?n.edgeElasticity(x):n.edgeElasticity,E=s.idToIndex[C.sourceId],I=s.idToIndex[C.targetId];if(s.indexToGraph[E]!=s.indexToGraph[I]){for(var T=Is(C.sourceId,C.targetId,s),O=s.graphSet[T],D=0,A=s.layoutNodes[E];-1===O.indexOf(A.id);)A=s.layoutNodes[s.idToIndex[A.parentId]],D++;for(A=s.layoutNodes[I];-1===O.indexOf(A.id);)A=s.layoutNodes[s.idToIndex[A.parentId]],D++;S*=D*n.nestingFactor}C.idealLength=S,C.elasticity=k,s.layoutEdges.push(C)}return s},Is=function(t,e,n){var i=Ts(t,e,0,n);return 2>i.count?0:i.graph},Ts=function t(e,n,i,r){var s=r.graphSet[i];if(-1<s.indexOf(e)&&-1<s.indexOf(n))return{count:2,graph:i};for(var o=0,a=0;a<s.length;a++){var l=r.layoutNodes[r.idToIndex[s[a]]].children;if(0!==l.length){var c=t(e,n,r.indexToGraph[r.idToIndex[l[0]]],r);if(0!==c.count){if(1!==c.count)return c;if(2==++o)break}}}return{count:o,graph:i}},Os=function(t,e){for(var n=t.clientWidth,i=t.clientHeight,r=0;r<t.nodeSize;r++){var s=t.layoutNodes[r];0!==s.children.length||s.isLocked||(s.positionX=Math.random()*n,s.positionY=Math.random()*i)}},Ds=function(t,e,n){var i=t.boundingBox,r={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return e.boundingBox&&(n.forEach((function(e){var n=t.layoutNodes[t.idToIndex[e.data("id")]];r.x1=Math.min(r.x1,n.positionX),r.x2=Math.max(r.x2,n.positionX),r.y1=Math.min(r.y1,n.positionY),r.y2=Math.max(r.y2,n.positionY)})),r.w=r.x2-r.x1,r.h=r.y2-r.y1),function(n,s){var o=t.layoutNodes[t.idToIndex[n.data("id")]];return e.boundingBox?{x:i.x1+(o.positionX-r.x1)/r.w*i.w,y:i.y1+(o.positionY-r.y1)/r.h*i.h}:{x:o.positionX,y:o.positionY}}},As=function(t,e,n){var i=n.layout,r=n.eles.nodes(),s=Ds(t,n,r);r.positions(s),!0!==t.ready&&(t.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Rs=function(t,e,n){Ps(t,e),Bs(t),Vs(t,e),zs(t),js(t)},Ps=function(t,e){for(var n=0;n<t.graphSet.length;n++)for(var i=t.graphSet[n],r=i.length,s=0;s<r;s++)for(var o=t.layoutNodes[t.idToIndex[i[s]]],a=s+1;a<r;a++)Ls(o,t.layoutNodes[t.idToIndex[i[a]]],t,e)},Ms=function(t){return-t+2*t*Math.random()},Ls=function(t,e,n,i){if(t.cmptId===e.cmptId||n.isCompound){var r=e.positionX-t.positionX,s=e.positionY-t.positionY;0===r&&0===s&&(r=Ms(1),s=Ms(1));var o=Ns(t,e,r,s);if(o>0)var a=(c=i.nodeOverlap*o)*r/(m=Math.sqrt(r*r+s*s)),l=c*s/m;else{var c,h=Fs(t,r,s),u=Fs(e,-1*r,-1*s),d=u.x-h.x,p=u.y-h.y,f=d*d+p*p,m=Math.sqrt(f);a=(c=(t.nodeRepulsion+e.nodeRepulsion)/f)*d/m,l=c*p/m}t.isLocked||(t.offsetX-=a,t.offsetY-=l),e.isLocked||(e.offsetX+=a,e.offsetY+=l)}},Ns=function(t,e,n,i){if(n>0)var r=t.maxX-e.minX;else r=e.maxX-t.minX;if(i>0)var s=t.maxY-e.minY;else s=e.maxY-t.minY;return r>=0&&s>=0?Math.sqrt(r*r+s*s):0},Fs=function(t,e,n){var i=t.positionX,r=t.positionY,s=t.height||1,o=t.width||1,a=n/e,l=s/o,c={};return 0===e&&0<n||0===e&&0>n?(c.x=i,c.y=r+s/2,c):0<e&&-1*l<=a&&a<=l?(c.x=i+o/2,c.y=r+o*n/2/e,c):0>e&&-1*l<=a&&a<=l?(c.x=i-o/2,c.y=r-o*n/2/e,c):0<n&&(a<=-1*l||a>=l)?(c.x=i+s*e/2/n,c.y=r+s/2,c):0>n&&(a<=-1*l||a>=l)?(c.x=i-s*e/2/n,c.y=r-s/2,c):c},Bs=function(t,e){for(var n=0;n<t.edgeSize;n++){var i=t.layoutEdges[n],r=t.layoutNodes[t.idToIndex[i.sourceId]],s=t.layoutNodes[t.idToIndex[i.targetId]],o=s.positionX-r.positionX,a=s.positionY-r.positionY;if(0!==o||0!==a){var l=Fs(r,o,a),c=Fs(s,-1*o,-1*a),h=c.x-l.x,u=c.y-l.y,d=Math.sqrt(h*h+u*u),p=Math.pow(i.idealLength-d,2)/i.elasticity;if(0!==d)var f=p*h/d,m=p*u/d;else f=0,m=0;r.isLocked||(r.offsetX+=f,r.offsetY+=m),s.isLocked||(s.offsetX-=f,s.offsetY-=m)}}},Vs=function(t,e){if(0!==e.gravity)for(var n=0;n<t.graphSet.length;n++){var i=t.graphSet[n],r=i.length;if(0===n)var s=t.clientHeight/2,o=t.clientWidth/2;else{var a=t.layoutNodes[t.idToIndex[t.layoutNodes[t.idToIndex[i[0]]].parentId]];s=a.positionX,o=a.positionY}for(var l=0;l<r;l++){var c=t.layoutNodes[t.idToIndex[i[l]]];if(!c.isLocked){var h=s-c.positionX,u=o-c.positionY,d=Math.sqrt(h*h+u*u);if(d>1){var p=e.gravity*u/d;c.offsetX+=e.gravity*h/d,c.offsetY+=p}}}}},zs=function(t,e){var n=[],i=0,r=-1;for(n.push.apply(n,t.graphSet[0]),r+=t.graphSet[0].length;i<=r;){var s=n[i++],o=t.layoutNodes[t.idToIndex[s]],a=o.children;if(0<a.length&&!o.isLocked){for(var l=o.offsetX,c=o.offsetY,h=0;h<a.length;h++){var u=t.layoutNodes[t.idToIndex[a[h]]];u.offsetX+=l,u.offsetY+=c,n[++r]=a[h]}o.offsetX=0,o.offsetY=0}}},js=function(t,e){for(var n=0;n<t.nodeSize;n++)0<(r=t.layoutNodes[n]).children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0);for(n=0;n<t.nodeSize;n++)if(!(0<(r=t.layoutNodes[n]).children.length||r.isLocked)){var i=Hs(r.offsetX,r.offsetY,t.temperature);r.positionX+=i.x,r.positionY+=i.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,Us(r,t)}for(n=0;n<t.nodeSize;n++){var r;0<(r=t.layoutNodes[n]).children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},Hs=function(t,e,n){var i=Math.sqrt(t*t+e*e);if(i>n)var r={x:n*t/i,y:n*e/i};else r={x:t,y:e};return r},Us=function t(e,n){var i=e.parentId;if(null!=i){var r=n.layoutNodes[n.idToIndex[i]],s=!1;return(null==r.maxX||e.maxX+r.padRight>r.maxX)&&(r.maxX=e.maxX+r.padRight,s=!0),(null==r.minX||e.minX-r.padLeft<r.minX)&&(r.minX=e.minX-r.padLeft,s=!0),(null==r.maxY||e.maxY+r.padBottom>r.maxY)&&(r.maxY=e.maxY+r.padBottom,s=!0),(null==r.minY||e.minY-r.padTop<r.minY)&&(r.minY=e.minY-r.padTop,s=!0),s?t(r,n):void 0}},$s=function(t,e){for(var n=t.layoutNodes,i=[],r=0;r<n.length;r++){var s=n[r],o=s.cmptId;(i[o]=i[o]||[]).push(s)}var a=0;for(r=0;r<i.length;r++)if(m=i[r]){m.x1=1/0,m.x2=-1/0,m.y1=1/0,m.y2=-1/0;for(var l=0;l<m.length;l++){var c=m[l];m.x1=Math.min(m.x1,c.positionX-c.width/2),m.x2=Math.max(m.x2,c.positionX+c.width/2),m.y1=Math.min(m.y1,c.positionY-c.height/2),m.y2=Math.max(m.y2,c.positionY+c.height/2)}m.w=m.x2-m.x1,m.h=m.y2-m.y1,a+=m.w*m.h}i.sort((function(t,e){return e.w*e.h-t.w*t.h}));var h=0,u=0,d=0,p=0,f=Math.sqrt(a)*t.clientWidth/t.clientHeight;for(r=0;r<i.length;r++){var m;if(m=i[r]){for(l=0;l<m.length;l++)(c=m[l]).isLocked||(c.positionX+=h-m.x1,c.positionY+=u-m.y1);h+=m.w+e.componentSpacing,d+=m.w+e.componentSpacing,p=Math.max(p,m.h),d>f&&(u+=p+e.componentSpacing,h=0,d=0,p=0)}}},qs={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Ws(t){this.options=V({},qs,t)}Ws.prototype.run=function(){var t=this.options,e=t,n=t.cy,i=e.eles,r=i.nodes().not(":parent");e.sort&&(r=r.sort(e.sort));var s=te(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===s.h||0===s.w)i.nodes().layoutPositions(this,e,(function(t){return{x:s.x1,y:s.y1}}));else{var o=r.size(),a=Math.sqrt(o*s.h/s.w),l=Math.round(a),c=Math.round(s.w/s.h*a),h=function(t){if(null==t)return Math.min(l,c);Math.min(l,c)==l?l=t:c=t},u=function(t){if(null==t)return Math.max(l,c);Math.max(l,c)==l?l=t:c=t},d=e.rows,p=null!=e.cols?e.cols:e.columns;if(null!=d&&null!=p)l=d,c=p;else if(null!=d&&null==p)l=d,c=Math.ceil(o/l);else if(null==d&&null!=p)c=p,l=Math.ceil(o/c);else if(c*l>o){var f=h(),m=u();(f-1)*m>=o?h(f-1):(m-1)*f>=o&&u(m-1)}else for(;c*l<o;){var g=h(),v=u();(v+1)*g>=o?u(v+1):h(g+1)}var y=s.w/c,b=s.h/l;if(e.condense&&(y=0,b=0),e.avoidOverlap)for(var _=0;_<r.length;_++){var w=r[_],x=w._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var C=w.layoutDimensions(e),S=e.avoidOverlapPadding,k=C.h+S;y=Math.max(y,C.w+S),b=Math.max(b,k)}for(var E={},I=function(t,e){return!!E["c-"+t+"-"+e]},T=function(t,e){E["c-"+t+"-"+e]=!0},O=0,D=0,A=function(){++D>=c&&(D=0,O++)},R={},P=0;P<r.length;P++){var M=r[P],L=e.position(M);if(L&&(void 0!==L.row||void 0!==L.col)){var N={row:L.row,col:L.col};if(void 0===N.col)for(N.col=0;I(N.row,N.col);)N.col++;else if(void 0===N.row)for(N.row=0;I(N.row,N.col);)N.row++;R[M.id()]=N,T(N.row,N.col)}}r.layoutPositions(this,e,(function(t,e){var n,i;if(t.locked()||t.isParent())return!1;var r=R[t.id()];if(r)n=r.col*y+y/2+s.x1,i=r.row*b+b/2+s.y1;else{for(;I(O,D);)A();n=D*y+y/2+s.x1,i=O*b+b/2+s.y1,T(O,D),A()}return{x:n,y:i}}))}return this};var Gs={ready:function(){},stop:function(){}};function Ys(t){this.options=V({},Gs,t)}Ys.prototype.run=function(){var t=this.options,e=t.eles;return this.emit("layoutstart"),e.nodes().positions((function(){return{x:0,y:0}})),this.one("layoutready",t.ready),this.emit("layoutready"),this.one("layoutstop",t.stop),this.emit("layoutstop"),this},Ys.prototype.stop=function(){return this};var Xs={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Ks(t){this.options=V({},Xs,t)}Ks.prototype.run=function(){var t=this.options,e=t.eles.nodes(),n=_(t.positions);return e.layoutPositions(this,t,(function(e,i){var r=function(e){if(null==t.positions)return function(t){return{x:t.x,y:t.y}}(e.position());if(n)return t.positions(e);var i=t.positions[e._private.data.id];return null==i?null:i}(e);return!e.locked()&&null!=r&&r})),this};var Zs={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,e){return!0},ready:void 0,stop:void 0,transform:function(t,e){return e}};function Qs(t){this.options=V({},Zs,t)}Qs.prototype.run=function(){var t=this.options,e=t.cy,n=t.eles,i=te(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()});return n.nodes().layoutPositions(this,t,(function(t,e){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}})),this};var Js=[{name:"breadthfirst",impl:ys},{name:"circle",impl:_s},{name:"concentric",impl:Cs},{name:"cose",impl:ks},{name:"grid",impl:Ws},{name:"null",impl:Ys},{name:"preset",impl:Ks},{name:"random",impl:Qs}];function to(t){this.options=t,this.notifications=0}var eo=function(){},no=function(){throw new Error("A headless instance can not render images")};to.prototype={recalculateRenderedStyle:eo,notify:function(){this.notifications++},init:eo,isHeadless:function(){return!0},png:no,jpg:no};var io={arrowShapeWidth:.3,registerArrowShapes:function(){var t=this.arrowShapes={},e=this,n=function(t,e,n,i,r,s,o){return r.x-n/2-o<=t&&t<=r.x+n/2+o&&r.y-n/2-o<=e&&e<=r.y+n/2+o},i=function(t,e,n,i,r){var s=t*Math.cos(i)-e*Math.sin(i),o=t*Math.sin(i)+e*Math.cos(i);return{x:s*n+r.x,y:o*n+r.y}},r=function(t,e,n,r){for(var s=[],o=0;o<t.length;o+=2)s.push(i(t[o],t[o+1],e,n,r));return s},s=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];e.push(i.x,i.y)}return e},o=function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").pfValue*2},a=function(i,a){b(a)&&(a=t[a]),t[i]=V({name:i,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(t,e,n,i,o,a){var l=s(r(this.points,n+2*a,i,o));return pe(t,e,l)},roughCollide:n,draw:function(t,n,i,s){var o=r(this.points,n,i,s);e.arrowShapeImpl("polygon")(t,o)},spacing:function(t){return 0},gap:o},a)};a("none",{collide:lt,roughCollide:lt,draw:ht,spacing:ct,gap:ct}),a("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),a("arrow","triangle"),a("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(t,n,s,o,a){var l=r(this.points,n,s,o),c=this.controlPoint,h=i(c[0],c[1],n,s,o);e.arrowShapeImpl(this.name)(t,l,h)},gap:function(t){return.8*o(t)}}),a("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(t,e,n,i,o,a,l){var c=s(r(this.points,n+2*l,i,o)),h=s(r(this.pointsTee,n+2*l,i,o));return pe(t,e,c)||pe(t,e,h)},draw:function(t,n,i,s,o){var a=r(this.points,n,i,s),l=r(this.pointsTee,n,i,s);e.arrowShapeImpl(this.name)(t,a,l)}}),a("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(t,e,n,i,o,a,l){var c=o,h=Math.pow(c.x-t,2)+Math.pow(c.y-e,2)<=Math.pow((n+2*l)*this.radius,2),u=s(r(this.points,n+2*l,i,o));return pe(t,e,u)||h},draw:function(t,n,i,s,o){var a=r(this.pointsTr,n,i,s);e.arrowShapeImpl(this.name)(t,a,s.x,s.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),a("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(t,e){var n=this.baseCrossLinePts.slice(),i=e/t;return n[3]=n[3]-i,n[5]=n[5]-i,n},collide:function(t,e,n,i,o,a,l){var c=s(r(this.points,n+2*l,i,o)),h=s(r(this.crossLinePts(n,a),n+2*l,i,o));return pe(t,e,c)||pe(t,e,h)},draw:function(t,n,i,s,o){var a=r(this.points,n,i,s),l=r(this.crossLinePts(n,o),n,i,s);e.arrowShapeImpl(this.name)(t,a,l)}}),a("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(t){return.525*o(t)}}),a("circle",{radius:.15,collide:function(t,e,n,i,r,s,o){var a=r;return Math.pow(a.x-t,2)+Math.pow(a.y-e,2)<=Math.pow((n+2*o)*this.radius,2)},draw:function(t,n,i,r,s){e.arrowShapeImpl(this.name)(t,r.x,r.y,this.radius*n)},spacing:function(t){return e.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.radius}}),a("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(t){return 1},gap:function(t){return 1}}),a("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),a("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(t){return t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}}),a("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(t){return.95*t.pstyle("width").pfValue*t.pstyle("arrow-scale").value}})}},ro={projectIntoViewport:function(t,e){var n=this.cy,i=this.findContainerClientCoords(),r=i[0],s=i[1],o=i[4],a=n.pan(),l=n.zoom();return[((t-r)/o-a.x)/l,((e-s)/o-a.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),n=d.getComputedStyle(t),i=function(t){return parseFloat(n.getPropertyValue(t))},r=i("padding-left"),s=i("padding-right"),o=i("padding-top"),a=i("padding-bottom"),l=i("border-left-width"),c=i("border-right-width"),h=i("border-top-width"),u=(i("border-bottom-width"),t.clientWidth);return this.containerBB=[e.left+r+l,e.top+o+h,u-(r+s),t.clientHeight-(o+a),e.width/(u+(l+c))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(t,e,n,i){return this.findNearestElements(t,e,n,i)[0]},findNearestElements:function(t,e,n,i){var r,s,o=this,a=this,l=a.getCachedZSortedEles(),c=[],h=a.cy.zoom(),u=a.cy.hasCompoundNodes(),d=(i?24:8)/h,p=(i?8:2)/h,f=(i?8:2)/h,m=1/0;function g(t,e){if(t.isNode()){if(s)return;s=t,c.push(t)}if(t.isEdge()&&(null==e||e<m))if(r){if(r.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value&&r.pstyle("z-compound-depth").value===t.pstyle("z-compound-depth").value)for(var n=0;n<c.length;n++)if(c[n].isEdge()){c[n]=t,r=t,m=null!=e?e:m;break}}else c.push(t),r=t,m=null!=e?e:m}function v(n){var i=n.outerWidth()+2*p,r=n.outerHeight()+2*p,s=i/2,l=r/2,c=n.position();if(c.x-s<=t&&t<=c.x+s&&c.y-l<=e&&e<=c.y+l&&a.nodeShapes[o.getNodeShape(n)].checkPoint(t,e,0,i,r,c.x,c.y))return g(n,0),!0}function y(n){var i,r=n._private,s=r.rscratch,l=n.pstyle("width").pfValue,h=n.pstyle("arrow-scale").value,p=l/2+d,f=p*p,m=2*p,y=r.source,b=r.target;if("segments"===s.edgeType||"straight"===s.edgeType||"haystack"===s.edgeType){for(var _=s.allpts,w=0;w+3<_.length;w+=2)if(ce(t,e,_[w],_[w+1],_[w+2],_[w+3],m)&&f>(i=de(t,e,_[w],_[w+1],_[w+2],_[w+3])))return g(n,i),!0}else if("bezier"===s.edgeType||"multibezier"===s.edgeType||"self"===s.edgeType||"compound"===s.edgeType)for(_=s.allpts,w=0;w+5<s.allpts.length;w+=4)if(he(t,e,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5],m)&&f>(i=ue(t,e,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5])))return g(n,i),!0;y=y||r.source,b=b||r.target;var x=o.getArrowWidth(l,h),C=[{name:"source",x:s.arrowStartX,y:s.arrowStartY,angle:s.srcArrowAngle},{name:"target",x:s.arrowEndX,y:s.arrowEndY,angle:s.tgtArrowAngle},{name:"mid-source",x:s.midX,y:s.midY,angle:s.midsrcArrowAngle},{name:"mid-target",x:s.midX,y:s.midY,angle:s.midtgtArrowAngle}];for(w=0;w<C.length;w++){var S=C[w],k=a.arrowShapes[n.pstyle(S.name+"-arrow-shape").value],E=n.pstyle("width").pfValue;if(k.roughCollide(t,e,x,S.angle,{x:S.x,y:S.y},E,d)&&k.collide(t,e,x,S.angle,{x:S.x,y:S.y},E,d))return g(n),!0}u&&c.length>0&&(v(y),v(b))}function b(t,e,n){return wt(t,e,n)}function _(n,i){var r,s=n._private,o=f;r=i?i+"-":"",n.boundingBox();var a=s.labelBounds[i||"main"],l=n.pstyle(r+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var c=b(s.rscratch,"labelX",i),h=b(s.rscratch,"labelY",i),u=b(s.rscratch,"labelAngle",i),d=n.pstyle(r+"text-margin-x").pfValue,p=n.pstyle(r+"text-margin-y").pfValue,m=a.x1-o-d,v=a.x2+o-d,y=a.y1-o-p,_=a.y2+o-p;if(u){var w=Math.cos(u),x=Math.sin(u),C=function(t,e){return{x:(t-=c)*w-(e-=h)*x+c,y:t*x+e*w+h}},S=C(m,y),k=C(m,_),E=C(v,y),I=C(v,_);if(pe(t,e,[S.x+d,S.y+p,E.x+d,E.y+p,I.x+d,I.y+p,k.x+d,k.y+p]))return g(n),!0}else if(oe(a,t,e))return g(n),!0}}n&&(l=l.interactive);for(var w=l.length-1;w>=0;w--){var x=l[w];x.isNode()?v(x)||_(x):y(x)||_(x)||_(x,"source")||_(x,"target")}return c},getAllInBox:function(t,e,n,i){for(var r,s=this.getCachedZSortedEles().interactive,o=[],a=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,i),h=Math.max(e,i),u=te({x1:t=a,y1:e=c,x2:n=l,y2:i=h}),d=0;d<s.length;d++){var p=s[d];if(p.isNode()){var f=p,m=f.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});se(u,m)&&!ae(m,u)&&o.push(f)}else{var g=p,v=g._private,y=v.rscratch;if(null!=y.startX&&null!=y.startY&&!oe(u,y.startX,y.startY))continue;if(null!=y.endX&&null!=y.endY&&!oe(u,y.endX,y.endY))continue;if("bezier"===y.edgeType||"multibezier"===y.edgeType||"self"===y.edgeType||"compound"===y.edgeType||"segments"===y.edgeType||"haystack"===y.edgeType){for(var b=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,_=!0,w=0;w<b.length;w++)if(!oe(u,(r=b[w]).x,r.y)){_=!1;break}_&&o.push(g)}else"haystack"!==y.edgeType&&"straight"!==y.edgeType||o.push(g)}}return o}},so={calculateArrowAngles:function(t){var e,n,i,r,s,o,a=t._private.rscratch,l="haystack"===a.edgeType,c="bezier"===a.edgeType,h="multibezier"===a.edgeType,u="segments"===a.edgeType,d="compound"===a.edgeType,p="self"===a.edgeType;l?(i=a.haystackPts[0],r=a.haystackPts[1],s=a.haystackPts[2],o=a.haystackPts[3]):(i=a.arrowStartX,r=a.arrowStartY,s=a.arrowEndX,o=a.arrowEndY),f=a.midX,m=a.midY,u?(e=i-a.segpts[0],n=r-a.segpts[1]):h||d||p||c?(e=i-Zt((E=a.allpts)[0],E[2],E[4],.1),n=r-Zt(E[1],E[3],E[5],.1)):(e=i-f,n=r-m),a.srcArrowAngle=qt(e,n);var f=a.midX,m=a.midY;if(l&&(f=(i+s)/2,m=(r+o)/2),e=s-i,n=o-r,u)if((E=a.allpts).length/2%2==0)e=E[g=E.length/2]-E[v=g-2],n=E[g+1]-E[v+1];else{var g,v,y=2+(g=E.length/2-1);e=E[g]-E[v=g-2],n=E[g+1]-E[v+1]}else if(h||d||p){var b,_,w,x,C,S,k,E=a.allpts;a.ctrlpts.length/2%2==0?(b=Zt(E[S=E.length/2-1],E[C=S+2],E[k=C+2],0),_=Zt(E[S+1],E[C+1],E[k+1],0),w=Zt(E[S],E[C],E[k],1e-4),x=Zt(E[S+1],E[C+1],E[k+1],1e-4)):(b=Zt(E[S=(C=E.length/2-1)-2],E[C],E[k=C+2],.4999),_=Zt(E[S+1],E[C+1],E[k+1],.4999),w=Zt(E[S],E[C],E[k],.5),x=Zt(E[S+1],E[C+1],E[k+1],.5)),e=w-b,n=x-_}if(a.midtgtArrowAngle=qt(e,n),a.midDispX=e,a.midDispY=n,e*=-1,n*=-1,u&&((E=a.allpts).length/2%2==0||(e=-(E[y=2+(g=E.length/2-1)]-E[g]),n=-(E[y+1]-E[g+1]))),a.midsrcArrowAngle=qt(e,n),u)e=s-a.segpts[a.segpts.length-2],n=o-a.segpts[a.segpts.length-1];else if(h||d||p||c){var I=(E=a.allpts).length;e=s-Zt(E[I-6],E[I-4],E[I-2],.9),n=o-Zt(E[I-5],E[I-3],E[I-1],.9)}else e=s-f,n=o-m;a.tgtArrowAngle=qt(e,n)}};so.getArrowWidth=so.getArrowHeight=function(t,e){var n=this.arrowWidthCache=this.arrowWidthCache||{},i=n[t+", "+e];return i||(i=Math.max(Math.pow(13.37*t,.9),29)*e,n[t+", "+e]=i,i)};var oo={};function ao(t){var e=[];if(null!=t){for(var n=0;n<t.length;n+=2)e.push({x:t[n],y:t[n+1]});return e}}oo.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=n._private,r=i.rscratch;if(!r.haystack){var s=2*Math.random()*Math.PI;r.source={x:Math.cos(s),y:Math.sin(s)},s=2*Math.random()*Math.PI,r.target={x:Math.cos(s),y:Math.sin(s)}}var o=i.source,a=i.target,l=o.position(),c=a.position(),h=o.width(),u=a.width(),d=o.height(),p=a.height(),f=n.pstyle("haystack-radius").value/2;r.haystackPts=r.allpts=[r.source.x*h*f+l.x,r.source.y*d*f+l.y,r.target.x*u*f+c.x,r.target.y*p*f+c.y],r.midX=(r.allpts[0]+r.allpts[2])/2,r.midY=(r.allpts[1]+r.allpts[3])/2,r.edgeType="haystack",r.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},oo.findSegmentsPoints=function(t,e){var n=t._private.rscratch,i=e.posPts,r=e.intersectionPts,s=e.vectorNormInverse,o=t.pstyle("edge-distances").value,a=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),c=Math.min(a.pfValue.length,l.pfValue.length);n.edgeType="segments",n.segpts=[];for(var h=0;h<c;h++){var u=a.pfValue[h],d=l.pfValue[h],p=1-u,f="node-position"===o?i:r,m={x:f.x1*p+f.x2*u,y:f.y1*p+f.y2*u};n.segpts.push(m.x+s.x*d,m.y+s.y*d)}},oo.findLoopPoints=function(t,e,n,i){var r=t._private.rscratch,s=e.dirCounts,o=e.srcPos,a=t.pstyle("control-point-distances"),l=a?a.pfValue[0]:void 0,c=t.pstyle("loop-direction").pfValue,h=t.pstyle("loop-sweep").pfValue,u=t.pstyle("control-point-step-size").pfValue;r.edgeType="self";var d=n,p=u;i&&(d=0,p=l);var f=c-Math.PI/2,m=f-h/2,g=f+h/2,v=String(c+"_"+h);d=void 0===s[v]?s[v]=0:++s[v],r.ctrlpts=[o.x+1.4*Math.cos(m)*p*(d/3+1),o.y+1.4*Math.sin(m)*p*(d/3+1),o.x+1.4*Math.cos(g)*p*(d/3+1),o.y+1.4*Math.sin(g)*p*(d/3+1)]},oo.findCompoundLoopPoints=function(t,e,n,i){var r=t._private.rscratch;r.edgeType="compound";var s=e.srcPos,o=e.tgtPos,a=e.srcW,l=e.srcH,c=e.tgtW,h=e.tgtH,u=t.pstyle("control-point-step-size").pfValue,d=t.pstyle("control-point-distances"),p=n,f=u;i&&(p=0,f=d?d.pfValue[0]:void 0);var m={x:s.x-a/2,y:s.y-l/2},g={x:o.x-c/2,y:o.y-h/2},v={x:Math.min(m.x,g.x),y:Math.min(m.y,g.y)},y=Math.max(.5,Math.log(.01*a)),b=Math.max(.5,Math.log(.01*c));r.ctrlpts=[v.x,v.y-(1+Math.pow(50,1.12)/100)*f*(p/3+1)*y,v.x-(1+Math.pow(50,1.12)/100)*f*(p/3+1)*b,v.y]},oo.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"},oo.findBezierPoints=function(t,e,n,i,r){var s=t._private.rscratch,o=e.vectorNormInverse,a=e.posPts,l=e.intersectionPts,c=t.pstyle("edge-distances").value,h=t.pstyle("control-point-step-size").pfValue,u=t.pstyle("control-point-distances"),d=t.pstyle("control-point-weights"),p=u&&d?Math.min(u.value.length,d.value.length):1,f=u?u.pfValue[0]:void 0,m=d.value[0],g=i;s.edgeType=g?"multibezier":"bezier",s.ctrlpts=[];for(var v=0;v<p;v++){var y,b=(.5-e.eles.length/2+n)*h*(r?-1:1),_=Gt(b);g&&(f=u?u.pfValue[v]:h,m=d.value[v]);var w=void 0!==(y=i?f:void 0!==f?_*f:void 0)?y:b,x=1-m,C="node-position"===c?a:l,S={x:C.x1*x+C.x2*m,y:C.y1*x+C.y2*m};s.ctrlpts.push(S.x+o.x*w,S.y+o.y*w)}},oo.findTaxiPoints=function(t,e){var n=t._private.rscratch;n.edgeType="segments";var i=e.posPts,r=e.srcW,s=e.srcH,o=e.tgtW,a=e.tgtH,l="node-position"!==t.pstyle("edge-distances").value,c=t.pstyle("taxi-direction").value,h=c,u=t.pstyle("taxi-turn"),d="%"===u.units,p=u.pfValue,f=p<0,m=t.pstyle("taxi-turn-min-distance").pfValue,g=l?(s+a)/2:0,v=i.x2-i.x1,y=i.y2-i.y1,b=function(t,e){return t>0?Math.max(t-e,0):Math.min(t+e,0)},_=b(v,l?(r+o)/2:0),w=b(y,g),x=!1;"auto"===h?c=Math.abs(_)>Math.abs(w)?"horizontal":"vertical":"upward"===h||"downward"===h?(c="vertical",x=!0):"leftward"!==h&&"rightward"!==h||(c="horizontal",x=!0);var C,S="vertical"===c,k=S?w:_,E=S?y:v,I=Gt(E),T=!1;x&&(d||f)||!("downward"===h&&E<0||"upward"===h&&E>0||"leftward"===h&&E>0||"rightward"===h&&E<0)||(k=(I*=-1)*Math.abs(k),T=!0);var O=function(t){return Math.abs(t)<m||Math.abs(t)>=Math.abs(k)},D=O(C=d?(p<0?1+p:p)*k:(p<0?k:0)+p*I),A=O(Math.abs(k)-Math.abs(C));if(!D&&!A||T)if(S){var R=i.y1+C+(l?s/2*I:0);n.segpts=[i.x1,R,i.x2,R]}else{var P=i.x1+C+(l?r/2*I:0);n.segpts=[P,i.y1,P,i.y2]}else if(S){var M=Math.abs(E)<=s/2,L=Math.abs(v)<=o/2;if(M){var N=(i.x1+i.x2)/2;n.segpts=[N,i.y1,N,i.y2]}else if(L){var F=(i.y1+i.y2)/2;n.segpts=[i.x1,F,i.x2,F]}else n.segpts=[i.x1,i.y2]}else{var B=Math.abs(E)<=r/2,V=Math.abs(y)<=a/2;if(B){var z=(i.y1+i.y2)/2;n.segpts=[i.x1,z,i.x2,z]}else if(V){var j=(i.x1+i.x2)/2;n.segpts=[j,i.y1,j,i.y2]}else n.segpts=[i.x2,i.y1]}},oo.tryToCorrectInvalidPoints=function(t,e){var n=t._private.rscratch;if("bezier"===n.edgeType){var i=e.srcPos,r=e.tgtPos,s=e.srcW,o=e.srcH,a=e.tgtW,l=e.tgtH,c=e.srcShape,h=e.tgtShape,u=!C(n.startX)||!C(n.startY),d=!C(n.arrowStartX)||!C(n.arrowStartY),p=!C(n.endX)||!C(n.endY),f=!C(n.arrowEndX)||!C(n.arrowEndY),m=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,g=Yt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),v=g<m,y=Yt({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),b=y<m,_=!1;if(u||d||v){_=!0;var w={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},x=Math.sqrt(w.x*w.x+w.y*w.y),S={x:w.x/x,y:w.y/x},k=Math.max(s,o),E={x:n.ctrlpts[0]+2*S.x*k,y:n.ctrlpts[1]+2*S.y*k},I=c.intersectLine(i.x,i.y,s,o,E.x,E.y,0);v?(n.ctrlpts[0]=n.ctrlpts[0]+S.x*(m-g),n.ctrlpts[1]=n.ctrlpts[1]+S.y*(m-g)):(n.ctrlpts[0]=I[0]+S.x*m,n.ctrlpts[1]=I[1]+S.y*m)}if(p||f||b){_=!0;var T={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},O=Math.sqrt(T.x*T.x+T.y*T.y),D={x:T.x/O,y:T.y/O},A=Math.max(s,o),R={x:n.ctrlpts[0]+2*D.x*A,y:n.ctrlpts[1]+2*D.y*A},P=h.intersectLine(r.x,r.y,a,l,R.x,R.y,0);b?(n.ctrlpts[0]=n.ctrlpts[0]+D.x*(m-y),n.ctrlpts[1]=n.ctrlpts[1]+D.y*(m-y)):(n.ctrlpts[0]=P[0]+D.x*m,n.ctrlpts[1]=P[1]+D.y*m)}_&&this.findEndpoints(t)}},oo.storeAllpts=function(t){var e=t._private.rscratch;if("multibezier"===e.edgeType||"bezier"===e.edgeType||"self"===e.edgeType||"compound"===e.edgeType){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var n=0;n+1<e.ctrlpts.length;n+=2)e.allpts.push(e.ctrlpts[n],e.ctrlpts[n+1]),n+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[n]+e.ctrlpts[n+2])/2,(e.ctrlpts[n+1]+e.ctrlpts[n+3])/2);var i;e.allpts.push(e.endX,e.endY),e.ctrlpts.length/2%2==0?(e.midX=e.allpts[i=e.allpts.length/2-1],e.midY=e.allpts[i+1]):(e.midX=Zt(e.allpts[i=e.allpts.length/2-3],e.allpts[i+2],e.allpts[i+4],.5),e.midY=Zt(e.allpts[i+1],e.allpts[i+3],e.allpts[i+5],.5))}else if("straight"===e.edgeType)e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if("segments"===e.edgeType)if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4==0){var r=e.segpts.length/2,s=r-2;e.midX=(e.segpts[s]+e.segpts[r])/2,e.midY=(e.segpts[s+1]+e.segpts[r+1])/2}else{var o=e.segpts.length/2-1;e.midX=e.segpts[o],e.midY=e.segpts[o+1]}},oo.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||C(e.startX)&&C(e.startY)&&C(e.endX)&&C(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,pt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},oo.findEdgeControlPoints=function(t){var e=this;if(t&&0!==t.length){for(var n=this,i=n.cy.hasCompoundNodes(),r={map:new Ct,get:function(t){var e=this.map.get(t[0]);return null!=e?e.get(t[1]):null},set:function(t,e){var n=this.map.get(t[0]);null==n&&(n=new Ct,this.map.set(t[0],n)),n.set(t[1],e)}},s=[],o=[],a=0;a<t.length;a++){var l=t[a],c=l._private,h=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==h){var u="unbundled-bezier"===h||"segments"===h||"straight"===h||"straight-triangle"===h||"taxi"===h,d="unbundled-bezier"===h||"bezier"===h,p=c.target,f=[c.source.poolIndex(),p.poolIndex()].sort(),m=r.get(f);null==m&&(r.set(f,m={eles:[]}),s.push(f)),m.eles.push(l),u&&(m.hasUnbundled=!0),d&&(m.hasBezier=!0)}else o.push(l)}for(var g=function(t){var o=r.get(s[t]),a=void 0;if(!o.hasUnbundled){var l=o.eles[0].parallelEdges().filter((function(t){return t.isBundledBezier()}));_t(o.eles),l.forEach((function(t){return o.eles.push(t)})),o.eles.sort((function(t,e){return t.poolIndex()-e.poolIndex()}))}var c=o.eles[0],h=c.source(),u=c.target();if(h.poolIndex()>u.poolIndex()){var d=h;h=u,u=d}var p=o.srcPos=h.position(),f=o.tgtPos=u.position(),m=o.srcW=h.outerWidth(),g=o.srcH=h.outerHeight(),v=o.tgtW=u.outerWidth(),y=o.tgtH=u.outerHeight(),b=o.srcShape=n.nodeShapes[e.getNodeShape(h)],_=o.tgtShape=n.nodeShapes[e.getNodeShape(u)];o.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var w=0;w<o.eles.length;w++){var x=o.eles[w],S=x[0]._private.rscratch,k=x.pstyle("curve-style").value,E="unbundled-bezier"===k||"segments"===k||"taxi"===k,I=!h.same(x.source());if(!o.calculatedIntersection&&h!==u&&(o.hasBezier||o.hasUnbundled)){o.calculatedIntersection=!0;var T=b.intersectLine(p.x,p.y,m,g,f.x,f.y,0),O=o.srcIntn=T,D=_.intersectLine(f.x,f.y,v,y,p.x,p.y,0),A=o.tgtIntn=D,R=o.intersectionPts={x1:T[0],x2:D[0],y1:T[1],y2:D[1]},P=o.posPts={x1:p.x,x2:f.x,y1:p.y,y2:f.y},M=D[1]-T[1],L=D[0]-T[0],N=Math.sqrt(L*L+M*M),F=o.vector={x:L,y:M},B=o.vectorNorm={x:F.x/N,y:F.y/N},V={x:-B.y,y:B.x};o.nodesOverlap=!C(N)||_.checkPoint(T[0],T[1],0,v,y,f.x,f.y)||b.checkPoint(D[0],D[1],0,m,g,p.x,p.y),o.vectorNormInverse=V,a={nodesOverlap:o.nodesOverlap,dirCounts:o.dirCounts,calculatedIntersection:!0,hasBezier:o.hasBezier,hasUnbundled:o.hasUnbundled,eles:o.eles,srcPos:f,tgtPos:p,srcW:v,srcH:y,tgtW:m,tgtH:g,srcIntn:A,tgtIntn:O,srcShape:_,tgtShape:b,posPts:{x1:P.x2,y1:P.y2,x2:P.x1,y2:P.y1},intersectionPts:{x1:R.x2,y1:R.y2,x2:R.x1,y2:R.y1},vector:{x:-F.x,y:-F.y},vectorNorm:{x:-B.x,y:-B.y},vectorNormInverse:{x:-V.x,y:-V.y}}}var z=I?a:o;S.nodesOverlap=z.nodesOverlap,S.srcIntn=z.srcIntn,S.tgtIntn=z.tgtIntn,i&&(h.isParent()||h.isChild()||u.isParent()||u.isChild())&&(h.parents().anySame(u)||u.parents().anySame(h)||h.same(u)&&h.isParent())?e.findCompoundLoopPoints(x,z,w,E):h===u?e.findLoopPoints(x,z,w,E):"segments"===k?e.findSegmentsPoints(x,z):"taxi"===k?e.findTaxiPoints(x,z):"straight"===k||!E&&o.eles.length%2==1&&w===Math.floor(o.eles.length/2)?e.findStraightEdgePoints(x):e.findBezierPoints(x,z,w,E,I),e.findEndpoints(x),e.tryToCorrectInvalidPoints(x,z),e.checkForInvalidEdgeWarning(x),e.storeAllpts(x),e.storeEdgeProjections(x),e.calculateArrowAngles(x),e.recalculateEdgeLabelProjections(x),e.calculateLabelAngles(x)}},v=0;v<s.length;v++)g(v);this.findHaystackPoints(o)}},oo.getSegmentPoints=function(t){var e=t[0]._private.rscratch;if("segments"===e.edgeType)return this.recalculateRenderedStyle(t),ao(e.segpts)},oo.getControlPoints=function(t){var e=t[0]._private.rscratch,n=e.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(t),ao(e.ctrlpts)},oo.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var lo={manualEndptToPx:function(t,e){var n=t.position(),i=t.outerWidth(),r=t.outerHeight();if(2===e.value.length){var s=[e.pfValue[0],e.pfValue[1]];return"%"===e.units[0]&&(s[0]=s[0]*i),"%"===e.units[1]&&(s[1]=s[1]*r),s[0]+=n.x,s[1]+=n.y,s}var o=e.pfValue[0];o=-Math.PI/2+o;var a=2*Math.max(i,r),l=[n.x+Math.cos(o)*a,n.y+Math.sin(o)*a];return this.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,i,r,l[0],l[1],0)},findEndpoints:function(t){var e,n,i,r,s,o=this,a=t.source()[0],l=t.target()[0],c=a.position(),h=l.position(),u=t.pstyle("target-arrow-shape").value,d=t.pstyle("source-arrow-shape").value,p=t.pstyle("target-distance-from-node").pfValue,f=t.pstyle("source-distance-from-node").pfValue,m=t.pstyle("curve-style").value,g=t._private.rscratch,v=g.edgeType,y="self"===v||"compound"===v,b="bezier"===v||"multibezier"===v||y,_="bezier"!==v,w="straight"===v||"segments"===v,x="segments"===v,S=b||_||w,k=y||"taxi"===m,E=t.pstyle("source-endpoint"),I=k?"outside-to-node":E.value,T=t.pstyle("target-endpoint"),O=k?"outside-to-node":T.value;if(g.srcManEndpt=E,g.tgtManEndpt=T,b){var D=[g.ctrlpts[0],g.ctrlpts[1]];n=_?[g.ctrlpts[g.ctrlpts.length-2],g.ctrlpts[g.ctrlpts.length-1]]:D,i=D}else if(w){var A=x?g.segpts.slice(0,2):[h.x,h.y];n=x?g.segpts.slice(g.segpts.length-2):[c.x,c.y],i=A}if("inside-to-node"===O)e=[h.x,h.y];else if(T.units)e=this.manualEndptToPx(l,T);else if("outside-to-line"===O)e=g.tgtIntn;else if("outside-to-node"===O||"outside-to-node-or-label"===O?r=n:"outside-to-line"!==O&&"outside-to-line-or-label"!==O||(r=[c.x,c.y]),e=o.nodeShapes[this.getNodeShape(l)].intersectLine(h.x,h.y,l.outerWidth(),l.outerHeight(),r[0],r[1],0),"outside-to-node-or-label"===O||"outside-to-line-or-label"===O){var R=l._private.rscratch,P=R.labelX,M=R.labelY,L=R.labelWidth/2,N=R.labelHeight/2,F=l.pstyle("text-valign").value;"top"===F?M-=N:"bottom"===F&&(M+=N);var B=l.pstyle("text-halign").value;"left"===B?P-=L:"right"===B&&(P+=L);var V=we(r[0],r[1],[P-L,M-N,P+L,M-N,P+L,M+N,P-L,M+N],h.x,h.y);if(V.length>0){var z=c,j=Xt(z,$t(e)),H=Xt(z,$t(V)),U=j;H<j&&(e=V,U=H),V.length>2&&Xt(z,{x:V[2],y:V[3]})<U&&(e=[V[2],V[3]])}}var $=xe(e,n,o.arrowShapes[u].spacing(t)+p),q=xe(e,n,o.arrowShapes[u].gap(t)+p);if(g.endX=q[0],g.endY=q[1],g.arrowEndX=$[0],g.arrowEndY=$[1],"inside-to-node"===I)e=[c.x,c.y];else if(E.units)e=this.manualEndptToPx(a,E);else if("outside-to-line"===I)e=g.srcIntn;else if("outside-to-node"===I||"outside-to-node-or-label"===I?s=i:"outside-to-line"!==I&&"outside-to-line-or-label"!==I||(s=[h.x,h.y]),e=o.nodeShapes[this.getNodeShape(a)].intersectLine(c.x,c.y,a.outerWidth(),a.outerHeight(),s[0],s[1],0),"outside-to-node-or-label"===I||"outside-to-line-or-label"===I){var W=a._private.rscratch,G=W.labelX,Y=W.labelY,X=W.labelWidth/2,K=W.labelHeight/2,Z=a.pstyle("text-valign").value;"top"===Z?Y-=K:"bottom"===Z&&(Y+=K);var Q=a.pstyle("text-halign").value;"left"===Q?G-=X:"right"===Q&&(G+=X);var J=we(s[0],s[1],[G-X,Y-K,G+X,Y-K,G+X,Y+K,G-X,Y+K],c.x,c.y);if(J.length>0){var tt=h,et=Xt(tt,$t(e)),nt=Xt(tt,$t(J)),it=et;nt<et&&(e=[J[0],J[1]],it=nt),J.length>2&&Xt(tt,{x:J[2],y:J[3]})<it&&(e=[J[2],J[3]])}}var rt=xe(e,i,o.arrowShapes[d].spacing(t)+f),st=xe(e,i,o.arrowShapes[d].gap(t)+f);g.startX=st[0],g.startY=st[1],g.arrowStartX=rt[0],g.arrowStartY=rt[1],S&&(g.badLine=!(C(g.startX)&&C(g.startY)&&C(g.endX)&&C(g.endY)))},getSourceEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}},getTargetEndpoint:function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}}},co={};function ho(t,e,n){for(var i=function(t,e,n,i){return Zt(t,e,n,i)},r=e._private.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var o=t.bezierProjPcts[s];r.push({x:i(n[0],n[2],n[4],o),y:i(n[1],n[3],n[5],o)})}}co.storeEdgeProjections=function(t){var e=t._private,n=e.rscratch,i=n.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,"multibezier"===i||"bezier"===i||"self"===i||"compound"===i){e.rstyle.bezierPts=[];for(var r=0;r+5<n.allpts.length;r+=4)ho(this,t,n.allpts.slice(r,r+6))}else if("segments"===i){var s=e.rstyle.linePts=[];for(r=0;r+1<n.allpts.length;r+=2)s.push({x:n.allpts[r],y:n.allpts[r+1]})}else if("haystack"===i){var o=n.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth},co.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var uo={recalculateNodeLabelProjection:function(t){var e=t.pstyle("label").strValue;if(!D(e)){var n,i,r=t._private,s=t.width(),o=t.height(),a=t.padding(),l=t.position(),c=t.pstyle("text-halign").strValue,h=t.pstyle("text-valign").strValue,u=r.rscratch,d=r.rstyle;switch(c){case"left":n=l.x-s/2-a;break;case"right":n=l.x+s/2+a;break;default:n=l.x}switch(h){case"top":i=l.y-o/2-a;break;case"bottom":i=l.y+o/2+a;break;default:i=l.y}u.labelX=n,u.labelY=i,d.labelX=n,d.labelY=i,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}}},po=function(t,e){var n=Math.atan(e/t);return 0===t&&n<0&&(n*=-1),n},fo=function(t,e){return po(e.x-t.x,e.y-t.y)};uo.recalculateEdgeLabelProjections=function(t){var e,n=t._private,i=n.rscratch,r=this,s={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(s.mid||s.source||s.target){var o=function(t,e,i){xt(n.rscratch,t,e,i),xt(n.rstyle,t,e,i)};o("labelX",null,(e={x:i.midX,y:i.midY}).x),o("labelY",null,e.y);var a=po(i.midDispX,i.midDispY);o("labelAutoAngle",null,a);var l=function(a){var l,c="source"===a;if(s[a]){var h=t.pstyle(a+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var u,d=function t(){if(t.cache)return t.cache;for(var e=[],s=0;s+5<i.allpts.length;s+=4)e.push({p0:{x:i.allpts[s],y:i.allpts[s+1]},p1:{x:i.allpts[s+2],y:i.allpts[s+3]},p2:{x:i.allpts[s+4],y:i.allpts[s+5]},startDist:0,length:0,segments:[]});var o=n.rstyle.bezierPts,a=r.bezierProjPcts.length;function l(t,e,n,i,r){var s=Yt(e,n),o=t.segments[t.segments.length-1];t.segments.push({p0:e,p1:n,t0:i,t1:r,startDist:o?o.startDist+o.length:0,length:s}),t.length+=s}for(var c=0;c<e.length;c++){var h=e[c],u=e[c-1];u&&(h.startDist=u.startDist+u.length),l(h,h.p0,o[c*a],0,r.bezierProjPcts[0]);for(var d=0;d<a-1;d++)l(h,o[c*a+d],o[c*a+d+1],r.bezierProjPcts[d],r.bezierProjPcts[d+1]);l(h,o[c*a+a-1],h.p2,r.bezierProjPcts[a-1],1)}return t.cache=e}(),p=0,f=0,m=0;m<d.length;m++){for(var g=d[c?m:d.length-1-m],v=0;v<g.segments.length;v++){var y=g.segments[c?v:g.segments.length-1-v];if(p=f,(f+=y.length)>=h||m===d.length-1&&v===g.segments.length-1){u={cp:g,segment:y};break}}if(u)break}var b=u.cp,_=u.segment,w=(h-p)/_.length,x=_.t1-_.t0,C=c?_.t0+x*w:_.t1-x*w;C=Jt(0,C,1),e=Qt(b.p0,b.p1,b.p2,C),l=function(t,e,n,i){var r=Jt(0,i-.001,1),s=Jt(0,i+.001,1),o=Qt(t,e,n,r),a=Qt(t,e,n,s);return fo(o,a)}(b.p0,b.p1,b.p2,C);break;case"straight":case"segments":case"haystack":for(var S,k,E,I,T=0,O=i.allpts.length,D=0;D+3<O&&(c?(E={x:i.allpts[D],y:i.allpts[D+1]},I={x:i.allpts[D+2],y:i.allpts[D+3]}):(E={x:i.allpts[O-2-D],y:i.allpts[O-1-D]},I={x:i.allpts[O-4-D],y:i.allpts[O-3-D]}),k=T,!((T+=S=Yt(E,I))>=h));D+=2);var A=(h-k)/S;A=Jt(0,A,1),e=function(t,e,n,i){var r=e.x-t.x,s=e.y-t.y,o=Yt(t,e);return n=null==n?0:n,{x:t.x+r/o*(i=null!=i?i:n*o),y:t.y+s/o*i}}(E,I,A),l=fo(E,I)}o("labelX",a,e.x),o("labelY",a,e.y),o("labelAutoAngle",a,l)}};l("source"),l("target"),this.applyLabelDimensions(t)}},uo.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))},uo.applyPrefixedLabelDimensions=function(t,e){var n=t._private,i=this.getLabelText(t,e),r=this.calculateLabelDimensions(t,i),s=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,a=wt(n.rscratch,"labelWrapCachedLines",e)||[],l="wrap"!==o?1:Math.max(a.length,1),c=r.height/l,h=c*s,u=r.width,d=r.height+(l-1)*(s-1)*c;xt(n.rstyle,"labelWidth",e,u),xt(n.rscratch,"labelWidth",e,u),xt(n.rstyle,"labelHeight",e,d),xt(n.rscratch,"labelHeight",e,d),xt(n.rscratch,"labelLineHeight",e,h)},uo.getLabelText=function(t,e){var n=t._private,i=t.pstyle((e?e+"-":"")+"label").strValue,r=t.pstyle("text-transform").value,s=function(t,i){return i?(xt(n.rscratch,t,e,i),i):wt(n.rscratch,t,e)};if(!i)return"";"none"==r||("uppercase"==r?i=i.toUpperCase():"lowercase"==r&&(i=i.toLowerCase()));var o=t.pstyle("text-wrap").value;if("wrap"===o){var a=s("labelKey");if(null!=a&&s("labelWrapKey")===a)return s("labelWrapCachedText");for(var l=i.split("\n"),c=t.pstyle("text-max-width").pfValue,h="anywhere"===t.pstyle("text-overflow-wrap").value,u=[],d=/[\s\u200b]+/,p=h?"":" ",f=0;f<l.length;f++){var m=l[f],g=this.calculateLabelDimensions(t,m).width;if(h){var v=m.split("").join("\u200b");m=v}if(g>c){for(var y=m.split(d),b="",_=0;_<y.length;_++){var w=y[_];this.calculateLabelDimensions(t,0===b.length?w:b+p+w).width<=c?b+=w+p:(b&&u.push(b),b=w+p)}b.match(/^[\s\u200b]+$/)||u.push(b)}else u.push(m)}s("labelWrapCachedLines",u),i=s("labelWrapCachedText",u.join("\n")),s("labelWrapKey",a)}else if("ellipsis"===o){var x=t.pstyle("text-max-width").pfValue,C="",S=!1;if(this.calculateLabelDimensions(t,i).width<x)return i;for(var k=0;k<i.length&&!(this.calculateLabelDimensions(t,C+i[k]+"\u2026").width>x);k++)C+=i[k],k===i.length-1&&(S=!0);return S||(C+="\u2026"),C}return i},uo.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,n=t.pstyle("text-halign").strValue;if("auto"!==e)return e;if(!t.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},uo.calculateLabelDimensions=function(t,e){var n=tt(e,t._private.labelDimsKey),i=this.labelDimCache||(this.labelDimCache=[]),r=i[n];if(null!=r)return r;var s=t.pstyle("font-style").strValue,o=t.pstyle("font-size").pfValue,a=t.pstyle("font-family").strValue,l=t.pstyle("font-weight").strValue,c=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=document.createElement("canvas"),h=this.labelCalcCanvasContext=c.getContext("2d");var u=c.style;u.position="absolute",u.left="-9999px",u.top="-9999px",u.zIndex="-1",u.visibility="hidden",u.pointerEvents="none"}h.font="".concat(s," ").concat(l," ").concat(o,"px ").concat(a);for(var d=0,p=0,f=e.split("\n"),m=0;m<f.length;m++){var g=h.measureText(f[m]),v=Math.ceil(g.width),y=o;d=Math.max(v,d),p+=y}return i[n]={width:d+=0,height:p+=0}},uo.calculateLabelAngle=function(t,e){var n=t._private.rscratch,i=t.isEdge(),r=t.pstyle((e?e+"-":"")+"text-rotation"),s=r.strValue;return"none"===s?0:i&&"autorotate"===s?n.labelAutoAngle:"autorotate"===s?0:r.pfValue},uo.calculateLabelAngles=function(t){var e=this,n=t.isEdge(),i=t._private.rscratch;i.labelAngle=e.calculateLabelAngle(t),n&&(i.sourceLabelAngle=e.calculateLabelAngle(t,"source"),i.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var mo={},go=!1;mo.getNodeShape=function(t){var e=t.pstyle("shape").value;if("cutrectangle"===e&&(t.width()<28||t.height()<28))return go||(pt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),go=!0),"rectangle";if(t.isParent())return"rectangle"===e||"roundrectangle"===e||"round-rectangle"===e||"cutrectangle"===e||"cut-rectangle"===e||"barrel"===e?e:"rectangle";if("polygon"===e){var n=t.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return e};var vo={};[ro,so,oo,lo,co,uo,mo,{registerCalculationListeners:function(){var t=this.cy,e=t.collection(),n=this,i=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.merge(t),n)for(var i=0;i<t.length;i++){var r=t[i],s=r._private,o=s.rstyle;o.clean=!1,o.cleanConnected=!1}};n.binder(t).on("bounds.* dirty.*",(function(t){i(t.target)})).on("style.* background.*",(function(t){i(t.target,!1)}));var r=function(r){if(r){var s=n.onUpdateEleCalcsFns;e.cleanStyle();for(var o=0;o<e.length;o++){var a=e[o],l=a._private.rstyle;a.isNode()&&!l.cleanConnected&&(i(a.connectedEdges()),l.cleanConnected=!0)}if(s)for(var c=0;c<s.length;c++)(0,s[c])(r,e);n.recalculateRenderedStyle(e),e=t.collection()}};n.flushRenderedStyleQueue=function(){r(!0)},n.beforeRender(r,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(t){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(t)},recalculateRenderedStyle:function(t,e){var n=function(t){return t._private.rstyle.cleanConnected},i=[],r=[];if(!this.destroyed){void 0===e&&(e=!0);for(var s=0;s<t.length;s++){var o=t[s],a=o._private,l=a.rstyle;!o.isEdge()||n(o.source())&&n(o.target())||(l.clean=!1),e&&l.clean||o.removed()||"none"!==o.pstyle("display").value&&("nodes"===a.group?r.push(o):i.push(o),l.clean=!0)}for(var c=0;c<r.length;c++){var h=r[c],u=h._private.rstyle,d=h.position();this.recalculateNodeLabelProjection(h),u.nodeX=d.x,u.nodeY=d.y,u.nodeW=h.pstyle("width").pfValue,u.nodeH=h.pstyle("height").pfValue}this.recalculateEdgeProjections(i);for(var p=0;p<i.length;p++){var f=i[p]._private,m=f.rstyle,g=f.rscratch;m.srcX=g.arrowStartX,m.srcY=g.arrowStartY,m.tgtX=g.arrowEndX,m.tgtY=g.arrowEndY,m.midX=g.midX,m.midY=g.midY,m.labelAngle=g.labelAngle,m.sourceLabelAngle=g.sourceLabelAngle,m.targetLabelAngle=g.targetLabelAngle}}}},{updateCachedGrabbedEles:function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],n=0;n<t.length;n++){var i=(r=t[n])._private.rscratch;r.grabbed()&&!r.isParent()?e.push(r):i.inDragLayer?t.drag.push(r):t.nondrag.push(r)}for(n=0;n<e.length;n++){var r;t.drag.push(r=e[n])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(ar),e.interactive=e.filter((function(t){return t.interactive()})),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e}}].forEach((function(t){V(vo,t)}));var yo={getCachedImage:function(t,e,n){var i=this.imageCache=this.imageCache||{},r=i[t];if(r)return r.image.complete||r.image.addEventListener("load",n),r.image;var s=(r=i[t]=i[t]||{}).image=new Image;return s.addEventListener("load",n),s.addEventListener("error",(function(){s.error=!0})),"data:"===t.substring(0,"data:".length).toLowerCase()||(s.crossOrigin=e),s.src=t,s}},bo={registerBinding:function(t,e,n,i){var r=Array.prototype.slice.apply(arguments,[1]),s=this.binder(t);return s.on.apply(s,r)},binder:function(t){var e=this,n=t===window||t===document||t===document.body||"undefined"!=typeof HTMLElement&&t instanceof HTMLElement;if(null==e.supportsPassiveEvents){var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,r)}catch(o){}e.supportsPassiveEvents=i}var s=function(i,r,s){var o=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(o[2]={capture:null!=s&&s,passive:!1,once:!1}),e.bindings.push({target:t,args:o}),(t.addEventListener||t.on).apply(t,o),this};return{on:s,addEventListener:s,addListener:s,bind:s}},nodeIsDraggable:function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()},nodeIsGrabbable:function(t){return this.nodeIsDraggable(t)&&t.interactive()},load:function(){var t=this,e=function(t){return t.selected()},n=function(e,n,i,r){null==e&&(e=t.cy);for(var s=0;s<n.length;s++)e.emit({originalEvent:i,type:n[s],position:r})},i=function(t){return t.shiftKey||t.metaKey||t.ctrlKey},s=function(e,n){var i=!0;if(t.cy.hasCompoundNodes()&&e&&e.pannable()){for(var r=0;n&&r<n.length;r++)if((e=n[r]).isNode()&&e.isParent()&&!e.pannable()){i=!1;break}}else i=!0;return i},o=function(t){t[0]._private.rscratch.inDragLayer=!0},a=function(t){t[0]._private.rscratch.isGrabTarget=!0},l=function(t,e){var n=e.addToList;n.has(t)||(n.merge(t),function(t){t[0]._private.grabbed=!0}(t))},c=function(e,n){n=n||{};var i=e.cy().hasCompoundNodes();n.inDragLayer&&(e.forEach(o),e.neighborhood().stdFilter((function(t){return!i||t.isEdge()})).forEach(o)),n.addToList&&e.forEach((function(t){l(t,n)})),function(t,e){if(t.cy().hasCompoundNodes()&&(null!=e.inDragLayer||null!=e.addToList)){var n=t.descendants();e.inDragLayer&&(n.forEach(o),n.connectedEdges().forEach(o)),e.addToList&&e.addToList.unmerge(n)}}(e,n),d(e,{inDragLayer:n.inDragLayer}),t.updateCachedGrabbedEles()},h=c,u=function(e){e&&(t.getCachedZSortedEles().forEach((function(t){!function(t){t[0]._private.grabbed=!1}(t),function(t){t[0]._private.rscratch.inDragLayer=!1}(t),function(t){t[0]._private.rscratch.isGrabTarget=!1}(t)})),t.updateCachedGrabbedEles())},d=function(t,e){if((null!=e.inDragLayer||null!=e.addToList)&&t.cy().hasCompoundNodes()){var n=t.ancestors().orphans();if(!n.same(t)){var i=n.descendants().spawnSelf().merge(n).unmerge(t).unmerge(t.descendants()),r=i.connectedEdges();e.inDragLayer&&(r.forEach(o),i.forEach(o)),e.addToList&&i.forEach((function(t){l(t,e)}))}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!=typeof MutationObserver,m="undefined"!=typeof ResizeObserver;f?(t.removeObserver=new MutationObserver((function(e){for(var n=0;n<e.length;n++){var i=e[n].removedNodes;if(i)for(var r=0;r<i.length;r++)if(i[r]===t.container){t.destroy();break}}})),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",(function(e){t.destroy()}));var g=r((function(){t.cy.resize()}),100);f&&(t.styleObserver=new MutationObserver(g),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",g),m&&(t.resizeObserver=new ResizeObserver(g),t.resizeObserver.observe(t.container));var v=function(){t.invalidateContainerClientCoordsCache()};!function(t,e){for(;null!=t;)e(t),t=t.parentNode}(t.container,(function(e){t.registerBinding(e,"transitionend",v),t.registerBinding(e,"animationend",v),t.registerBinding(e,"scroll",v)})),t.registerBinding(t.container,"contextmenu",(function(t){t.preventDefault()}));var y,b,_,w=function(e){for(var n=t.findContainerClientCoords(),i=n[0],r=n[1],s=n[2],o=n[3],a=e.touches?e.touches:[e],l=!1,c=0;c<a.length;c++){var h=a[c];if(i<=h.clientX&&h.clientX<=i+s&&r<=h.clientY&&h.clientY<=r+o){l=!0;break}}if(!l)return!1;for(var u=t.container,d=e.target.parentNode,p=!1;d;){if(d===u){p=!0;break}d=d.parentNode}return!!p};t.registerBinding(t.container,"mousedown",(function(e){if(w(e)){e.preventDefault(),p(),t.hoverData.capture=!0,t.hoverData.which=e.which;var i=t.cy,r=[e.clientX,e.clientY],s=t.projectIntoViewport(r[0],r[1]),o=t.selection,l=t.findNearestElements(s[0],s[1],!0,!1),u=l[0],d=t.dragData.possibleDragElements;if(t.hoverData.mdownPos=s,t.hoverData.mdownGPos=r,3==e.which){t.hoverData.cxtStarted=!0;var f={originalEvent:e,type:"cxttapstart",position:{x:s[0],y:s[1]}};u?(u.activate(),u.emit(f),t.hoverData.down=u):i.emit(f),t.hoverData.downTime=(new Date).getTime(),t.hoverData.cxtDragged=!1}else if(1==e.which){if(u&&u.activate(),null!=u&&t.nodeIsGrabbable(u)){var m=function(t){return{originalEvent:e,type:t,position:{x:s[0],y:s[1]}}};if(a(u),u.selected()){d=t.dragData.possibleDragElements=i.collection();var g=i.$((function(e){return e.isNode()&&e.selected()&&t.nodeIsGrabbable(e)}));c(g,{addToList:d}),u.emit(m("grabon")),g.forEach((function(t){t.emit(m("grab"))}))}else d=t.dragData.possibleDragElements=i.collection(),h(u,{addToList:d}),u.emit(m("grabon")).emit(m("grab"));t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=u,t.hoverData.downs=l,t.hoverData.downTime=(new Date).getTime(),n(u,["mousedown","tapstart","vmousedown"],e,{x:s[0],y:s[1]}),null==u?(o[4]=1,t.data.bgActivePosistion={x:s[0],y:s[1]},t.redrawHint("select",!0),t.redraw()):u.pannable()&&(o[4]=1),t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout((function(){if(!t.hoverData.tapholdCancelled){var n=t.hoverData.down;n?n.emit({originalEvent:e,type:"taphold",position:{x:s[0],y:s[1]}}):i.emit({originalEvent:e,type:"taphold",position:{x:s[0],y:s[1]}})}}),t.tapholdDuration)}o[0]=o[2]=s[0],o[1]=o[3]=s[1]}}),!1),t.registerBinding(window,"mousemove",(function(e){if(t.hoverData.capture||w(e)){var r=!1,o=t.cy,a=o.zoom(),l=[e.clientX,e.clientY],h=t.projectIntoViewport(l[0],l[1]),d=t.hoverData.mdownPos,p=t.hoverData.mdownGPos,f=t.selection,m=null;t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.selecting||(m=t.findNearestElement(h[0],h[1],!0,!1));var g,v=t.hoverData.last,y=t.hoverData.down,b=[h[0]-f[2],h[1]-f[3]],_=t.dragData.possibleDragElements;if(p){var x=l[0]-p[0],S=l[1]-p[1];t.hoverData.isOverThresholdDrag=g=x*x+S*S>=t.desktopTapThreshold2}var k=i(e);g&&(t.hoverData.tapholdCancelled=!0),r=!0,n(m,["mousemove","vmousemove","tapdrag"],e,{x:h[0],y:h[1]});var E=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||o.emit({originalEvent:e,type:"boxstart",position:{x:h[0],y:h[1]}}),f[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(3===t.hoverData.which){if(g){var I={originalEvent:e,type:"cxtdrag",position:{x:h[0],y:h[1]}};y?y.emit(I):o.emit(I),t.hoverData.cxtDragged=!0,t.hoverData.cxtOver&&m===t.hoverData.cxtOver||(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:h[0],y:h[1]}}),t.hoverData.cxtOver=m,m&&m.emit({originalEvent:e,type:"cxtdragover",position:{x:h[0],y:h[1]}}))}}else if(t.hoverData.dragging){if(r=!0,o.panningEnabled()&&o.userPanningEnabled()){var T;if(t.hoverData.justStartedPan){var O=t.hoverData.mdownPos;T={x:(h[0]-O[0])*a,y:(h[1]-O[1])*a},t.hoverData.justStartedPan=!1}else T={x:b[0]*a,y:b[1]*a};o.panBy(T),o.emit("dragpan"),t.hoverData.dragged=!0}h=t.projectIntoViewport(e.clientX,e.clientY)}else if(1!=f[4]||null!=y&&!y.pannable()){if(y&&y.pannable()&&y.active()&&y.unactivate(),y&&y.grabbed()||m==v||(v&&n(v,["mouseout","tapdragout"],e,{x:h[0],y:h[1]}),m&&n(m,["mouseover","tapdragover"],e,{x:h[0],y:h[1]}),t.hoverData.last=m),y)if(g){if(o.boxSelectionEnabled()&&k)y&&y.grabbed()&&(u(_),y.emit("freeon"),_.emit("free"),t.dragData.didDrag&&(y.emit("dragfreeon"),_.emit("dragfree"))),E();else if(y&&y.grabbed()&&t.nodeIsDraggable(y)){var D=!t.dragData.didDrag;D&&t.redrawHint("eles",!0),t.dragData.didDrag=!0;var A=o.collection();t.hoverData.draggingEles||c(_,{inDragLayer:!0});var R={x:0,y:0};if(C(b[0])&&C(b[1])&&(R.x+=b[0],R.y+=b[1],D)){var P=t.hoverData.dragDelta;P&&C(P[0])&&C(P[1])&&(R.x+=P[0],R.y+=P[1])}for(var M=0;M<_.length;M++){var L=_[M];t.nodeIsDraggable(L)&&L.grabbed()&&A.push(L)}t.hoverData.draggingEles=!0,A.silentShift(R).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else!function(){var e=t.hoverData.dragDelta=t.hoverData.dragDelta||[];0===e.length?(e.push(b[0]),e.push(b[1])):(e[0]+=b[0],e[1]+=b[1])}();r=!0}else g&&(t.hoverData.dragging||!o.boxSelectionEnabled()||!k&&o.panningEnabled()&&o.userPanningEnabled()?!t.hoverData.selecting&&o.panningEnabled()&&o.userPanningEnabled()&&s(y,t.hoverData.downs)&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,f[4]=0,t.data.bgActivePosistion=$t(d),t.redrawHint("select",!0),t.redraw()):E(),y&&y.pannable()&&y.active()&&y.unactivate());return f[2]=h[0],f[3]=h[1],r?(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):void 0}}),!1),t.registerBinding(window,"mouseup",(function(r){if(t.hoverData.capture){t.hoverData.capture=!1;var s=t.cy,o=t.projectIntoViewport(r.clientX,r.clientY),a=t.selection,l=t.findNearestElement(o[0],o[1],!0,!1),c=t.dragData.possibleDragElements,h=t.hoverData.down,d=i(r);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,h&&h.unactivate(),3===t.hoverData.which){var p={originalEvent:r,type:"cxttapend",position:{x:o[0],y:o[1]}};if(h?h.emit(p):s.emit(p),!t.hoverData.cxtDragged){var f={originalEvent:r,type:"cxttap",position:{x:o[0],y:o[1]}};h?h.emit(f):s.emit(f)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(1===t.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],r,{x:o[0],y:o[1]}),t.dragData.didDrag||t.hoverData.dragged||t.hoverData.selecting||t.hoverData.isOverThresholdDrag||(n(h,["click","tap","vclick"],r,{x:o[0],y:o[1]}),b=!1,r.timeStamp-_<=s.multiClickDebounceTime()?(y&&clearTimeout(y),b=!0,_=null,n(h,["dblclick","dbltap","vdblclick"],r,{x:o[0],y:o[1]})):(y=setTimeout((function(){b||n(h,["oneclick","onetap","voneclick"],r,{x:o[0],y:o[1]})}),s.multiClickDebounceTime()),_=r.timeStamp)),null!=h||t.dragData.didDrag||t.hoverData.selecting||t.hoverData.dragged||i(r)||(s.$(e).unselect(["tapunselect"]),c.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=c=s.collection()),l!=h||t.dragData.didDrag||t.hoverData.selecting||null!=l&&l._private.selectable&&(t.hoverData.dragging||("additive"===s.selectionType()||d?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):d||(s.$(e).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var m=s.collection(t.getAllInBox(a[0],a[1],a[2],a[3]));t.redrawHint("select",!0),m.length>0&&t.redrawHint("eles",!0),s.emit({type:"boxend",originalEvent:r,position:{x:o[0],y:o[1]}}),"additive"===s.selectionType()||d||s.$(e).unmerge(m).unselect(),m.emit("box").stdFilter((function(t){return t.selectable()&&!t.selected()})).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!a[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var g=h&&h.grabbed();u(c),g&&(h.emit("freeon"),c.emit("free"),t.dragData.didDrag&&(h.emit("dragfreeon"),c.emit("dragfree")))}}a[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}}),!1);var x,S,k,E,I,T,O,D,A,R,P,M,L,N=function(e){if(!t.scrollingPage){var n=t.cy,i=n.zoom(),r=n.pan(),s=t.projectIntoViewport(e.clientX,e.clientY),o=[s[0]*i+r.x,s[1]*i+r.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||0!==t.selection[4])e.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var a;e.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout((function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()}),150),a=null!=e.deltaY?e.deltaY/-250:null!=e.wheelDeltaY?e.wheelDeltaY/1e3:e.wheelDelta/1e3,a*=t.wheelSensitivity,1===e.deltaMode&&(a*=33);var l=n.zoom()*Math.pow(10,a);"gesturechange"===e.type&&(l=t.gestureStartZoom*e.scale),n.zoom({level:l,renderedPosition:{x:o[0],y:o[1]}}),n.emit("gesturechange"===e.type?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",N,!0),t.registerBinding(window,"scroll",(function(e){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout((function(){t.scrollingPage=!1}),250)}),!0),t.registerBinding(t.container,"gesturestart",(function(e){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||e.preventDefault()}),!0),t.registerBinding(t.container,"gesturechange",(function(e){t.hasTouchStarted||N(e)}),!0),t.registerBinding(t.container,"mouseout",(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),t.registerBinding(t.container,"mouseover",(function(e){var n=t.projectIntoViewport(e.clientX,e.clientY);t.cy.emit({originalEvent:e,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var F,B,V,z,j,H,U,$=function(t,e,n,i){return Math.sqrt((n-t)*(n-t)+(i-e)*(i-e))},q=function(t,e,n,i){return(n-t)*(n-t)+(i-e)*(i-e)};if(t.registerBinding(t.container,"touchstart",F=function(e){if(t.hasTouchStarted=!0,w(e)){p(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var i=t.cy,r=t.touchData.now,s=t.touchData.earlier;if(e.touches[0]){var o=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);r[0]=o[0],r[1]=o[1]}if(e.touches[1]&&(o=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),r[2]=o[0],r[3]=o[1]),e.touches[2]&&(o=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),r[4]=o[0],r[5]=o[1]),e.touches[1]){t.touchData.singleTouchMoved=!0,u(t.dragData.touchDragEles);var l=t.findContainerClientCoords();P=l[2],M=l[3],S=e.touches[0].clientY-(R=l[1]),k=e.touches[1].clientX-(A=l[0]),E=e.touches[1].clientY-R,L=0<=(x=e.touches[0].clientX-A)&&x<=P&&0<=k&&k<=P&&0<=S&&S<=M&&0<=E&&E<=M;var d=i.pan(),f=i.zoom();if(I=$(x,S,k,E),T=q(x,S,k,E),D=[((O=[(x+k)/2,(S+E)/2])[0]-d.x)/f,(O[1]-d.y)/f],T<4e4&&!e.touches[2]){var m=t.findNearestElement(r[0],r[1],!0,!0),g=t.findNearestElement(r[2],r[3],!0,!0);return m&&m.isNode()?(m.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}}),t.touchData.start=m):g&&g.isNode()?(g.activate().emit({originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}}),t.touchData.start=g):i.emit({originalEvent:e,type:"cxttapstart",position:{x:r[0],y:r[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,void t.redraw()}}if(e.touches[2])i.boxSelectionEnabled()&&e.preventDefault();else if(e.touches[1]);else if(e.touches[0]){var v=t.findNearestElements(r[0],r[1],!0,!0),y=v[0];if(null!=y&&(y.activate(),t.touchData.start=y,t.touchData.starts=v,t.nodeIsGrabbable(y))){var b=t.dragData.touchDragEles=i.collection(),_=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),y.selected()?(_=i.$((function(e){return e.selected()&&t.nodeIsGrabbable(e)})),c(_,{addToList:b})):h(y,{addToList:b}),a(y);var C=function(t){return{originalEvent:e,type:t,position:{x:r[0],y:r[1]}}};y.emit(C("grabon")),_?_.forEach((function(t){t.emit(C("grab"))})):y.emit(C("grab"))}n(y,["touchstart","tapstart","vmousedown"],e,{x:r[0],y:r[1]}),null==y&&(t.data.bgActivePosistion={x:o[0],y:o[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout((function(){!1!==t.touchData.singleTouchMoved||t.pinching||t.touchData.selecting||n(t.touchData.start,["taphold"],e,{x:r[0],y:r[1]})}),t.tapholdDuration)}if(e.touches.length>=1){for(var N=t.touchData.startPosition=[],F=0;F<r.length;F++)N[F]=s[F]=r[F];var B=e.touches[0];t.touchData.startGPosition=[B.clientX,B.clientY]}}},!1),t.registerBinding(window,"touchmove",B=function(e){var i=t.touchData.capture;if(i||w(e)){var r=t.selection,o=t.cy,a=t.touchData.now,l=t.touchData.earlier,h=o.zoom();if(e.touches[0]){var d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY);a[0]=d[0],a[1]=d[1]}e.touches[1]&&(d=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),a[2]=d[0],a[3]=d[1]),e.touches[2]&&(d=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),a[4]=d[0],a[5]=d[1]);var p,f=t.touchData.startGPosition;if(i&&e.touches[0]&&f){for(var m=[],g=0;g<a.length;g++)m[g]=a[g]-l[g];var v=e.touches[0].clientX-f[0],y=e.touches[0].clientY-f[1];p=v*v+y*y>=t.touchTapThreshold2}if(i&&t.touchData.cxt){e.preventDefault();var b=q(N=e.touches[0].clientX-A,F=e.touches[0].clientY-R,B=e.touches[1].clientX-A,V=e.touches[1].clientY-R);if(b/T>=2.25||b>=22500){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var _={originalEvent:e,type:"cxttapend",position:{x:a[0],y:a[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(_),t.touchData.start=null):o.emit(_)}}if(i&&t.touchData.cxt){_={originalEvent:e,type:"cxtdrag",position:{x:a[0],y:a[1]}},t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(_):o.emit(_),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var O=t.findNearestElement(a[0],a[1],!0,!0);t.touchData.cxtOver&&O===t.touchData.cxtOver||(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:e,type:"cxtdragout",position:{x:a[0],y:a[1]}}),t.touchData.cxtOver=O,O&&O.emit({originalEvent:e,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}else if(i&&e.touches[2]&&o.boxSelectionEnabled())e.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||o.emit({originalEvent:e,type:"boxstart",position:{x:a[0],y:a[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,r[4]=1,r&&0!==r.length&&void 0!==r[0]?(r[2]=(a[0]+a[2]+a[4])/3,r[3]=(a[1]+a[3]+a[5])/3):(r[0]=(a[0]+a[2]+a[4])/3,r[1]=(a[1]+a[3]+a[5])/3,r[2]=(a[0]+a[2]+a[4])/3+1,r[3]=(a[1]+a[3]+a[5])/3+1),t.redrawHint("select",!0),t.redraw();else if(i&&e.touches[1]&&!t.touchData.didSelect&&o.zoomingEnabled()&&o.panningEnabled()&&o.userZoomingEnabled()&&o.userPanningEnabled()){if(e.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),et=t.dragData.touchDragEles){t.redrawHint("drag",!0);for(var P=0;P<et.length;P++){var M=et[P]._private;M.grabbed=!1,M.rscratch.inDragLayer=!1}}var N,F,B,V,z=t.touchData.start,j=$(N=e.touches[0].clientX-A,F=e.touches[0].clientY-R,B=e.touches[1].clientX-A,V=e.touches[1].clientY-R),H=j/I;if(L){var U=(N-x+(B-k))/2,W=(F-S+(V-E))/2,G=o.zoom(),Y=G*H,X=o.pan(),K=D[0]*G+X.x,Z=D[1]*G+X.y,Q={x:-Y/G*(K-X.x-U)+K,y:-Y/G*(Z-X.y-W)+Z};z&&z.active()&&(u(et=t.dragData.touchDragEles),t.redrawHint("drag",!0),t.redrawHint("eles",!0),z.unactivate().emit("freeon"),et.emit("free"),t.dragData.didDrag&&(z.emit("dragfreeon"),et.emit("dragfree"))),o.viewport({zoom:Y,pan:Q,cancelOnFailedZoom:!0}),o.emit("pinchzoom"),I=j,x=N,S=F,k=B,E=V,t.pinching=!0}e.touches[0]&&(d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),a[0]=d[0],a[1]=d[1]),e.touches[1]&&(d=t.projectIntoViewport(e.touches[1].clientX,e.touches[1].clientY),a[2]=d[0],a[3]=d[1]),e.touches[2]&&(d=t.projectIntoViewport(e.touches[2].clientX,e.touches[2].clientY),a[4]=d[0],a[5]=d[1])}else if(e.touches[0]&&!t.touchData.didSelect){var J=t.touchData.start,tt=t.touchData.last;if(t.hoverData.draggingEles||t.swipePanning||(O=t.findNearestElement(a[0],a[1],!0,!0)),i&&null!=J&&e.preventDefault(),i&&null!=J&&t.nodeIsDraggable(J))if(p){var et=t.dragData.touchDragEles,nt=!t.dragData.didDrag;nt&&c(et,{inDragLayer:!0}),t.dragData.didDrag=!0;var it={x:0,y:0};C(m[0])&&C(m[1])&&(it.x+=m[0],it.y+=m[1],nt&&(t.redrawHint("eles",!0),(rt=t.touchData.dragDelta)&&C(rt[0])&&C(rt[1])&&(it.x+=rt[0],it.y+=rt[1]))),t.hoverData.draggingEles=!0,et.silentShift(it).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==l[0]&&t.touchData.startPosition[1]==l[1]&&t.redrawHint("eles",!0),t.redraw()}else{var rt;0===(rt=t.touchData.dragDelta=t.touchData.dragDelta||[]).length?(rt.push(m[0]),rt.push(m[1])):(rt[0]+=m[0],rt[1]+=m[1])}if(n(J||O,["touchmove","tapdrag","vmousemove"],e,{x:a[0],y:a[1]}),J&&J.grabbed()||O==tt||(tt&&tt.emit({originalEvent:e,type:"tapdragout",position:{x:a[0],y:a[1]}}),O&&O.emit({originalEvent:e,type:"tapdragover",position:{x:a[0],y:a[1]}})),t.touchData.last=O,i)for(P=0;P<a.length;P++)a[P]&&t.touchData.startPosition[P]&&p&&(t.touchData.singleTouchMoved=!0);i&&(null==J||J.pannable())&&o.panningEnabled()&&o.userPanningEnabled()&&(s(J,t.touchData.starts)&&(e.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=$t(t.touchData.startPosition)),t.swipePanning?(o.panBy({x:m[0]*h,y:m[1]*h}),o.emit("dragpan")):p&&(t.swipePanning=!0,o.panBy({x:v*h,y:y*h}),o.emit("dragpan"),J&&(J.unactivate(),t.redrawHint("select",!0),t.touchData.start=null))),d=t.projectIntoViewport(e.touches[0].clientX,e.touches[0].clientY),a[0]=d[0],a[1]=d[1])}for(g=0;g<a.length;g++)l[g]=a[g];i&&e.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&null!=t.data.bgActivePosistion&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1),t.registerBinding(window,"touchcancel",V=function(e){var n=t.touchData.start;t.touchData.capture=!1,n&&n.unactivate()}),t.registerBinding(window,"touchend",z=function(i){var r=t.touchData.start;if(t.touchData.capture){0===i.touches.length&&(t.touchData.capture=!1),i.preventDefault();var s=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var o,a=t.cy,l=a.zoom(),c=t.touchData.now,h=t.touchData.earlier;if(i.touches[0]){var d=t.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);c[0]=d[0],c[1]=d[1]}if(i.touches[1]&&(d=t.projectIntoViewport(i.touches[1].clientX,i.touches[1].clientY),c[2]=d[0],c[3]=d[1]),i.touches[2]&&(d=t.projectIntoViewport(i.touches[2].clientX,i.touches[2].clientY),c[4]=d[0],c[5]=d[1]),r&&r.unactivate(),t.touchData.cxt){if(o={originalEvent:i,type:"cxttapend",position:{x:c[0],y:c[1]}},r?r.emit(o):a.emit(o),!t.touchData.cxtDragged){var p={originalEvent:i,type:"cxttap",position:{x:c[0],y:c[1]}};r?r.emit(p):a.emit(p)}return t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,void t.redraw()}if(!i.touches[2]&&a.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var f=a.collection(t.getAllInBox(s[0],s[1],s[2],s[3]));s[0]=void 0,s[1]=void 0,s[2]=void 0,s[3]=void 0,s[4]=0,t.redrawHint("select",!0),a.emit({type:"boxend",originalEvent:i,position:{x:c[0],y:c[1]}}),f.emit("box").stdFilter((function(t){return t.selectable()&&!t.selected()})).select().emit("boxselect"),f.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(null!=r&&r.unactivate(),i.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(i.touches[1]);else if(i.touches[0]);else if(!i.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var m=t.dragData.touchDragEles;if(null!=r){var g=r._private.grabbed;u(m),t.redrawHint("drag",!0),t.redrawHint("eles",!0),g&&(r.emit("freeon"),m.emit("free"),t.dragData.didDrag&&(r.emit("dragfreeon"),m.emit("dragfree"))),n(r,["touchend","tapend","vmouseup","tapdragout"],i,{x:c[0],y:c[1]}),r.unactivate(),t.touchData.start=null}else{var v=t.findNearestElement(c[0],c[1],!0,!0);n(v,["touchend","tapend","vmouseup","tapdragout"],i,{x:c[0],y:c[1]})}var y=t.touchData.startPosition[0]-c[0],b=t.touchData.startPosition[1]-c[1],_=(y*y+b*b)*l*l;t.touchData.singleTouchMoved||(r||a.$(":selected").unselect(["tapunselect"]),n(r,["tap","vclick"],i,{x:c[0],y:c[1]}),j=!1,i.timeStamp-U<=a.multiClickDebounceTime()?(H&&clearTimeout(H),j=!0,U=null,n(r,["dbltap","vdblclick"],i,{x:c[0],y:c[1]})):(H=setTimeout((function(){j||n(r,["onetap","voneclick"],i,{x:c[0],y:c[1]})}),a.multiClickDebounceTime()),U=i.timeStamp)),null!=r&&!t.dragData.didDrag&&r._private.selectable&&_<t.touchTapThreshold2&&!t.pinching&&("single"===a.selectionType()?(a.$(e).unmerge(r).unselect(["tapunselect"]),r.select(["tapselect"])):r.selected()?r.unselect(["tapunselect"]):r.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}for(var w=0;w<c.length;w++)h[w]=c[w];t.dragData.didDrag=!1,0===i.touches.length&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),i.touches.length<2&&(1===i.touches.length&&(t.touchData.startGPosition=[i.touches[0].clientX,i.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())}},!1),"undefined"==typeof TouchEvent){var W=[],G=function(t){return{clientX:t.clientX,clientY:t.clientY,force:1,identifier:t.pointerId,pageX:t.pageX,pageY:t.pageY,radiusX:t.width/2,radiusY:t.height/2,screenX:t.screenX,screenY:t.screenY,target:t.target}},Y=function(t){for(var e=0;e<W.length;e++)if(W[e].event.pointerId===t.pointerId)return void W.splice(e,1)},X=function(t){t.touches=W.map((function(t){return t.touch}))},K=function(t){return"mouse"===t.pointerType||4===t.pointerType};t.registerBinding(t.container,"pointerdown",(function(t){K(t)||(t.preventDefault(),function(t){W.push(function(t){return{event:t,touch:G(t)}}(t))}(t),X(t),F(t))})),t.registerBinding(t.container,"pointerup",(function(t){K(t)||(Y(t),X(t),z(t))})),t.registerBinding(t.container,"pointercancel",(function(t){K(t)||(Y(t),X(t),V())})),t.registerBinding(t.container,"pointermove",(function(t){K(t)||(t.preventDefault(),function(t){var e=W.filter((function(e){return e.event.pointerId===t.pointerId}))[0];e.event=t,e.touch=G(t)}(t),X(t),B(t))}))}}},_o={generatePolygon:function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl("polygon",t,e,n,i,r,this.points)},intersectLine:function(t,e,n,i,r,s,o){return we(r,s,this.points,t,e,n/2,i/2,o)},checkPoint:function(t,e,n,i,r,s,o){return fe(t,e,this.points,s,o,i,r,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl(this.name,t,e,n,i,r)},intersectLine:function(t,e,n,i,r,s,o){return function(t,e,n,i,r,s){var o=n-t,a=i-e;o/=r,a/=s;var l=Math.sqrt(o*o+a*a),c=l-1;if(c<0)return[];var h=c/l;return[(n-t)*h+t,(i-e)*h+e]}(r,s,t,e,n/2+o,i/2+o)},checkPoint:function(t,e,n,i,r,s,o){return ve(t,e,i,r,s,o,n)}}},generateRoundPolygon:function(t,e){for(var n=new Array(2*e.length),i=0;i<e.length/2;i++){var r,s=2*i;r=i<e.length/2-1?2*(i+1):0,n[4*i]=e[s],n[4*i+1]=e[s+1];var o=e[r]-e[s],a=e[r+1]-e[s+1],l=Math.sqrt(o*o+a*a);n[4*i+2]=o/l,n[4*i+3]=a/l}return this.nodeShapes[t]={renderer:this,name:t,points:n,draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl("round-polygon",t,e,n,i,r,this.points)},intersectLine:function(t,e,n,i,r,s,o){return function(t,e,n,i,r,s,o,a){for(var l,c=[],h=new Array(n.length),u=s/2,d=o/2,p=Ie(s,o),f=0;f<n.length/4;f++){var m,g;g=0===f?n.length-2:4*f-2,m=4*f+2;var v=i+u*n[4*f],y=r+d*n[4*f+1],b=p/Math.tan(Math.acos(-n[g]*n[m]-n[g+1]*n[m+1])/2),_=v-b*n[g],w=y-b*n[g+1],x=v+b*n[m],C=y+b*n[m+1];0===f?(h[n.length-2]=_,h[n.length-1]=w):(h[4*f-2]=_,h[4*f-1]=w),h[4*f]=x,h[4*f+1]=C;var S=n[g+1],k=-n[g];S*n[m]+k*n[m+1]<0&&(S*=-1,k*=-1),0!==(l=ye(t,e,i,r,_+S*p,w+k*p,p)).length&&c.push(l[0],l[1])}for(var E=0;E<h.length/4;E++)0!==(l=_e(t,e,i,r,h[4*E],h[4*E+1],h[4*E+2],h[4*E+3],!1)).length&&c.push(l[0],l[1]);if(c.length>2){for(var I=[c[0],c[1]],T=Math.pow(I[0]-t,2)+Math.pow(I[1]-e,2),O=1;O<c.length/2;O++){var D=Math.pow(c[2*O]-t,2)+Math.pow(c[2*O+1]-e,2);D<=T&&(I[0]=c[2*O],I[1]=c[2*O+1],T=D)}return I}return c}(r,s,this.points,t,e,n,i)},checkPoint:function(t,e,n,i,r,s,o){return function(t,e,n,i,r,s,o){for(var a=new Array(n.length),l=s/2,c=o/2,h=Ie(s,o),u=h*h,d=0;d<n.length/4;d++){var p,f;f=0===d?n.length-2:4*d-2,p=4*d+2;var m=i+l*n[4*d],g=r+c*n[4*d+1],v=h/Math.tan(Math.acos(-n[f]*n[p]-n[f+1]*n[p+1])/2),y=m-v*n[f],b=g-v*n[f+1],_=m+v*n[p],w=g+v*n[p+1];a[4*d]=y,a[4*d+1]=b,a[4*d+2]=_,a[4*d+3]=w;var x=n[f+1],C=-n[f];x*n[p]+C*n[p+1]<0&&(x*=-1,C*=-1);var S=b+C*h;if(Math.pow(y+x*h-t,2)+Math.pow(S-e,2)<=u)return!0}return pe(t,e,a)}(t,e,this.points,s,o,i,r)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ce(4,0),draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl(this.name,t,e,n,i,r)},intersectLine:function(t,e,n,i,r,s,o){return le(r,s,t,e,n,i,o)},checkPoint:function(t,e,n,i,r,s,o){var a=Ee(i,r),l=2*a;return!!(fe(t,e,this.points,s,o,i,r-l,[0,-1],n)||fe(t,e,this.points,s,o,i-l,r,[0,-1],n)||ve(t,e,l,l,s-i/2+a,o-r/2+a,n)||ve(t,e,l,l,s+i/2-a,o-r/2+a,n)||ve(t,e,l,l,s+i/2-a,o+r/2-a,n)||ve(t,e,l,l,s-i/2+a,o+r/2-a,n))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Ce(4,0),draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl(this.name,t,e,n,i,r)},generateCutTrianglePts:function(t,e,n,i){var r=this.cornerLength,s=e/2,o=t/2,a=n-o,l=n+o,c=i-s,h=i+s;return{topLeft:[a,c+r,a+r,c,a+r,c+r],topRight:[l-r,c,l,c+r,l-r,c+r],bottomRight:[l,h-r,l-r,h,l-r,h-r],bottomLeft:[a+r,h,a,h-r,a+r,h-r]}},intersectLine:function(t,e,n,i,r,s,o){var a=this.generateCutTrianglePts(n+2*o,i+2*o,t,e),l=[].concat.apply([],[a.topLeft.splice(0,4),a.topRight.splice(0,4),a.bottomRight.splice(0,4),a.bottomLeft.splice(0,4)]);return we(r,s,l,t,e)},checkPoint:function(t,e,n,i,r,s,o){if(fe(t,e,this.points,s,o,i,r-2*this.cornerLength,[0,-1],n))return!0;if(fe(t,e,this.points,s,o,i-2*this.cornerLength,r,[0,-1],n))return!0;var a=this.generateCutTrianglePts(i,r,s,o);return pe(t,e,a.topLeft)||pe(t,e,a.topRight)||pe(t,e,a.bottomRight)||pe(t,e,a.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ce(4,0),draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl(this.name,t,e,n,i,r)},intersectLine:function(t,e,n,i,r,s,o){var a=this.generateBarrelBezierPts(n+2*o,i+2*o,t,e),l=function(t){var e=Qt({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.15),n=Qt({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.5),i=Qt({x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:t[4],y:t[5]},.85);return[t[0],t[1],e.x,e.y,n.x,n.y,i.x,i.y,t[4],t[5]]},c=[].concat(l(a.topLeft),l(a.topRight),l(a.bottomRight),l(a.bottomLeft));return we(r,s,c,t,e)},generateBarrelBezierPts:function(t,e,n,i){var r=e/2,s=t/2,o=n-s,a=n+s,l=i-r,c=i+r,h=Te(t,e),u=h.heightOffset,d=h.widthOffset,p=h.ctrlPtOffsetPct*t,f={topLeft:[o,l+u,o+p,l,o+d,l],topRight:[a-d,l,a-p,l,a,l+u],bottomRight:[a,c-u,a-p,c,a-d,c],bottomLeft:[o+d,c,o+p,c,o,c-u]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(t,e,n,i,r,s,o){var a=Te(i,r),l=a.widthOffset;if(fe(t,e,this.points,s,o,i,r-2*a.heightOffset,[0,-1],n))return!0;if(fe(t,e,this.points,s,o,i-2*l,r,[0,-1],n))return!0;for(var c=this.generateBarrelBezierPts(i,r,s,o),h=function(t,e,n){var i,r,s=n[4],o=n[2],a=n[0],l=n[5],c=n[1],h=Math.min(s,a),u=Math.max(s,a),d=Math.min(l,c),p=Math.max(l,c);if(h<=t&&t<=u&&d<=e&&e<=p){var f=[(i=s)-2*(r=o)+a,2*(r-i),i],m=function(t,e,n,i){var r=e*e-4*t*(n-=i);if(r<0)return[];var s=Math.sqrt(r),o=2*t;return[(-e+s)/o,(-e-s)/o]}(f[0],f[1],f[2],t).filter((function(t){return 0<=t&&t<=1}));if(m.length>0)return m[0]}return null},u=Object.keys(c),d=0;d<u.length;d++){var p=c[u[d]],f=h(t,e,p);if(null!=f){var m=Zt(p[5],p[3],p[1],f);if(p.isTop&&m<=e)return!0;if(p.isBottom&&e<=m)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ce(4,0),draw:function(t,e,n,i,r){this.renderer.nodeShapeImpl(this.name,t,e,n,i,r)},intersectLine:function(t,e,n,i,r,s,o){var a=e-(i/2+o),l=_e(r,s,t,e,t-(n/2+o),a,t+(n/2+o),a,!1);return l.length>0?l:le(r,s,t,e,n,i,o)},checkPoint:function(t,e,n,i,r,s,o){var a=Ee(i,r),l=2*a;if(fe(t,e,this.points,s,o,i,r-l,[0,-1],n))return!0;if(fe(t,e,this.points,s,o,i-l,r,[0,-1],n))return!0;var c=i/2+2*n,h=r/2+2*n;return!!pe(t,e,[s-c,o-h,s-c,o,s+c,o,s+c,o-h])||!!ve(t,e,l,l,s+i/2-a,o+r/2-a,n)||!!ve(t,e,l,l,s-i/2+a,o+r/2-a,n)}}},registerNodeShapes:function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Ce(3,0)),this.generateRoundPolygon("round-triangle",Ce(3,0)),this.generatePolygon("rectangle",Ce(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",Ce(5,0)),this.generateRoundPolygon("round-pentagon",Ce(5,0)),this.generatePolygon("hexagon",Ce(6,0)),this.generateRoundPolygon("round-hexagon",Ce(6,0)),this.generatePolygon("heptagon",Ce(7,0)),this.generateRoundPolygon("round-heptagon",Ce(7,0)),this.generatePolygon("octagon",Ce(8,0)),this.generateRoundPolygon("round-octagon",Ce(8,0));var i=new Array(20),r=ke(5,0),s=ke(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var a=0;a<s.length/2;a++)s[2*a]*=o,s[2*a+1]*=o;for(a=0;a<5;a++)i[4*a]=r[2*a],i[4*a+1]=r[2*a+1],i[4*a+2]=s[2*a],i[4*a+3]=s[2*a+1];i=Se(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),t.makePolygon=function(t){var n,i="polygon-"+t.join("$");return(n=this[i])?n:e.generatePolygon(i,t)}}},wo={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(t){t=t||vt();var e=this;void 0===e.averageRedrawTime&&(e.averageRedrawTime=0),void 0===e.lastRedrawTime&&(e.lastRedrawTime=0),void 0===e.lastDrawTime&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t},beforeRender:function(t,e){if(!this.destroyed){null==e&&ut("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:t,priority:e}),n.sort((function(t,e){return e.priority-t.priority}))}}},xo=function(t,e,n){for(var i=t.beforeRenderCallbacks,r=0;r<i.length;r++)i[r].fn(e,n)};wo.startRenderLoop=function(){var t=this,e=t.cy;t.renderLoopStarted||(t.renderLoopStarted=!0,W((function n(i){if(!t.destroyed){if(e.batching());else if(t.requestedFrame&&!t.skipFrame){xo(t,!0,i);var r=G();t.render(t.renderOptions);var s=t.lastDrawTime=G();void 0===t.averageRedrawTime&&(t.averageRedrawTime=s-r),void 0===t.redrawCount&&(t.redrawCount=0),t.redrawCount++,void 0===t.redrawTotalTime&&(t.redrawTotalTime=0);var o=s-r;t.redrawTotalTime+=o,t.lastRedrawTime=o,t.averageRedrawTime=t.averageRedrawTime/2+o/2,t.requestedFrame=!1}else xo(t,!1,i);t.skipFrame=!1,W(n)}})))};var Co=function(t){this.init(t)},So=Co.prototype;So.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],So.init=function(t){var e=this;e.options=t,e.cy=t.cy;var n=e.container=t.cy.container();if(d){var i=d.document,r=i.head,s="__________cytoscape_container",o=null!=i.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(s)<0&&(n.className=(n.className||"")+" "+s),!o){var a=i.createElement("style");a.id="__________cytoscape_stylesheet",a.innerHTML="."+s+" { position: relative; }",r.insertBefore(a,r.children[0])}"static"===d.getComputedStyle(n).getPropertyValue("position")&&pt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=C(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()},So.notify=function(t,e){var n=this;this.destroyed||("init"!==t?"destroy"!==t?(("add"===t||"remove"===t||"move"===t&&n.cy.hasCompoundNodes()||"load"===t||"zorder"===t||"mount"===t)&&n.invalidateCachedZSortedEles(),"viewport"===t&&n.redrawHint("select",!0),"load"!==t&&"resize"!==t&&"mount"!==t||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},So.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var n=t.bindings[e],i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch(r){}},So.isHeadless=function(){return!1},[io,vo,yo,bo,_o,wo].forEach((function(t){V(So,t)}));var ko=function(t){return function(){var e=this,n=this.renderer;if(!e.dequeueingSetup){e.dequeueingSetup=!0;var i=r((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),t.deqRedrawThreshold);n.beforeRender((function(r,s){var o=G(),a=n.averageRedrawTime,l=n.lastRedrawTime,c=[],h=n.cy.extent(),u=n.getPixelRatio();for(r||n.flushRenderedStyleQueue();;){var d=G(),p=d-o,f=d-s;if(l<1e3/60){if(f>=t.deqFastCost*(1e3/60-(r?a:0)))break}else if(r){if(p>=t.deqCost*l||p>=t.deqAvgCost*a)break}else if(f>=t.deqNoDrawCost*(1e3/60))break;var m=t.deq(e,u,h);if(!(m.length>0))break;for(var g=0;g<m.length;g++)c.push(m[g])}c.length>0&&(t.onDeqd(e,c),!r&&t.shouldRedraw(e,c,u,h)&&i())}),(t.priority||ht)(e))}}},Eo=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;a(this,t),this.idsByKey=new Ct,this.keyForId=new Ct,this.cachesByLvl=new Ct,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=n}return c(t,[{key:"getIdsFor",value:function(t){null==t&&ut("Can not get id list for null key");var e=this.idsByKey,n=this.idsByKey.get(t);return n||(n=new kt,e.set(t,n)),n}},{key:"addIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).add(e)}},{key:"deleteIdForKey",value:function(t,e){null!=t&&this.getIdsFor(t).delete(e)}},{key:"getNumberOfIdsForKey",value:function(t){return null==t?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var e=t.id(),n=this.keyForId.get(e),i=this.getKey(t);this.deleteIdForKey(n,e),this.addIdForKey(i,e),this.keyForId.set(e,i)}},{key:"deleteKeyMappingFor",value:function(t){var e=t.id(),n=this.keyForId.get(e);this.deleteIdForKey(n,e),this.keyForId.delete(e)}},{key:"keyHasChangedFor",value:function(t){var e=t.id();return this.keyForId.get(e)!==this.getKey(t)}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var e=this.cachesByLvl,n=this.lvls,i=e.get(t);return i||(i=new Ct,e.set(t,i),n.push(t)),i}},{key:"getCache",value:function(t,e){return this.getCachesAt(e).get(t)}},{key:"get",value:function(t,e){var n=this.getKey(t),i=this.getCache(n,e);return null!=i&&this.updateKeyMappingFor(t),i}},{key:"getForCachedKey",value:function(t,e){var n=this.keyForId.get(t.id());return this.getCache(n,e)}},{key:"hasCache",value:function(t,e){return this.getCachesAt(e).has(t)}},{key:"has",value:function(t,e){var n=this.getKey(t);return this.hasCache(n,e)}},{key:"setCache",value:function(t,e,n){n.key=t,this.getCachesAt(e).set(t,n)}},{key:"set",value:function(t,e,n){var i=this.getKey(t);this.setCache(i,e,n),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,e){this.getCachesAt(e).delete(t)}},{key:"delete",value:function(t,e){var n=this.getKey(t);this.deleteCache(n,e)}},{key:"invalidateKey",value:function(t){var e=this;this.lvls.forEach((function(n){return e.deleteCache(t,n)}))}},{key:"invalidate",value:function(t){var e=t.id(),n=this.keyForId.get(e);this.deleteKeyMappingFor(t);var i=this.doesEleInvalidateKey(t);return i&&this.invalidateKey(n),i||0===this.getNumberOfIdsForKey(n)}}]),t}(),Io={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},To=yt({getKey:null,doesEleInvalidateKey:lt,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:at,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Oo=function(t,e){this.renderer=t,this.onDequeues=[];var n=To(e);V(this,n),this.lookup=new Eo(n.getKey,n.doesEleInvalidateKey),this.setupDequeueing()},Do=Oo.prototype;Do.reasons=Io,Do.getTextureQueue=function(t){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[t]=this.eleImgCaches[t]||[]},Do.getRetiredTextureQueue=function(t){var e=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return e[t]=e[t]||[]},Do.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new s((function(t,e){return e.reqs-t.reqs}))},Do.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Do.getElement=function(t,e,n,i,r){var s=this,o=this.renderer,a=o.cy.zoom(),l=this.lookup;if(!e||0===e.w||0===e.h||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed())return null;if(!s.allowEdgeTxrCaching&&t.isEdge()||!s.allowParentTxrCaching&&t.isParent())return null;if(null==i&&(i=Math.ceil(Wt(a*n))),i<-4)i=-4;else if(a>=7.99||i>3)return null;var c=Math.pow(2,i),h=e.h*c,u=e.w*c,d=o.eleTextBiggerThanMin(t,c);if(!this.isVisible(t,d))return null;var p,f=l.get(t,i);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(p=h<=25?25:h<=50?50:50*Math.ceil(h/50),h>1024||u>1024)return null;var m=s.getTextureQueue(p),g=m[m.length-2],v=function(){return s.recycleTexture(p,u)||s.addTexture(p,u)};g||(g=m[m.length-1]),g||(g=v()),g.width-g.usedWidth<u&&(g=v());for(var y,b=function(t){return t&&t.scaledLabelShown===d},_=r&&r===Io.dequeue,w=r&&r===Io.highQuality,x=r&&r===Io.downscale,C=i+1;C<=3;C++){var S=l.get(t,C);if(S){y=S;break}}var k=y&&y.level===i+1?y:null,E=function(){g.context.drawImage(k.texture.canvas,k.x,0,k.width,k.height,g.usedWidth,0,u,h)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,u,p),b(k))E();else if(b(y)){if(!w)return s.queueElement(t,y.level-1),y;for(var I=y.level;I>i;I--)k=s.getElement(t,e,n,I,Io.downscale);E()}else{var T;if(!_&&!w&&!x)for(var O=i-1;O>=-4;O--){var D=l.get(t,O);if(D){T=D;break}}if(b(T))return s.queueElement(t,i),T;g.context.translate(g.usedWidth,0),g.context.scale(c,c),this.drawElement(g.context,t,e,d,!1),g.context.scale(1/c,1/c),g.context.translate(-g.usedWidth,0)}return f={x:g.usedWidth,texture:g,level:i,scale:c,width:u,height:h,scaledLabelShown:d},g.usedWidth+=Math.ceil(u+8),g.eleCaches.push(f),l.set(t,i,f),s.checkTextureFullness(g),f},Do.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])},Do.invalidateElement=function(t){var e=this.lookup,n=[];if(e.isInvalid(t)){for(var i=-4;i<=3;i++){var r=e.getForCachedKey(t,i);r&&n.push(r)}if(e.invalidate(t))for(var s=0;s<n.length;s++){var o=n[s],a=o.texture;a.invalidatedWidth+=o.width,o.invalidated=!0,this.checkTextureUtility(a)}this.removeFromQueue(t)}},Do.checkTextureUtility=function(t){t.invalidatedWidth>=.2*t.width&&this.retireTexture(t)},Do.checkTextureFullness=function(t){var e=this.getTextureQueue(t.height);t.usedWidth/t.width>.8&&t.fullnessChecks>=10?bt(e,t):t.fullnessChecks++},Do.retireTexture=function(t){var e=t.height,n=this.getTextureQueue(e),i=this.lookup;bt(n,t),t.retired=!0;for(var r=t.eleCaches,s=0;s<r.length;s++){var o=r[s];i.deleteCache(o.key,o.level)}_t(r),this.getRetiredTextureQueue(e).push(t)},Do.addTexture=function(t,e){var n={};return this.getTextureQueue(t).push(n),n.eleCaches=[],n.height=t,n.width=Math.max(1024,e),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Do.recycleTexture=function(t,e){for(var n=this.getTextureQueue(t),i=this.getRetiredTextureQueue(t),r=0;r<i.length;r++){var s=i[r];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,_t(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),bt(i,s),n.push(s),s}},Do.queueElement=function(t,e){var n=this.getElementQueue(),i=this.getElementKeyToQueue(),r=this.getKey(t),s=i[r];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var o={eles:t.spawn().merge(t),level:e,reqs:1,key:r};n.push(o),i[r]=o}},Do.dequeue=function(t){for(var e=this.getElementQueue(),n=this.getElementKeyToQueue(),i=[],r=this.lookup,s=0;s<1&&e.size()>0;s++){var o=e.pop(),a=o.key,l=o.eles[0],c=r.hasCache(l,o.level);if(n[a]=null,!c){i.push(o);var h=this.getBoundingBox(l);this.getElement(l,h,t,o.level,Io.dequeue)}}return i},Do.removeFromQueue=function(t){var e=this.getElementQueue(),n=this.getElementKeyToQueue(),i=this.getKey(t),r=n[i];null!=r&&(1===r.eles.length?(r.reqs=ot,e.updateItem(r),e.pop(),n[i]=null):r.eles.unmerge(t))},Do.onDequeue=function(t){this.onDequeues.push(t)},Do.offDequeue=function(t){bt(this.onDequeues,t)},Do.setupDequeueing=ko({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e,n){return t.dequeue(e,n)},onDeqd:function(t,e){for(var n=0;n<t.onDequeues.length;n++)(0,t.onDequeues[n])(e)},shouldRedraw:function(t,e,n,i){for(var r=0;r<e.length;r++)for(var s=e[r].eles,o=0;o<s.length;o++){var a=s[o].boundingBox();if(se(a,i))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var Ao=function(t){var e=this,n=e.renderer=t,i=n.cy;e.layersByLevel={},e.firstGet=!0,e.lastInvalidationTime=G()-500,e.skipping=!1,e.eleTxrDeqs=i.collection(),e.scheduleElementRefinement=r((function(){e.refineElementTextures(e.eleTxrDeqs),e.eleTxrDeqs.unmerge(e.eleTxrDeqs)}),50),n.beforeRender((function(t,n){e.skipping=n-e.lastInvalidationTime<=250}),n.beforeRenderPriorities.lyrTxrSkip),e.layersQueue=new s((function(t,e){return e.reqs-t.reqs})),e.setupDequeueing()},Ro=Ao.prototype,Po=0,Mo=Math.pow(2,53)-1;Ro.makeLayer=function(t,e){var n=Math.pow(2,e),i=Math.ceil(t.w*n),r=Math.ceil(t.h*n),s=this.renderer.makeOffscreenCanvas(i,r),o={id:Po=++Po%Mo,bb:t,level:e,width:i,height:r,canvas:s,context:s.getContext("2d"),eles:[],elesQueue:[],reqs:0},a=o.context,l=-o.bb.x1,c=-o.bb.y1;return a.scale(n,n),a.translate(l,c),o},Ro.getLayers=function(t,e,n){var i=this,r=i.renderer.cy.zoom(),s=i.firstGet;if(i.firstGet=!1,null==n)if((n=Math.ceil(Wt(r*e)))<-4)n=-4;else if(r>=3.99||n>2)return null;i.validateLayersElesOrdering(n,t);var o,a,l=i.layersByLevel,c=Math.pow(2,n),h=l[n]=l[n]||[];if(i.levelIsComplete(n,t))return h;!function(){var e=function(e){if(i.validateLayersElesOrdering(e,t),i.levelIsComplete(e,t))return a=l[e],!0},r=function(t){if(!a)for(var i=n+t;-4<=i&&i<=2&&!e(i);i+=t);};r(1),r(-1);for(var s=h.length-1;s>=0;s--){var o=h[s];o.invalid&&bt(h,o)}}();var u=function(e){var r=(e=e||{}).after;if(function(){if(!o){o=te();for(var e=0;e<t.length;e++)n=o,i=t[e].boundingBox(),n.x1=Math.min(n.x1,i.x1),n.x2=Math.max(n.x2,i.x2),n.w=n.x2-n.x1,n.y1=Math.min(n.y1,i.y1),n.y2=Math.max(n.y2,i.y2),n.h=n.y2-n.y1}var n,i}(),o.w*c*(o.h*c)>16e6)return null;var s=i.makeLayer(o,n);if(null!=r){var a=h.indexOf(r)+1;h.splice(a,0,s)}else(void 0===e.insert||e.insert)&&h.unshift(s);return s};if(i.skipping&&!s)return null;for(var d=null,p=t.length/1,f=!s,m=0;m<t.length;m++){var g=t[m],v=g._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},b=y[n];if(b)d=b;else{if((!d||d.eles.length>=p||!ae(d.bb,g.boundingBox()))&&!(d=u({insert:!0,after:d})))return null;a||f?i.queueLayer(d,g):i.drawEleInLayer(d,g,n,e),d.eles.push(g),y[n]=d}}return a||(f?null:h)},Ro.getEleLevelForLayerLevel=function(t,e){return t},Ro.drawEleInLayer=function(t,e,n,i){var r=this.renderer,s=t.context,o=e.boundingBox();0!==o.w&&0!==o.h&&e.visible()&&(n=this.getEleLevelForLayerLevel(n,i),r.setImgSmoothing(s,!1),r.drawCachedElement(s,e,null,null,n,!0),r.setImgSmoothing(s,!0))},Ro.levelIsComplete=function(t,e){var n=this.layersByLevel[t];if(!n||0===n.length)return!1;for(var i=0,r=0;r<n.length;r++){var s=n[r];if(s.reqs>0)return!1;if(s.invalid)return!1;i+=s.eles.length}return i===e.length},Ro.validateLayersElesOrdering=function(t,e){var n=this.layersByLevel[t];if(n)for(var i=0;i<n.length;i++){for(var r=n[i],s=-1,o=0;o<e.length;o++)if(r.eles[0]===e[o]){s=o;break}if(s<0)this.invalidateLayer(r);else{var a=s;for(o=0;o<r.eles.length;o++)if(r.eles[o]!==e[a+o]){this.invalidateLayer(r);break}}}},Ro.updateElementsInLayers=function(t,e){for(var n=E(t[0]),i=0;i<t.length;i++)for(var r=n?null:t[i],s=n?t[i]:t[i].ele,o=s._private.rscratch,a=o.imgLayerCaches=o.imgLayerCaches||{},l=-4;l<=2;l++){var c=a[l];c&&(r&&this.getEleLevelForLayerLevel(c.level)!==r.level||e(c,s,r))}},Ro.haveLayers=function(){for(var t=!1,e=-4;e<=2;e++){var n=this.layersByLevel[e];if(n&&n.length>0){t=!0;break}}return t},Ro.invalidateElements=function(t){var e=this;0!==t.length&&(e.lastInvalidationTime=G(),0!==t.length&&e.haveLayers()&&e.updateElementsInLayers(t,(function(t,n,i){e.invalidateLayer(t)})))},Ro.invalidateLayer=function(t){if(this.lastInvalidationTime=G(),!t.invalid){var e=t.level,n=t.eles;bt(this.layersByLevel[e],t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var i=0;i<n.length;i++){var r=n[i]._private.rscratch.imgLayerCaches;r&&(r[e]=null)}}},Ro.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,(function(t,n,i){var r=t.replacement;if(r||((r=t.replacement=e.makeLayer(t.bb,t.level)).replaces=t,r.eles=t.eles),!r.reqs)for(var s=0;s<r.eles.length;s++)e.queueLayer(r,r.eles[s])}))},Ro.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()},Ro.queueLayer=function(t,e){var n=this.layersQueue,i=t.elesQueue,r=i.hasId=i.hasId||{};if(!t.replacement){if(e){if(r[e.id()])return;i.push(e),r[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}},Ro.dequeue=function(t){for(var e=this.layersQueue,n=[],i=0;i<1&&0!==e.size();){var r=e.peek();if(r.replacement)e.pop();else if(r.replaces&&r!==r.replaces.replacement)e.pop();else if(r.invalid)e.pop();else{var s=r.elesQueue.shift();s&&(this.drawEleInLayer(r,s,r.level,t),i++),0===n.length&&n.push(!0),0===r.elesQueue.length&&(e.pop(),r.reqs=0,r.replaces&&this.applyLayerReplacement(r),this.requestRedraw())}}return n},Ro.applyLayerReplacement=function(t){var e=this.layersByLevel[t.level],n=t.replaces,i=e.indexOf(n);if(!(i<0||n.invalid)){e[i]=t;for(var r=0;r<t.eles.length;r++){var s=t.eles[r]._private,o=s.imgLayerCaches=s.imgLayerCaches||{};o&&(o[t.level]=t)}this.requestRedraw()}},Ro.requestRedraw=r((function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()}),100),Ro.setupDequeueing=ko({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(t,e){return t.dequeue(e)},onDeqd:ht,shouldRedraw:at,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var Lo,No={};function Fo(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.lineTo(i.x,i.y)}}function Bo(t,e,n){for(var i,r=0;r<e.length;r++){var s=e[r];0===r&&(i=s),t.lineTo(s.x,s.y)}t.quadraticCurveTo(n.x,n.y,i.x,i.y)}function Vo(t,e,n){t.beginPath&&t.beginPath();for(var i=e,r=0;r<i.length;r++)t.lineTo((a=i[r]).x,a.y);var s=n,o=n[0];for(t.moveTo(o.x,o.y),r=1;r<s.length;r++){var a;t.lineTo((a=s[r]).x,a.y)}t.closePath&&t.closePath()}function zo(t,e,n,i,r){t.beginPath&&t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!1);var s=e,o=s[0];t.moveTo(o.x,o.y);for(var a=0;a<s.length;a++){var l=s[a];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function jo(t,e,n,i){t.arc(e,n,i,0,2*Math.PI,!1)}No.arrowShapeImpl=function(t){return(Lo||(Lo={polygon:Fo,"triangle-backcurve":Bo,"triangle-tee":Vo,"circle-triangle":zo,"triangle-cross":Vo,circle:jo}))[t]};var Ho={drawElement:function(t,e,n,i,r,s){e.isNode()?this.drawNode(t,e,n,i,r,s):this.drawEdge(t,e,n,i,r,s)},drawElementOverlay:function(t,e){e.isNode()?this.drawNodeOverlay(t,e):this.drawEdgeOverlay(t,e)},drawElementUnderlay:function(t,e){e.isNode()?this.drawNodeUnderlay(t,e):this.drawEdgeUnderlay(t,e)},drawCachedElementPortion:function(t,e,n,i,r,s,o,a){var l=this,c=n.getBoundingBox(e);if(0!==c.w&&0!==c.h){var h=n.getElement(e,c,i,r,s);if(null!=h){var u=a(l,e);if(0===u)return;var d,p,f,m,g,v,y=o(l,e),b=c.x1,_=c.y1,w=c.w,x=c.h;if(0!==y){var C=n.getRotationPoint(e);t.translate(f=C.x,m=C.y),t.rotate(y),(g=l.getImgSmoothing(t))||l.setImgSmoothing(t,!0);var S=n.getRotationOffset(e);d=S.x,p=S.y}else d=b,p=_;1!==u&&(t.globalAlpha=(v=t.globalAlpha)*u),t.drawImage(h.texture.canvas,h.x,0,h.width,h.height,d,p,w,x),1!==u&&(t.globalAlpha=v),0!==y&&(t.rotate(-y),t.translate(-f,-m),g||l.setImgSmoothing(t,!1))}else n.drawElement(t,e)}}},Uo=function(){return 0},$o=function(t,e){return t.getTextAngle(e,null)},qo=function(t,e){return t.getTextAngle(e,"source")},Wo=function(t,e){return t.getTextAngle(e,"target")},Go=function(t,e){return e.effectiveOpacity()},Yo=function(t,e){return e.pstyle("text-opacity").pfValue*e.effectiveOpacity()};Ho.drawCachedElement=function(t,e,n,i,r,s){var o=this,a=o.data,l=a.eleTxrCache,c=a.lblTxrCache,h=a.slbTxrCache,u=a.tlbTxrCache,d=e.boundingBox(),p=!0===s?l.reasons.highQuality:null;if(0!==d.w&&0!==d.h&&e.visible()&&(!i||se(d,i))){var f=e.isEdge(),m=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,l,n,r,p,Uo,Go),f&&m||o.drawCachedElementPortion(t,e,c,n,r,p,$o,Yo),f&&!m&&(o.drawCachedElementPortion(t,e,h,n,r,p,qo,Yo),o.drawCachedElementPortion(t,e,u,n,r,p,Wo,Yo)),o.drawElementOverlay(t,e)}},Ho.drawElements=function(t,e){for(var n=0;n<e.length;n++)this.drawElement(t,e[n])},Ho.drawCachedElements=function(t,e,n,i){for(var r=0;r<e.length;r++)this.drawCachedElement(t,e[r],n,i)},Ho.drawCachedNodes=function(t,e,n,i){for(var r=0;r<e.length;r++){var s=e[r];s.isNode()&&this.drawCachedElement(t,s,n,i)}},Ho.drawLayeredElements=function(t,e,n,i){var r=this.data.lyrTxrCache.getLayers(e,n);if(r)for(var s=0;s<r.length;s++){var o=r[s],a=o.bb;0!==a.w&&0!==a.h&&t.drawImage(o.canvas,a.x1,a.y1,a.w,a.h)}else this.drawCachedElements(t,e,n,i)};var Xo={drawEdge:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,a=e._private.rscratch;if((!s||e.visible())&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var l;n&&t.translate(-(l=n).x1,-l.y1);var c=s?e.pstyle("opacity").value:1,h=s?e.pstyle("line-opacity").value:1,u=e.pstyle("curve-style").value,d=e.pstyle("line-style").value,p=e.pstyle("width").pfValue,f=e.pstyle("line-cap").value,m=c*h,g=c*h,v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;"straight-triangle"===u?(o.eleStrokeStyle(t,e,n),o.drawEdgeTrianglePath(e,t,a.allpts)):(t.lineWidth=p,t.lineCap=f,o.eleStrokeStyle(t,e,n),o.drawEdgePath(e,t,a.allpts,d),t.lineCap="butt")},y=function(){r&&o.drawEdgeOverlay(t,e)},b=function(){r&&o.drawEdgeUnderlay(t,e)},_=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;o.drawArrowheads(t,e,n)},w=function(){o.drawElementText(t,e,null,i)};t.lineJoin="round";var x="yes"===e.pstyle("ghost").value;if(x){var C=e.pstyle("ghost-offset-x").pfValue,S=e.pstyle("ghost-offset-y").pfValue,k=e.pstyle("ghost-opacity").value,E=m*k;t.translate(C,S),v(E),_(E),t.translate(-C,-S)}b(),v(),_(),y(),w(),n&&t.translate(l.x1,l.y1)}}},Ko=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(e,n){if(n.visible()){var i=n.pstyle("".concat(t,"-opacity")).value;if(0!==i){var r=this,s=r.usePaths(),o=n._private.rscratch,a=2*n.pstyle("".concat(t,"-padding")).pfValue,l=n.pstyle("".concat(t,"-color")).value;e.lineWidth=a,e.lineCap="self"!==o.edgeType||s?"round":"butt",r.colorStrokeStyle(e,l[0],l[1],l[2],i),r.drawEdgePath(n,e,o.allpts,"solid")}}}};Xo.drawEdgeOverlay=Ko("overlay"),Xo.drawEdgeUnderlay=Ko("underlay"),Xo.drawEdgePath=function(t,e,n,i){var r,s=t._private.rscratch,o=e,a=!1,l=this.usePaths(),c=t.pstyle("line-dash-pattern").pfValue,h=t.pstyle("line-dash-offset").pfValue;if(l){var u=n.join("$");s.pathCacheKey&&s.pathCacheKey===u?(r=e=s.pathCache,a=!0):(r=e=new Path2D,s.pathCacheKey=u,s.pathCache=r)}if(o.setLineDash)switch(i){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(c),o.lineDashOffset=h;break;case"solid":o.setLineDash([])}if(!a&&!s.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(n[0],n[1]),s.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<n.length;d+=4)e.quadraticCurveTo(n[d],n[d+1],n[d+2],n[d+3]);break;case"straight":case"segments":case"haystack":for(var p=2;p+1<n.length;p+=2)e.lineTo(n[p],n[p+1])}e=o,l?e.stroke(r):e.stroke(),e.setLineDash&&e.setLineDash([])},Xo.drawEdgeTrianglePath=function(t,e,n){e.fillStyle=e.strokeStyle;for(var i=t.pstyle("width").pfValue,r=0;r+1<n.length;r+=2){var s=[n[r+2]-n[r],n[r+3]-n[r+1]],o=Math.sqrt(s[0]*s[0]+s[1]*s[1]),a=[s[1]/o,-s[0]/o],l=[a[0]*i/2,a[1]*i/2];e.beginPath(),e.moveTo(n[r]-l[0],n[r+1]-l[1]),e.lineTo(n[r]+l[0],n[r+1]+l[1]),e.lineTo(n[r+2],n[r+3]),e.closePath(),e.fill()}},Xo.drawArrowheads=function(t,e,n){var i=e._private.rscratch,r="haystack"===i.edgeType;r||this.drawArrowhead(t,e,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,n),this.drawArrowhead(t,e,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,n),this.drawArrowhead(t,e,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,n),r||this.drawArrowhead(t,e,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,n)},Xo.drawArrowhead=function(t,e,n,i,r,s,o){if(!(isNaN(i)||null==i||isNaN(r)||null==r||isNaN(s)||null==s)){var a=e.pstyle(n+"-arrow-shape").value;if("none"!==a){var l="hollow"===e.pstyle(n+"-arrow-fill").value?"both":"filled",c=e.pstyle(n+"-arrow-fill").value,h=e.pstyle("width").pfValue,u=e.pstyle("opacity").value;void 0===o&&(o=u);var d=t.globalCompositeOperation;1===o&&"hollow"!==c||(t.globalCompositeOperation="destination-out",this.colorFillStyle(t,255,255,255,1),this.colorStrokeStyle(t,255,255,255,1),this.drawArrowShape(e,t,l,h,a,i,r,s),t.globalCompositeOperation=d);var p=e.pstyle(n+"-arrow-color").value;this.colorFillStyle(t,p[0],p[1],p[2],o),this.colorStrokeStyle(t,p[0],p[1],p[2],o),this.drawArrowShape(e,t,c,h,a,i,r,s)}}},Xo.drawArrowShape=function(t,e,n,i,r,s,o,a){var l,c=this,h=this.usePaths()&&"triangle-cross"!==r,u=!1,d=e,p={x:s,y:o},f=t.pstyle("arrow-scale").value,m=this.getArrowWidth(i,f),g=c.arrowShapes[r];if(h){var v=c.arrowPathCache=c.arrowPathCache||[],y=tt(r),b=v[y];null!=b?(l=e=b,u=!0):(l=e=new Path2D,v[y]=l)}u||(e.beginPath&&e.beginPath(),h?g.draw(e,1,0,{x:0,y:0},1):g.draw(e,m,a,p,i),e.closePath&&e.closePath()),e=d,h&&(e.translate(s,o),e.rotate(a),e.scale(m,m)),"filled"!==n&&"both"!==n||(h?e.fill(l):e.fill()),"hollow"!==n&&"both"!==n||(e.lineWidth=(g.matchEdgeWidth?i:1)/(h?m:1),e.lineJoin="miter",h?e.stroke(l):e.stroke()),h&&(e.scale(1/m,1/m),e.rotate(-a),e.translate(-s,-o))};var Zo={safeDrawImage:function(t,e,n,i,r,s,o,a,l,c){r<=0||s<=0||l<=0||c<=0||t.drawImage(e,n,i,r,s,o,a,l,c)},drawInscribedImage:function(t,e,n,i,r){var s=this,o=n.position(),a=o.x,l=o.y,c=n.cy().style(),h=c.getIndexedStyle.bind(c),u=h(n,"background-fit","value",i),d=h(n,"background-repeat","value",i),p=n.width(),f=n.height(),m=2*n.padding(),g=p+("inner"===h(n,"background-width-relative-to","value",i)?0:m),v=f+("inner"===h(n,"background-height-relative-to","value",i)?0:m),y=n._private.rscratch,b="node"===h(n,"background-clip","value",i),_=h(n,"background-image-opacity","value",i)*r,w=h(n,"background-image-smoothing","value",i),x=e.width||e.cachedW,C=e.height||e.cachedH;null!=x&&null!=C||(document.body.appendChild(e),x=e.cachedW=e.width||e.offsetWidth,C=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var S=x,k=C;if("auto"!==h(n,"background-width","value",i)&&(S="%"===h(n,"background-width","units",i)?h(n,"background-width","pfValue",i)*g:h(n,"background-width","pfValue",i)),"auto"!==h(n,"background-height","value",i)&&(k="%"===h(n,"background-height","units",i)?h(n,"background-height","pfValue",i)*v:h(n,"background-height","pfValue",i)),0!==S&&0!==k){if("contain"===u)S*=E=Math.min(g/S,v/k),k*=E;else if("cover"===u){var E;S*=E=Math.max(g/S,v/k),k*=E}var I=a-g/2,T=h(n,"background-position-x","units",i),O=h(n,"background-position-x","pfValue",i);I+="%"===T?(g-S)*O:O;var D=h(n,"background-offset-x","units",i),A=h(n,"background-offset-x","pfValue",i);I+="%"===D?(g-S)*A:A;var R=l-v/2,P=h(n,"background-position-y","units",i),M=h(n,"background-position-y","pfValue",i);R+="%"===P?(v-k)*M:M;var L=h(n,"background-offset-y","units",i),N=h(n,"background-offset-y","pfValue",i);R+="%"===L?(v-k)*N:N,y.pathCache&&(I-=a,R-=l,a=0,l=0);var F=t.globalAlpha;t.globalAlpha=_;var B=s.getImgSmoothing(t),V=!1;if("no"===w&&B?(s.setImgSmoothing(t,!1),V=!0):"yes"!==w||B||(s.setImgSmoothing(t,!0),V=!0),"no-repeat"===d)b&&(t.save(),y.pathCache?t.clip(y.pathCache):(s.nodeShapes[s.getNodeShape(n)].draw(t,a,l,g,v),t.clip())),s.safeDrawImage(t,e,0,0,x,C,I,R,S,k),b&&t.restore();else{var z=t.createPattern(e,d);t.fillStyle=z,s.nodeShapes[s.getNodeShape(n)].draw(t,a,l,g,v),t.translate(I,R),t.fill(),t.translate(-I,-R)}t.globalAlpha=F,V&&s.setImgSmoothing(t,B)}}},Qo={};function Jo(t,e,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;t.beginPath(),t.moveTo(e+s,n),t.lineTo(e+i-s,n),t.quadraticCurveTo(e+i,n,e+i,n+s),t.lineTo(e+i,n+r-s),t.quadraticCurveTo(e+i,n+r,e+i-s,n+r),t.lineTo(e+s,n+r),t.quadraticCurveTo(e,n+r,e,n+r-s),t.lineTo(e,n+s),t.quadraticCurveTo(e,n,e+s,n),t.closePath(),t.fill()}Qo.eleTextBiggerThanMin=function(t,e){if(!e){var n=t.cy().zoom(),i=this.getPixelRatio(),r=Math.ceil(Wt(n*i));e=Math.pow(2,r)}return!(t.pstyle("font-size").pfValue*e<t.pstyle("min-zoomed-font-size").pfValue)},Qo.drawElementText=function(t,e,n,i,r){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this;if(null==i){if(s&&!o.eleTextBiggerThanMin(e))return}else if(!1===i)return;if(e.isNode()){var a=e.pstyle("label");if(!a||!a.value)return;var l=o.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var c=e.element()._private.rscratch.badLine,h=e.pstyle("label"),u=e.pstyle("source-label"),d=e.pstyle("target-label");if(c||(!h||!h.value)&&(!u||!u.value)&&(!d||!d.value))return;t.textAlign="center",t.textBaseline="bottom"}var p,f=!n;n&&t.translate(-(p=n).x1,-p.y1),null==r?(o.drawText(t,e,null,f,s),e.isEdge()&&(o.drawText(t,e,"source",f,s),o.drawText(t,e,"target",f,s))):o.drawText(t,e,r,f,s),n&&t.translate(p.x1,p.y1)},Qo.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((e=this.fontCaches[n]).context===t)return e;return this.fontCaches.push(e={context:t}),e},Qo.setupTextStyle=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.pstyle("font-style").strValue,r=e.pstyle("font-size").pfValue+"px",s=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,a=n?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*a,c=e.pstyle("color").value,h=e.pstyle("text-outline-color").value;t.font=i+" "+o+" "+r+" "+s,t.lineJoin="round",this.colorFillStyle(t,c[0],c[1],c[2],a),this.colorStrokeStyle(t,h[0],h[1],h[2],l)},Qo.getTextAngle=function(t,e){var n=t._private.rscratch,i=t.pstyle((e?e+"-":"")+"text-rotation"),r=wt(n,"labelAngle",e);return"autorotate"===i.strValue?t.isEdge()?r:0:"none"===i.strValue?0:i.pfValue},Qo.drawText=function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=e._private,o=s.rscratch,a=r?e.effectiveOpacity():1;if(!r||0!==a&&0!==e.pstyle("text-opacity").value){"main"===n&&(n=null);var l,c,h=wt(o,"labelX",n),u=wt(o,"labelY",n),d=this.getLabelText(e,n);if(null!=d&&""!==d&&!isNaN(h)&&!isNaN(u)){this.setupTextStyle(t,e,r);var p,f=n?n+"-":"",m=wt(o,"labelWidth",n),g=wt(o,"labelHeight",n),v=e.pstyle(f+"text-margin-x").pfValue,y=e.pstyle(f+"text-margin-y").pfValue,b=e.isEdge(),_=e.pstyle("text-halign").value,w=e.pstyle("text-valign").value;switch(b&&(_="center",w="center"),h+=v,u+=y,0!==(p=i?this.getTextAngle(e,n):0)&&(t.translate(l=h,c=u),t.rotate(p),h=0,u=0),w){case"top":break;case"center":u+=g/2;break;case"bottom":u+=g}var x=e.pstyle("text-background-opacity").value,C=e.pstyle("text-border-opacity").value,S=e.pstyle("text-border-width").pfValue,k=e.pstyle("text-background-padding").pfValue;if(x>0||S>0&&C>0){var E=h-k;switch(_){case"left":E-=m;break;case"center":E-=m/2}var I=u-g-k,T=m+2*k,O=g+2*k;if(x>0){var D=t.fillStyle,A=e.pstyle("text-background-color").value;t.fillStyle="rgba("+A[0]+","+A[1]+","+A[2]+","+x*a+")";var R=e.pstyle("text-background-shape").strValue;0===R.indexOf("round")?Jo(t,E,I,T,O,2):t.fillRect(E,I,T,O),t.fillStyle=D}if(S>0&&C>0){var P=t.strokeStyle,M=t.lineWidth,L=e.pstyle("text-border-color").value,N=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+L[0]+","+L[1]+","+L[2]+","+C*a+")",t.lineWidth=S,t.setLineDash)switch(N){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=S/4,t.setLineDash([]);break;case"solid":t.setLineDash([])}if(t.strokeRect(E,I,T,O),"double"===N){var F=S/2;t.strokeRect(E+F,I+F,T-2*F,O-2*F)}t.setLineDash&&t.setLineDash([]),t.lineWidth=M,t.strokeStyle=P}}var B=2*e.pstyle("text-outline-width").pfValue;if(B>0&&(t.lineWidth=B),"wrap"===e.pstyle("text-wrap").value){var V=wt(o,"labelWrapCachedLines",n),z=wt(o,"labelLineHeight",n),j=m/2,H=this.getLabelJustification(e);switch("auto"===H||("left"===_?"left"===H?h+=-m:"center"===H&&(h+=-j):"center"===_?"left"===H?h+=-j:"right"===H&&(h+=j):"right"===_&&("center"===H?h+=j:"right"===H&&(h+=m))),w){case"top":u-=(V.length-1)*z;break;case"center":case"bottom":u-=(V.length-1)*z}for(var U=0;U<V.length;U++)B>0&&t.strokeText(V[U],h,u),t.fillText(V[U],h,u),u+=z}else B>0&&t.strokeText(d,h,u),t.fillText(d,h,u);0!==p&&(t.rotate(-p),t.translate(-l,-c))}}};var ta={drawNode:function(t,e,n){var i,r,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,c=e._private,h=c.rscratch,u=e.position();if(C(u.x)&&C(u.y)&&(!a||e.visible())){var d,p,f=a?e.effectiveOpacity():1,m=l.usePaths(),g=!1,v=e.padding();i=e.width()+2*v,r=e.height()+2*v,n&&t.translate(-(p=n).x1,-p.y1);for(var y=e.pstyle("background-image"),b=y.value,_=new Array(b.length),w=new Array(b.length),x=0,S=0;S<b.length;S++){var k=b[S],E=_[S]=null!=k&&"none"!==k;if(E){var I=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",S);x++,w[S]=l.getCachedImage(k,I,(function(){c.backgroundTimestamp=Date.now(),e.emitAndNotify("background")}))}}var T=e.pstyle("background-blacken").value,O=e.pstyle("border-width").pfValue,D=e.pstyle("background-opacity").value*f,A=e.pstyle("border-color").value,R=e.pstyle("border-style").value,P=e.pstyle("border-opacity").value*f;t.lineJoin="miter";var M=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;l.eleFillStyle(t,e,n)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;l.colorStrokeStyle(t,A[0],A[1],A[2],e)},N=e.pstyle("shape").strValue,F=e.pstyle("shape-polygon-points").pfValue;if(m){t.translate(u.x,u.y);var B=l.nodePathCache=l.nodePathCache||[],V=et("polygon"===N?N+","+F.join(","):N,""+r,""+i),z=B[V];null!=z?(g=!0,h.pathCache=d=z):(d=new Path2D,B[V]=h.pathCache=d)}var j=function(){if(!g){var n=u;m&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(e)].draw(d||t,n.x,n.y,i,r)}m?t.fill(d):t.fill()},H=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=c.backgrounding,s=0,o=0;o<w.length;o++){var a=e.cy().style().getIndexedStyle(e,"background-image-containment","value",o);i&&"over"===a||!i&&"inside"===a?s++:_[o]&&w[o].complete&&!w[o].error&&(s++,l.drawInscribedImage(t,w[o],e,o,n))}c.backgrounding=!(s===x),r!==c.backgrounding&&e.updateStyle(!1)},U=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;l.hasPie(e)&&(l.drawPie(t,e,s),n&&(m||l.nodeShapes[l.getNodeShape(e)].draw(t,u.x,u.y,i,r)))},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=(T>0?T:-T)*e,i=T>0?0:255;0!==T&&(l.colorFillStyle(t,i,i,i,n),m?t.fill(d):t.fill())},q=function(){if(O>0){if(t.lineWidth=O,t.lineCap="butt",t.setLineDash)switch(R){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([])}if(m?t.stroke(d):t.stroke(),"double"===R){t.lineWidth=O/3;var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",m?t.stroke(d):t.stroke(),t.globalCompositeOperation=e}t.setLineDash&&t.setLineDash([])}},W=function(){o&&l.drawNodeOverlay(t,e,u,i,r)},G=function(){o&&l.drawNodeUnderlay(t,e,u,i,r)},Y=function(){l.drawElementText(t,e,null,s)},X="yes"===e.pstyle("ghost").value;if(X){var K=e.pstyle("ghost-offset-x").pfValue,Z=e.pstyle("ghost-offset-y").pfValue,Q=e.pstyle("ghost-opacity").value,J=Q*f;t.translate(K,Z),M(Q*D),j(),H(J,!0),L(Q*P),q(),U(0!==T||0!==O),H(J,!1),$(J),t.translate(-K,-Z)}m&&t.translate(-u.x,-u.y),G(),m&&t.translate(u.x,u.y),M(),j(),H(f,!0),L(),q(),U(0!==T||0!==O),H(f,!1),$(),m&&t.translate(-u.x,-u.y),Y(),W(),n&&t.translate(p.x1,p.y1)}}},ea=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(e,n,i,r,s){if(n.visible()){var o=n.pstyle("".concat(t,"-padding")).pfValue,a=n.pstyle("".concat(t,"-opacity")).value,l=n.pstyle("".concat(t,"-color")).value,c=n.pstyle("".concat(t,"-shape")).value;if(a>0){if(i=i||n.position(),null==r||null==s){var h=n.padding();r=n.width()+2*h,s=n.height()+2*h}this.colorFillStyle(e,l[0],l[1],l[2],a),this.nodeShapes[c].draw(e,i.x,i.y,r+2*o,s+2*o),e.fill()}}}};ta.drawNodeOverlay=ea("overlay"),ta.drawNodeUnderlay=ea("underlay"),ta.hasPie=function(t){return(t=t[0])._private.hasPie},ta.drawPie=function(t,e,n,i){e=e[0],i=i||e.position();var r=e.cy().style(),s=e.pstyle("pie-size"),o=i.x,a=i.y,l=e.width(),c=e.height(),h=Math.min(l,c)/2,u=0;this.usePaths()&&(o=0,a=0),"%"===s.units?h*=s.pfValue:void 0!==s.pfValue&&(h=s.pfValue/2);for(var d=1;d<=r.pieBackgroundN;d++){var p=e.pstyle("pie-"+d+"-background-size").value,f=e.pstyle("pie-"+d+"-background-color").value,m=e.pstyle("pie-"+d+"-background-opacity").value*n,g=p/100;g+u>1&&(g=1-u);var v=1.5*Math.PI+2*Math.PI*u,y=v+2*Math.PI*g;0===p||u>=1||u+g>1||(t.beginPath(),t.moveTo(o,a),t.arc(o,a,h,v,y),t.closePath(),this.colorFillStyle(t,f[0],f[1],f[2],m),t.fill(),u+=g)}};for(var na={getPixelRatio:function(){var t=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},paintCache:function(t){for(var e,n=this.paintCaches=this.paintCaches||[],i=!0,r=0;r<n.length;r++)if((e=n[r]).context===t){i=!1;break}return i&&n.push(e={context:t}),e},createGradientStyleFor:function(t,e,n,i,r){var s,o=this.usePaths(),a=n.pstyle(e+"-gradient-stop-colors").value,l=n.pstyle(e+"-gradient-stop-positions").pfValue;if("radial-gradient"===i)if(n.isEdge()){var c=n.sourceEndpoint(),h=n.targetEndpoint(),u=n.midpoint(),d=Yt(c,u),p=Yt(h,u);s=t.createRadialGradient(u.x,u.y,0,u.x,u.y,Math.max(d,p))}else{var f=o?{x:0,y:0}:n.position(),m=n.paddedWidth(),g=n.paddedHeight();s=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(m,g))}else if(n.isEdge()){var v=n.sourceEndpoint(),y=n.targetEndpoint();s=t.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=o?{x:0,y:0}:n.position(),_=n.paddedWidth()/2,w=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":s=t.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":s=t.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":s=t.createLinearGradient(b.x+_,b.y,b.x-_,b.y);break;case"to-right":s=t.createLinearGradient(b.x-_,b.y,b.x+_,b.y);break;case"to-bottom-right":case"to-right-bottom":s=t.createLinearGradient(b.x-_,b.y-w,b.x+_,b.y+w);break;case"to-top-right":case"to-right-top":s=t.createLinearGradient(b.x-_,b.y+w,b.x+_,b.y-w);break;case"to-bottom-left":case"to-left-bottom":s=t.createLinearGradient(b.x+_,b.y-w,b.x-_,b.y+w);break;case"to-top-left":case"to-left-top":s=t.createLinearGradient(b.x+_,b.y+w,b.x-_,b.y-w)}}if(!s)return null;for(var x=l.length===a.length,C=a.length,S=0;S<C;S++)s.addColorStop(x?l[S]:S/(C-1),"rgba("+a[S][0]+","+a[S][1]+","+a[S][2]+","+r+")");return s},gradientFillStyle:function(t,e,n,i){var r=this.createGradientStyleFor(t,"background",e,n,i);if(!r)return null;t.fillStyle=r},colorFillStyle:function(t,e,n,i,r){t.fillStyle="rgba("+e+","+n+","+i+","+r+")"},eleFillStyle:function(t,e,n){var i=e.pstyle("background-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientFillStyle(t,e,i,n);else{var r=e.pstyle("background-color").value;this.colorFillStyle(t,r[0],r[1],r[2],n)}},gradientStrokeStyle:function(t,e,n,i){var r=this.createGradientStyleFor(t,"line",e,n,i);if(!r)return null;t.strokeStyle=r},colorStrokeStyle:function(t,e,n,i,r){t.strokeStyle="rgba("+e+","+n+","+i+","+r+")"},eleStrokeStyle:function(t,e,n){var i=e.pstyle("line-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientStrokeStyle(t,e,i,n);else{var r=e.pstyle("line-color").value;this.colorStrokeStyle(t,r[0],r[1],r[2],n)}},matchCanvasSize:function(t){var e=this,n=e.data,i=e.findContainerClientCoords(),r=i[2],s=i[3],o=e.getPixelRatio();t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]&&t!==e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG]||(o=e.motionBlurPxRatio);var a,l=r*o,c=s*o;if(l!==e.canvasWidth||c!==e.canvasHeight){e.fontCaches=null;var h=n.canvasContainer;h.style.width=r+"px",h.style.height=s+"px";for(var u=0;u<e.CANVAS_LAYERS;u++)(a=n.canvases[u]).width=l,a.height=c,a.style.width=r+"px",a.style.height=s+"px";for(u=0;u<e.BUFFER_COUNT;u++)(a=n.bufferCanvases[u]).width=l,a.height=c,a.style.width=r+"px",a.style.height=s+"px";e.textureMult=1,o<=1&&(a=n.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,a.width=l*e.textureMult,a.height=c*e.textureMult),e.canvasWidth=l,e.canvasHeight=c}},renderTo:function(t,e,n,i){this.render({forcedContext:t,forcedZoom:e,forcedPan:n,drawAllLayers:!0,forcedPxRatio:i})},render:function(t){var e=(t=t||vt()).forcedContext,n=t.drawAllLayers,i=t.drawOnlyNodeLayer,r=t.forcedZoom,s=t.forcedPan,o=this,a=void 0===t.forcedPxRatio?this.getPixelRatio():t.forcedPxRatio,l=o.cy,c=o.data,h=c.canvasNeedsRedraw,u=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),d=void 0!==t.motionBlur?t.motionBlur:o.motionBlur,p=o.motionBlurPxRatio,f=l.hasCompoundNodes(),m=o.hoverData.draggingEles,g=d=d&&!e&&o.motionBlurEnabled&&!(o.hoverData.selecting||o.touchData.selecting);e||(o.prevPxRatio!==a&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=a),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),d&&(null==o.mbFrames&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(g=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!u&&(h[o.NODE]=!0,h[o.SELECT_BOX]=!0);var v=l.style(),y=l.zoom(),b=void 0!==r?r:y,_=l.pan(),w={x:_.x,y:_.y},x={zoom:y,pan:{x:_.x,y:_.y}},C=o.prevViewport;void 0===C||x.zoom!==C.zoom||x.pan.x!==C.pan.x||x.pan.y!==C.pan.y||m&&!f||(o.motionBlurPxRatio=1),s&&(w=s),b*=a,w.x*=a,w.y*=a;var S=o.getCachedZSortedEles();function k(t,e,n,i,r){var s=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",o.colorFillStyle(t,255,255,255,o.motionBlurTransparency),t.fillRect(e,n,i,r),t.globalCompositeOperation=s}function E(t,i){var a,l,h,u;o.clearingMotionBlur||t!==c.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]&&t!==c.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]?(a=w,l=b,h=o.canvasWidth,u=o.canvasHeight):(a={x:_.x*p,y:_.y*p},l=y*p,h=o.canvasWidth*p,u=o.canvasHeight*p),t.setTransform(1,0,0,1,0,0),"motionBlur"===i?k(t,0,0,h,u):e||void 0!==i&&!i||t.clearRect(0,0,h,u),n||(t.translate(a.x,a.y),t.scale(l,l)),s&&t.translate(s.x,s.y),r&&t.scale(r,r)}if(u||(o.textureDrawLastFrame=!1),u){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var I=o.data.bufferContexts[o.TEXTURE_BUFFER];I.setTransform(1,0,0,1,0,0),I.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:I,drawOnlyNodeLayer:!0,forcedPxRatio:a*o.textureMult}),(x=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight}).mpan={x:(0-x.pan.x)/x.zoom,y:(0-x.pan.y)/x.zoom}}h[o.DRAG]=!1,h[o.NODE]=!1;var T=o.textureCache.texture;x=o.textureCache.viewport,(N=c.contexts[o.NODE]).setTransform(1,0,0,1,0,0),d?k(N,0,0,x.width,x.height):N.clearRect(0,0,x.width,x.height);var O=v.core("outside-texture-bg-color").value,D=v.core("outside-texture-bg-opacity").value;o.colorFillStyle(N,O[0],O[1],O[2],D),N.fillRect(0,0,x.width,x.height),y=l.zoom(),E(N,!1),N.clearRect(x.mpan.x,x.mpan.y,x.width/x.zoom/a,x.height/x.zoom/a),N.drawImage(T,x.mpan.x,x.mpan.y,x.width/x.zoom/a,x.height/x.zoom/a)}else o.textureOnViewport&&!e&&(o.textureCache=null);var A=l.extent(),R=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),P=o.hideEdgesOnViewport&&R,M=[];if(M[o.NODE]=!h[o.NODE]&&d&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,M[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),M[o.DRAG]=!h[o.DRAG]&&d&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,M[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),h[o.NODE]||n||i||M[o.NODE]){var L=d&&!M[o.NODE]&&1!==p;E(N=e||(L?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:c.contexts[o.NODE]),d&&!L?"motionBlur":void 0),P?o.drawCachedNodes(N,S.nondrag,a,A):o.drawLayeredElements(N,S.nondrag,a,A),o.debug&&o.drawDebugPoints(N,S.nondrag),n||d||(h[o.NODE]=!1)}if(!i&&(h[o.DRAG]||n||M[o.DRAG])&&(L=d&&!M[o.DRAG]&&1!==p,E(N=e||(L?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:c.contexts[o.DRAG]),d&&!L?"motionBlur":void 0),P?o.drawCachedNodes(N,S.drag,a,A):o.drawCachedElements(N,S.drag,a,A),o.debug&&o.drawDebugPoints(N,S.drag),n||d||(h[o.DRAG]=!1)),o.showFps||!i&&h[o.SELECT_BOX]&&!n){var N;if(E(N=e||c.contexts[o.SELECT_BOX]),1==o.selection[4]&&(o.hoverData.selecting||o.touchData.selecting)){y=o.cy.zoom();var F=v.core("selection-box-border-width").value/y;N.lineWidth=F,N.fillStyle="rgba("+v.core("selection-box-color").value[0]+","+v.core("selection-box-color").value[1]+","+v.core("selection-box-color").value[2]+","+v.core("selection-box-opacity").value+")",N.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),F>0&&(N.strokeStyle="rgba("+v.core("selection-box-border-color").value[0]+","+v.core("selection-box-border-color").value[1]+","+v.core("selection-box-border-color").value[2]+","+v.core("selection-box-opacity").value+")",N.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(c.bgActivePosistion&&!o.hoverData.selecting){y=o.cy.zoom();var B=c.bgActivePosistion;N.fillStyle="rgba("+v.core("active-bg-color").value[0]+","+v.core("active-bg-color").value[1]+","+v.core("active-bg-color").value[2]+","+v.core("active-bg-opacity").value+")",N.beginPath(),N.arc(B.x,B.y,v.core("active-bg-size").pfValue/y,0,2*Math.PI),N.fill()}var V=o.lastRedrawTime;if(o.showFps&&V){V=Math.round(V);var z=Math.round(1e3/V);N.setTransform(1,0,0,1,0,0),N.fillStyle="rgba(255, 0, 0, 0.75)",N.strokeStyle="rgba(255, 0, 0, 0.75)",N.lineWidth=1,N.fillText("1 frame = "+V+" ms = "+z+" fps",0,20),N.strokeRect(0,30,250,20),N.fillRect(0,30,250*Math.min(z/60,1),20)}n||(h[o.SELECT_BOX]=!1)}if(d&&1!==p){var j=c.contexts[o.DRAG],H=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],U=function(t,e,n){t.setTransform(1,0,0,1,0,0),n||!g?t.clearRect(0,0,o.canvasWidth,o.canvasHeight):k(t,0,0,o.canvasWidth,o.canvasHeight),t.drawImage(e,0,0,o.canvasWidth*p,o.canvasHeight*p,0,0,o.canvasWidth,o.canvasHeight)};(h[o.NODE]||M[o.NODE])&&(U(c.contexts[o.NODE],o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],M[o.NODE]),h[o.NODE]=!1),(h[o.DRAG]||M[o.DRAG])&&(U(j,H,M[o.DRAG]),h[o.DRAG]=!1)}o.prevViewport=x,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),d&&(o.motionBlurTimeout=setTimeout((function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!u,o.mbFrames=0,h[o.NODE]=!0,h[o.DRAG]=!0,o.redraw()}),100)),e||l.emit("render")}},ia={drawPolygonPath:function(t,e,n,i,r,s){var o=i/2,a=r/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*s[0],n+a*s[1]);for(var l=1;l<s.length/2;l++)t.lineTo(e+o*s[2*l],n+a*s[2*l+1]);t.closePath()},drawRoundPolygonPath:function(t,e,n,i,r,s){var o=i/2,a=r/2,l=Ie(i,r);t.beginPath&&t.beginPath();for(var c=0;c<s.length/4;c++){var h,u;u=0===c?s.length-2:4*c-2,h=4*c+2;var d=e+o*s[4*c],p=n+a*s[4*c+1],f=l/Math.tan(Math.acos(-s[u]*s[h]-s[u+1]*s[h+1])/2),m=d-f*s[u],g=p-f*s[u+1],v=d+f*s[h],y=p+f*s[h+1];0===c?t.moveTo(m,g):t.lineTo(m,g),t.arcTo(d,p,v,y,l)}t.closePath()},drawRoundRectanglePath:function(t,e,n,i,r){var s=i/2,o=r/2,a=Ee(i,r);t.beginPath&&t.beginPath(),t.moveTo(e,n-o),t.arcTo(e+s,n-o,e+s,n,a),t.arcTo(e+s,n+o,e,n+o,a),t.arcTo(e-s,n+o,e-s,n,a),t.arcTo(e-s,n-o,e,n-o,a),t.lineTo(e,n-o),t.closePath()},drawBottomRoundRectanglePath:function(t,e,n,i,r){var s=i/2,o=r/2,a=Ee(i,r);t.beginPath&&t.beginPath(),t.moveTo(e,n-o),t.lineTo(e+s,n-o),t.lineTo(e+s,n),t.arcTo(e+s,n+o,e,n+o,a),t.arcTo(e-s,n+o,e-s,n,a),t.lineTo(e-s,n-o),t.lineTo(e,n-o),t.closePath()},drawCutRectanglePath:function(t,e,n,i,r){var s=i/2,o=r/2;t.beginPath&&t.beginPath(),t.moveTo(e-s+8,n-o),t.lineTo(e+s-8,n-o),t.lineTo(e+s,n-o+8),t.lineTo(e+s,n+o-8),t.lineTo(e+s-8,n+o),t.lineTo(e-s+8,n+o),t.lineTo(e-s,n+o-8),t.lineTo(e-s,n-o+8),t.closePath()},drawBarrelPath:function(t,e,n,i,r){var s=i/2,o=r/2,a=e-s,l=e+s,c=n-o,h=n+o,u=Te(i,r),d=u.widthOffset,p=u.heightOffset,f=u.ctrlPtOffsetPct*d;t.beginPath&&t.beginPath(),t.moveTo(a,c+p),t.lineTo(a,h-p),t.quadraticCurveTo(a+f,h,a+d,h),t.lineTo(l-d,h),t.quadraticCurveTo(l-f,h,l,h-p),t.lineTo(l,c+p),t.quadraticCurveTo(l-f,c,l-d,c),t.lineTo(a+d,c),t.quadraticCurveTo(a+f,c,a,c+p),t.closePath()}},ra=Math.sin(0),sa=Math.cos(0),oa={},aa={},la=Math.PI/40,ca=0*Math.PI;ca<2*Math.PI;ca+=la)oa[ca]=Math.sin(ca),aa[ca]=Math.cos(ca);ia.drawEllipsePath=function(t,e,n,i,r){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,n,i/2,r/2,0,0,2*Math.PI);else for(var s,o,a=i/2,l=r/2,c=0*Math.PI;c<2*Math.PI;c+=la)s=e-a*oa[c]*ra+a*aa[c]*sa,o=n+l*aa[c]*ra+l*oa[c]*sa,0===c?t.moveTo(s,o):t.lineTo(s,o);t.closePath()};var ha={};function ua(t){var e=t.indexOf(",");return t.substr(e+1)}function da(t,e,n){var i=function(){return e.toDataURL(n,t.quality)};switch(t.output){case"blob-promise":return new Bn((function(i,r){try{e.toBlob((function(t){null!=t?i(t):r(new Error("`canvas.toBlob()` sent a null value in its callback"))}),n,t.quality)}catch(s){r(s)}}));case"blob":return function(t,e){for(var n=atob(t),i=new ArrayBuffer(n.length),r=new Uint8Array(i),s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return new Blob([i],{type:e})}(ua(i()),n);case"base64":return ua(i());case"base64uri":default:return i()}}ha.createBuffer=function(t,e){var n=document.createElement("canvas");return n.width=t,n.height=e,[n,n.getContext("2d")]},ha.bufferCanvasImage=function(t){var e=this.cy,n=e.mutableElements().boundingBox(),i=this.findContainerClientCoords(),r=t.full?Math.ceil(n.w):i[2],s=t.full?Math.ceil(n.h):i[3],o=C(t.maxWidth)||C(t.maxHeight),a=this.getPixelRatio(),l=1;if(void 0!==t.scale)r*=t.scale,s*=t.scale,l=t.scale;else if(o){var c=1/0,h=1/0;C(t.maxWidth)&&(c=l*t.maxWidth/r),C(t.maxHeight)&&(h=l*t.maxHeight/s),r*=l=Math.min(c,h),s*=l}o||(r*=a,s*=a,l*=a);var u=document.createElement("canvas");u.width=r,u.height=s,u.style.width=r+"px",u.style.height=s+"px";var d=u.getContext("2d");if(r>0&&s>0){d.clearRect(0,0,r,s),d.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(t.full)d.translate(-n.x1*l,-n.y1*l),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(n.x1*l,n.y1*l);else{var f=e.pan(),m={x:f.x*l,y:f.y*l};l*=e.zoom(),d.translate(m.x,m.y),d.scale(l,l),this.drawElements(d,p),d.scale(1/l,1/l),d.translate(-m.x,-m.y)}t.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=t.bg,d.rect(0,0,r,s),d.fill())}return u},ha.png=function(t){return da(t,this.bufferCanvasImage(t),"image/png")},ha.jpg=function(t){return da(t,this.bufferCanvasImage(t),"image/jpeg")};var pa=ma,fa=ma.prototype;function ma(t){var e=this;e.data={canvases:new Array(fa.CANVAS_LAYERS),contexts:new Array(fa.CANVAS_LAYERS),canvasNeedsRedraw:new Array(fa.CANVAS_LAYERS),bufferCanvases:new Array(fa.BUFFER_COUNT),bufferContexts:new Array(fa.CANVAS_LAYERS)},e.data.canvasContainer=document.createElement("div");var n=e.data.canvasContainer.style;e.data.canvasContainer.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",n.position="relative",n.zIndex="0",n.overflow="hidden";var i=t.cy.container();i.appendChild(e.data.canvasContainer),i.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";var r={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};p&&p.userAgent.match(/msie|trident|edge/i)&&(r["-ms-touch-action"]="none",r["touch-action"]="none");for(var s=0;s<fa.CANVAS_LAYERS;s++){var o=e.data.canvases[s]=document.createElement("canvas");e.data.contexts[s]=o.getContext("2d"),Object.keys(r).forEach((function(t){o.style[t]=r[t]})),o.style.position="absolute",o.setAttribute("data-id","layer"+s),o.style.zIndex=String(fa.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(o),e.data.canvasNeedsRedraw[s]=!1}for(e.data.topCanvas=e.data.canvases[0],e.data.canvases[fa.NODE].setAttribute("data-id","layer"+fa.NODE+"-node"),e.data.canvases[fa.SELECT_BOX].setAttribute("data-id","layer"+fa.SELECT_BOX+"-selectbox"),e.data.canvases[fa.DRAG].setAttribute("data-id","layer"+fa.DRAG+"-drag"),s=0;s<fa.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=document.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var a=te(),l=function(t){return{x:-t.w/2,y:-t.h/2}},c=function(t){return t.boundingBox(),t[0]._private.bodyBounds},h=function(t){return t.boundingBox(),t[0]._private.labelBounds.main||a},u=function(t){return t.boundingBox(),t[0]._private.labelBounds.source||a},d=function(t){return t.boundingBox(),t[0]._private.labelBounds.target||a},f=function(t,e){return e},m=function(t,e,n){var i=t?t+"-":"";return{x:e.x+n.pstyle(i+"text-margin-x").pfValue,y:e.y+n.pstyle(i+"text-margin-y").pfValue}},g=function(t,e,n){var i=t[0]._private.rscratch;return{x:i[e],y:i[n]}},v=e.data.eleTxrCache=new Oo(e,{getKey:function(t){return t[0]._private.nodeKey},doesEleInvalidateKey:function(t){var e=t[0]._private;return!(e.oldBackgroundTimestamp===e.backgroundTimestamp)},drawElement:function(t,n,i,r,s){return e.drawElement(t,n,i,!1,!1,s)},getBoundingBox:c,getRotationPoint:function(t){return{x:((e=c(t)).x1+e.x2)/2,y:(e.y1+e.y2)/2};var e},getRotationOffset:function(t){return l(c(t))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),y=e.data.lblTxrCache=new Oo(e,{getKey:function(t){return t[0]._private.labelStyleKey},drawElement:function(t,n,i,r,s){return e.drawElementText(t,n,i,r,"main",s)},getBoundingBox:h,getRotationPoint:function(t){return m("",g(t,"labelX","labelY"),t)},getRotationOffset:function(t){var e=h(t),n=l(h(t));if(t.isNode()){switch(t.pstyle("text-halign").value){case"left":n.x=-e.w;break;case"right":n.x=0}switch(t.pstyle("text-valign").value){case"top":n.y=-e.h;break;case"bottom":n.y=0}}return n},isVisible:f}),b=e.data.slbTxrCache=new Oo(e,{getKey:function(t){return t[0]._private.sourceLabelStyleKey},drawElement:function(t,n,i,r,s){return e.drawElementText(t,n,i,r,"source",s)},getBoundingBox:u,getRotationPoint:function(t){return m("source",g(t,"sourceLabelX","sourceLabelY"),t)},getRotationOffset:function(t){return l(u(t))},isVisible:f}),_=e.data.tlbTxrCache=new Oo(e,{getKey:function(t){return t[0]._private.targetLabelStyleKey},drawElement:function(t,n,i,r,s){return e.drawElementText(t,n,i,r,"target",s)},getBoundingBox:d,getRotationPoint:function(t){return m("target",g(t,"targetLabelX","targetLabelY"),t)},getRotationOffset:function(t){return l(d(t))},isVisible:f}),w=e.data.lyrTxrCache=new Ao(e);e.onUpdateEleCalcs((function(t,e){v.invalidateElements(e),y.invalidateElements(e),b.invalidateElements(e),_.invalidateElements(e),w.invalidateElements(e);for(var n=0;n<e.length;n++){var i=e[n]._private;i.oldBackgroundTimestamp=i.backgroundTimestamp}}));var x=function(t){for(var e=0;e<t.length;e++)w.enqueueElementRefinement(t[e].ele)};v.onDequeue(x),y.onDequeue(x),b.onDequeue(x),_.onDequeue(x)}fa.CANVAS_LAYERS=3,fa.SELECT_BOX=0,fa.DRAG=1,fa.NODE=2,fa.BUFFER_COUNT=3,fa.TEXTURE_BUFFER=0,fa.MOTIONBLUR_BUFFER_NODE=1,fa.MOTIONBLUR_BUFFER_DRAG=2,fa.redrawHint=function(t,e){var n=this;switch(t){case"eles":n.data.canvasNeedsRedraw[fa.NODE]=e;break;case"drag":n.data.canvasNeedsRedraw[fa.DRAG]=e;break;case"select":n.data.canvasNeedsRedraw[fa.SELECT_BOX]=e}};var ga="undefined"!=typeof Path2D;fa.path2dEnabled=function(t){if(void 0===t)return this.pathsEnabled;this.pathsEnabled=!!t},fa.usePaths=function(){return ga&&this.pathsEnabled},fa.setImgSmoothing=function(t,e){null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)},fa.getImgSmoothing=function(t){return null!=t.imageSmoothingEnabled?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled},fa.makeOffscreenCanvas=function(t,e){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":o(OffscreenCanvas))?n=new OffscreenCanvas(t,e):((n=document.createElement("canvas")).width=t,n.height=e),n},[No,Ho,Xo,Zo,Qo,ta,na,ia,ha,{nodeShapeImpl:function(t,e,n,i,r,s,o){switch(t){case"ellipse":return this.drawEllipsePath(e,n,i,r,s);case"polygon":return this.drawPolygonPath(e,n,i,r,s,o);case"round-polygon":return this.drawRoundPolygonPath(e,n,i,r,s,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,n,i,r,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,n,i,r,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,n,i,r,s);case"barrel":return this.drawBarrelPath(e,n,i,r,s)}}}].forEach((function(t){V(fa,t)}));var va=[{type:"layout",extensions:Js},{type:"renderer",extensions:[{name:"null",impl:to},{name:"base",impl:Co},{name:"canvas",impl:pa}]}],ya={},ba={};function _a(t,e,n){var i=n,r=function(n){pt("Can not register `"+e+"` for `"+t+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===t){if(ps.prototype[e])return r(e);ps.prototype[e]=n}else if("collection"===t){if(Ar.prototype[e])return r(e);Ar.prototype[e]=n}else if("layout"===t){for(var s=function(t){this.options=t,n.call(this,t),x(this._private)||(this._private={}),this._private.cy=t.cy,this._private.listeners=[],this.createEmitter()},o=s.prototype=Object.create(n.prototype),a=[],l=0;l<a.length;l++){var c=a[l];o[c]=o[c]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var h=n.prototype.stop;o.stop=function(){var t=this.options;if(t&&t.animate){var e=this.animations;if(e)for(var n=0;n<e.length;n++)e[n].stop()}return h?h.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var u=function(t){return t._private.cy},d={addEventFields:function(t,e){e.layout=t,e.cy=u(t),e.target=t},bubble:function(){return!0},parent:function(t){return u(t)}};V(o,{createEmitter:function(){return this._private.emitter=new Qi(d,this),this},emitter:function(){return this._private.emitter},on:function(t,e){return this.emitter().on(t,e),this},one:function(t,e){return this.emitter().one(t,e),this},once:function(t,e){return this.emitter().one(t,e),this},removeListener:function(t,e){return this.emitter().removeListener(t,e),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(t,e){return this.emitter().emit(t,e),this}}),jn.eventAliasesOn(o),i=s}else if("renderer"===t&&"null"!==e&&"base"!==e){var p=wa("renderer","base"),f=p.prototype,m=n,g=n.prototype,v=function(){p.apply(this,arguments),m.apply(this,arguments)},y=v.prototype;for(var b in f){var _=f[b];if(null!=g[b])return r(b);y[b]=_}for(var w in g)y[w]=g[w];f.clientFunctions.forEach((function(t){y[t]=y[t]||function(){ut("Renderer does not implement `renderer."+t+"()` on its prototype")}})),i=v}return j({map:ya,keys:[t,e],value:i})}function wa(t,e){return H({map:ya,keys:[t,e]})}function xa(t,e,n,i,r){return j({map:ba,keys:[t,e,n,i],value:r})}function Ca(t,e,n,i){return H({map:ba,keys:[t,e,n,i]})}var Sa=function(){return 2===arguments.length?wa.apply(null,arguments):3===arguments.length?_a.apply(null,arguments):4===arguments.length?Ca.apply(null,arguments):5===arguments.length?xa.apply(null,arguments):void ut("Invalid extension access syntax")};ps.prototype.extension=Sa,va.forEach((function(t){t.extensions.forEach((function(e){_a(t.type,e.name,e.impl)}))}));var ka=function t(){if(!(this instanceof t))return new t;this.length=0},Ea=ka.prototype;Ea.instanceString=function(){return"stylesheet"},Ea.selector=function(t){return this[this.length++]={selector:t,properties:[]},this},Ea.css=function(t,e){var n=this.length-1;if(b(t))this[n].properties.push({name:t,value:e});else if(x(t))for(var i=t,r=Object.keys(i),s=0;s<r.length;s++){var o=r[s],a=i[o];if(null!=a){var l=ls.properties[o]||ls.properties[M(o)];null!=l&&this[n].properties.push({name:l.name,value:a})}}return this},Ea.style=Ea.css,Ea.generateStyle=function(t){var e=new ls(t);return this.appendToStyle(e)},Ea.appendToStyle=function(t){for(var e=0;e<this.length;e++){var n=this[e],i=n.properties;t.selector(n.selector);for(var r=0;r<i.length;r++){var s=i[r];t.css(s.name,s.value)}}return t};var Ia=function(t){return void 0===t&&(t={}),x(t)?new ps(t):b(t)?Sa.apply(Sa,arguments):void 0};Ia.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(Ia),t.apply(null,e),this},Ia.warnings=function(t){return dt(t)},Ia.version="3.20.0",Ia.stylesheet=Ia.Stylesheet=ka,t.exports=Ia},YS7c:function(t,e,n){"use strict";var i=n("8/JR"),r=n("PzH3"),s=n("n6yW"),o=document,a=o.documentElement;function l(t,e,n,i){global.navigator.pointerEnabled?r[e](t,{mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"}[n],i):global.navigator.msPointerEnabled?r[e](t,{mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"}[n],i):(r[e](t,{mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"}[n],i),r[e](t,n,i))}function c(t){if(void 0!==t.touches)return t.touches.length;if(void 0!==t.which&&0!==t.which)return t.which;if(void 0!==t.buttons)return t.buttons;var e=t.button;return void 0!==e?1&e?1:2&e?3:4&e?2:0:void 0}function h(t){var e=t.getBoundingClientRect();return{left:e.left+u("scrollLeft","pageXOffset"),top:e.top+u("scrollTop","pageYOffset")}}function u(t,e){return void 0!==global[e]?global[e]:a.clientHeight?a[t]:o.body[t]}function d(t,e,n){var i,r=t||{},s=r.className;return r.className+=" gu-hide",i=o.elementFromPoint(e,n),r.className=s,i}function p(){return!1}function f(){return!0}function m(t){return t.width||t.right-t.left}function g(t){return t.height||t.bottom-t.top}function v(t){return t.parentNode===o?null:t.parentNode}function y(t){return"INPUT"===t.tagName||"TEXTAREA"===t.tagName||"SELECT"===t.tagName||function t(e){return!!e&&"false"!==e.contentEditable&&("true"===e.contentEditable||t(v(e)))}(t)}function b(t){return t.nextElementSibling||function(){var e=t;do{e=e.nextSibling}while(e&&1!==e.nodeType);return e}()}function _(t,e){var n=function(t){return t.targetTouches&&t.targetTouches.length?t.targetTouches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t}(e),i={pageX:"clientX",pageY:"clientY"};return t in i&&!(t in n)&&i[t]in n&&(t=i[t]),n[t]}t.exports=function(t,e){var n,u,w,x,C,S,k,E,I,T,O,D=arguments.length;1===D&&!1===Array.isArray(t)&&(e=t,t=[]);var A,R=null,P=e||{};void 0===P.moves&&(P.moves=f),void 0===P.accepts&&(P.accepts=f),void 0===P.invalid&&(P.invalid=G),void 0===P.containers&&(P.containers=t||[]),void 0===P.isContainer&&(P.isContainer=p),void 0===P.copy&&(P.copy=!1),void 0===P.copySortSource&&(P.copySortSource=!1),void 0===P.revertOnSpill&&(P.revertOnSpill=!1),void 0===P.removeOnSpill&&(P.removeOnSpill=!1),void 0===P.direction&&(P.direction="vertical"),void 0===P.ignoreInputTextSelection&&(P.ignoreInputTextSelection=!0),void 0===P.mirrorContainer&&(P.mirrorContainer=o.body);var M=i({containers:P.containers,start:q,end:Y,cancel:J,remove:Q,destroy:V,canMove:$,dragging:!1});return!0===P.removeOnSpill&&M.on("over",rt).on("out",st),N(),M;function L(t){return-1!==M.containers.indexOf(t)||P.isContainer(t)}function N(t){var e=t?"remove":"add";l(a,e,"mousedown",j),l(a,e,"mouseup",K)}function F(t){l(a,t?"remove":"add","mousemove",H)}function B(t){var e=t?"remove":"add";r[e](a,"selectstart",z),r[e](a,"click",z)}function V(){N(!0),K({})}function z(t){A&&t.preventDefault()}function j(t){if(S=t.clientX,k=t.clientY,1===c(t)&&!t.metaKey&&!t.ctrlKey){var e=t.target,n=U(e);n&&(A=n,F(),"mousedown"===t.type&&(y(e)?e.focus():t.preventDefault()))}}function H(t){if(A)if(0!==c(t)){if(void 0===t.clientX||t.clientX!==S||void 0===t.clientY||t.clientY!==k){if(P.ignoreInputTextSelection){var e=_("clientX",t),n=_("clientY",t);if(y(o.elementFromPoint(e,n)))return}var i=A;F(!0),B(),Y(),W(i);var r=h(w);x=_("pageX",t)-r.left,C=_("pageY",t)-r.top,s.add(T||w,"gu-transit"),ot(),it(t)}}else K({})}function U(t){if(!(M.dragging&&n||L(t))){for(var e=t;v(t)&&!1===L(v(t));){if(P.invalid(t,e))return;if(!(t=v(t)))return}var i=v(t);if(i&&!P.invalid(t,e)&&P.moves(t,i,e,b(t)))return{item:t,source:i}}}function $(t){return!!U(t)}function q(t){var e=U(t);e&&W(e)}function W(t){ht(t.item,t.source)&&(T=t.item.cloneNode(!0),M.emit("cloned",T,t.item,"copy")),u=t.source,w=t.item,E=I=b(t.item),M.dragging=!0,M.emit("drag",w,u)}function G(){return!1}function Y(){if(M.dragging){var t=T||w;Z(t,v(t))}}function X(){A=!1,F(!0),B(!0)}function K(t){if(X(),M.dragging){var e=T||w,i=_("clientX",t),r=_("clientY",t),s=nt(d(n,i,r),i,r);s&&(T&&P.copySortSource||!T||s!==u)?Z(e,s):P.removeOnSpill?Q():J()}}function Z(t,e){var n=v(t);T&&P.copySortSource&&e===u&&n.removeChild(w),et(e)?M.emit("cancel",t,u,u):M.emit("drop",t,e,u,I),tt()}function Q(){if(M.dragging){var t=T||w,e=v(t);e&&e.removeChild(t),M.emit(T?"cancel":"remove",t,e,u),tt()}}function J(t){if(M.dragging){var e=arguments.length>0?t:P.revertOnSpill,n=T||w,i=v(n),r=et(i);!1===r&&e&&(T?i&&i.removeChild(T):u.insertBefore(n,E)),r||e?M.emit("cancel",n,u,u):M.emit("drop",n,i,u,I),tt()}}function tt(){var t=T||w;X(),at(),t&&s.rm(t,"gu-transit"),O&&clearTimeout(O),M.dragging=!1,R&&M.emit("out",t,R,u),M.emit("dragend",t),u=w=T=E=I=O=R=null}function et(t,e){var i;return i=void 0!==e?e:n?I:b(T||w),t===u&&i===E}function nt(t,e,n){for(var i=t;i&&!r();)i=v(i);return i;function r(){if(!1===L(i))return!1;var r=lt(i,t),s=ct(i,r,e,n);return!!et(i,s)||P.accepts(w,i,u,s)}}function it(t){if(n){t.preventDefault();var e=_("clientX",t),i=_("clientY",t),r=i-C;n.style.left=e-x+"px",n.style.top=r+"px";var s=T||w,o=d(n,e,i),a=nt(o,e,i),l=null!==a&&a!==R;(l||null===a)&&(R&&f("out"),R=a,l&&f("over"));var c=v(s);if(a!==u||!T||P.copySortSource){var h,p=lt(a,o);if(null!==p)h=ct(a,p,e,i);else{if(!0!==P.revertOnSpill||T)return void(T&&c&&c.removeChild(s));h=E,a=u}(null===h&&l||h!==s&&h!==b(s))&&(I=h,a.insertBefore(s,h),M.emit("shadow",s,a,u))}else c&&c.removeChild(s)}function f(t){M.emit(t,s,R,u)}}function rt(t){s.rm(t,"gu-hide")}function st(t){M.dragging&&s.add(t,"gu-hide")}function ot(){if(!n){var t=w.getBoundingClientRect();(n=w.cloneNode(!0)).style.width=m(t)+"px",n.style.height=g(t)+"px",s.rm(n,"gu-transit"),s.add(n,"gu-mirror"),P.mirrorContainer.appendChild(n),l(a,"add","mousemove",it),s.add(P.mirrorContainer,"gu-unselectable"),M.emit("cloned",n,w,"mirror")}}function at(){n&&(s.rm(P.mirrorContainer,"gu-unselectable"),l(a,"remove","mousemove",it),v(n).removeChild(n),n=null)}function lt(t,e){for(var n=e;n!==t&&v(n)!==t;)n=v(n);return n===a?null:n}function ct(t,e,n,i){var r,s="horizontal"===P.direction;return e!==t?(r=e.getBoundingClientRect(),(s?n>r.left+m(r)/2:i>r.top+g(r)/2)?b(e):e):function(){var e,r,o,a=t.children.length;for(e=0;e<a;e++){if(o=(r=t.children[e]).getBoundingClientRect(),s&&o.left+o.width/2>n)return r;if(!s&&o.top+o.height/2>i)return r}return null}()}function ht(t,e){return"boolean"==typeof P.copy?P.copy:P.copy(t,e)}}},Ys8N:function(t,e,n){"use strict";var i=[],r="",s=/^on/;for(r in global)s.test(r)&&i.push(r.slice(2));t.exports=i},n6yW:function(t,e,n){"use strict";var i={};function r(t){var e=i[t];return e?e.lastIndex=0:i[t]=e=new RegExp("(?:^|\\s)"+t+"(?:\\s|$)","g"),e}t.exports={add:function(t,e){var n=t.className;n.length?r(e).test(n)||(t.className+=" "+e):t.className=e},rm:function(t,e){t.className=t.className.replace(r(e)," ").trim()}}},xDdU:function(t,e,n){var i,r,s=n("4fRq"),o=n("I2ZF"),a=0,l=0;t.exports=function(t,e,n){var c=e&&n||0,h=e||[],u=(t=t||{}).node||i,d=void 0!==t.clockseq?t.clockseq:r;if(null==u||null==d){var p=s();null==u&&(u=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=r=16383&(p[6]<<8|p[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:l+1,g=f-a+(m-l)/1e4;if(g<0&&void 0===t.clockseq&&(d=d+1&16383),(g<0||f>a)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,l=m,r=d;var v=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;h[c++]=v>>>24&255,h[c++]=v>>>16&255,h[c++]=v>>>8&255,h[c++]=255&v;var y=f/4294967296*1e4&268435455;h[c++]=y>>>8&255,h[c++]=255&y,h[c++]=y>>>24&15|16,h[c++]=y>>>16&255,h[c++]=d>>>8|128,h[c++]=255&d;for(var b=0;b<6;++b)h[c+b]=u[b];return e||o(h)}},xk4V:function(t,e,n){var i=n("4fRq"),r=n("I2ZF");t.exports=function(t,e,n){var s=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;++a)e[s+a]=o[a];return e||r(o)}},yLV6:function(t,e,n){var i;!function(r,s,o,a){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],h=s.createElement("div"),u=Math.round,d=Math.abs,p=Date.now;function f(t,e,n){return setTimeout(w(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(g(t,n[e],n),!0)}function g(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function v(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=r.console&&(r.console.warn||r.console.log);return s&&s.call(r.console,i,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign;var y=v((function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t}),"extend","Use `assign`."),b=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function _(t,e,n){var i,r=e.prototype;(i=t.prototype=Object.create(r)).constructor=t,i._super=r,n&&l(i,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function x(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function C(t,e){return void 0===t?e:t}function S(t,e,n){g(T(e),(function(e){t.addEventListener(e,n,!1)}))}function k(t,e,n){g(T(e),(function(e){t.removeEventListener(e,n,!1)}))}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function I(t,e){return t.indexOf(e)>-1}function T(t){return t.trim().split(/\s+/g)}function O(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function D(t){return Array.prototype.slice.call(t,0)}function A(t,e,n){for(var i=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];O(r,o)<0&&i.push(t[s]),r[s]=o,s++}return n&&(i=e?i.sort((function(t,n){return t[e]>n[e]})):i.sort()),i}function R(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),s=0;s<c.length;){if((i=(n=c[s])?n+r:e)in t)return i;s++}}var P=1;function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var L="ontouchstart"in r,N=void 0!==R(r,"PointerEvent"),F=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B=["x","y"],V=["clientX","clientY"];function z(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){x(t.options.enable,[t])&&n.handler(e)},this.init()}function j(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,s=1&e&&i-r==0,o=12&e&&i-r==0;n.isFirst=!!s,n.isFinal=!!o,s&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=H(e)),r>1&&!n.firstMultiple?n.firstMultiple=H(e):1===r&&(n.firstMultiple=!1);var s=n.firstInput,o=n.firstMultiple,a=o?o.center:s.center,l=e.center=U(i);e.timeStamp=p(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=G(a,l),e.distance=W(a,l),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};1!==e.eventType&&4!==s.eventType||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=q(e.deltaX,e.deltaY);var c,h,u=$(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=d(u.x)>d(u.y)?u.x:u.y,e.scale=o?(c=o.pointers,W((h=i)[0],h[1],V)/W(c[0],c[1],V)):1,e.rotation=o?function(t,e){return G(e[1],e[0],V)+G(t[1],t[0],V)}(o.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,s,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(a>25||void 0===o.velocity)){var l=e.deltaX-o.deltaX,c=e.deltaY-o.deltaY,h=$(a,l,c);i=h.x,r=h.y,n=d(h.x)>d(h.y)?h.x:h.y,s=q(l,c),t.lastInterval=e}else n=o.velocity,i=o.velocityX,r=o.velocityY,s=o.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=s}(n,e);var f=t.element;E(e.srcEvent.target,f)&&(f=e.srcEvent.target),e.target=f}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function H(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:u(t.pointers[n].clientX),clientY:u(t.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:e,center:U(e),deltaX:t.deltaX,deltaY:t.deltaY}}function U(t){var e=t.length;if(1===e)return{x:u(t[0].clientX),y:u(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:u(n/e),y:u(i/e)}}function $(t,e,n){return{x:e/t||0,y:n/t||0}}function q(t,e){return t===e?1:d(t)>=d(e)?t<0?2:4:e<0?8:16}function W(t,e,n){n||(n=B);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function G(t,e,n){return n||(n=B),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}z.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(M(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,z.apply(this,arguments)}_(X,z,{handler:function(t){var e=Y[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",J="pointermove pointerup pointercancel";function tt(){this.evEl=Q,this.evWin=J,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Q="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),_(tt,z,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=K[i],s=Z[t.pointerType]||t.pointerType,o="touch"==s,a=O(e,t.pointerId,"pointerId");1&r&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):12&r&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),n&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,z.apply(this,arguments)}function it(t,e){var n=D(t.touches),i=D(t.changedTouches);return 12&e&&(n=A(n.concat(i),"identifier",!0)),[n,i]}_(nt,z,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=it.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function st(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},z.apply(this,arguments)}function ot(t,e){var n=D(t.touches),i=this.targetIds;if(3&e&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,s,o=D(t.changedTouches),a=[],l=this.target;if(s=n.filter((function(t){return E(t.target,l)})),1===e)for(r=0;r<s.length;)i[s[r].identifier]=!0,r++;for(r=0;r<o.length;)i[o[r].identifier]&&a.push(o[r]),12&e&&delete i[o[r].identifier],r++;return a.length?[A(s.concat(a),"identifier",!0),a]:void 0}function at(){z.apply(this,arguments);var t=w(this.handler,this);this.touch=new st(this.manager,t),this.mouse=new X(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function lt(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ct.call(this,e)):12&t&&ct.call(this,e)}function ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)}),2500)}}function ht(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],s=Math.abs(e-r.x),o=Math.abs(n-r.y);if(s<=25&&o<=25)return!0}return!1}_(st,z,{handler:function(t){var e=rt[t.type],n=ot.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),_(at,z,{handler:function(t,e,n){var i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)lt.call(this,e,n);else if(i&&ht.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ut=R(h.style,"touchAction"),dt=void 0!==ut,pt=function(){if(!dt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||r.CSS.supports("touch-action",n)})),t}();function ft(t,e){this.manager=t,this.set(e)}function mt(t){this.options=l({},this.defaults,t||{}),this.id=P++,this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function bt(){mt.apply(this,arguments)}function _t(){bt.apply(this,arguments),this.pX=null,this.pY=null}function wt(){bt.apply(this,arguments)}function xt(){mt.apply(this,arguments),this._timer=null,this._input=null}function Ct(){bt.apply(this,arguments)}function St(){bt.apply(this,arguments)}function kt(){mt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Et(t,e){return(e=e||{}).recognizers=C(e.recognizers,Et.defaults.preset),new It(t,e)}function It(t,e){var n;this.options=l({},Et.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(N?tt:F?st:L?at:X))(n,j),this.touchAction=new ft(this,this.options.touchAction),Tt(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Tt(t,e){var n,i=t.element;i.style&&(g(t.options.cssProps,(function(r,s){n=R(i.style,s),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}ft.prototype={set:function(t){"compute"==t&&(t=this.compute()),dt&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ut]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){x(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(I(t,"none"))return"none";var e=I(t,"pan-x"),n=I(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":I(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=I(i,"none")&&!pt.none,s=I(i,"pan-y")&&!pt["pan-y"],o=I(i,"pan-x")&&!pt["pan-x"];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!o||!s)return r||s&&6&n||o&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},mt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=O(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+gt(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+gt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!x(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},_(bt,mt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:32}}),_(_t,bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(6&e.direction?(r=0===s?1:s<0?2:4,n=s!=this.pX,i=Math.abs(t.deltaX)):(r=0===o?1:o<0?8:16,n=o!=this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},attrTest:function(t){return bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),_(wt,bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),_(xt,mt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!i||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),_(Ct,bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),_(St,bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _t.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&d(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),_(kt,mt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(i&&r&&n){if(4!=t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||W(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&s?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=f((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Et.VERSION="2.0.7",Et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ct,{enable:!1}],[wt,{enable:!1},["rotate"]],[St,{direction:6}],[_t,{direction:6},["swipe"]],[kt],[kt,{event:"doubletap",taps:2},["tap"]],[xt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},It.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var s=0;s<i.length;)n=i[s],2===e.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(r=e.curRecognizer=n),s++}},get:function(t){if(t instanceof mt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=O(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return g(T(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return g(T(t),(function(t){e?n[t]&&n[t].splice(O(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=s.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},destroy:function(){this.element&&Tt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Et,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:It,Input:z,TouchAction:ft,TouchInput:st,MouseInput:X,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:nt,Recognizer:mt,AttrRecognizer:bt,Tap:kt,Pan:_t,Swipe:St,Pinch:wt,Rotate:Ct,Press:xt,on:S,off:k,each:g,merge:b,extend:y,assign:l,inherit:_,bindFn:w,prefixed:R}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Et,void 0===(i=(function(){return Et}).call(e,n,e,t))||(t.exports=i)}(window,document)},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e),n("yLV6");let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const h=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(r))try{r.call(this)}catch(o){e=o instanceof h?d(o.errors):[o]}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof h?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new h(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends u{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new f(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}function y(...t){return b(t)}function b(t){return 0===t.length?v:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const x=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class C extends u{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends f{constructor(t){super(t),this.destination=t}}let k=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new S(this)}lift(t){const e=new E(this,this);return e.operator=t,e}next(t){if(this.closed)throw new x;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new x;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new x;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new x;return this.hasError?(t.error(this.thrownError),u.EMPTY):this.isStopped?(t.complete(),u.EMPTY):(this.observers.push(t),new C(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new E(t,e),t})();class E extends k{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):u.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}class T extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=D(),R=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function P(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const M=t=>{if(t&&"function"==typeof t[g])return i=t,t=>{const e=i[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(R(t))return O(t);if(P(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[A])return e=t,t=>{const n=e[A]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,i};function L(t,e,n,i,r=new T(t,n,i)){if(!r.closed)return e instanceof _?e.subscribe(r):M(e)(r)}class N extends f{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function F(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new B(t,e))}}class B{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new V(t,this.project,this.thisArg))}}class V extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function z(t,e){return new _(n=>{const i=new u;let r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function j(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new _(n=>{const i=new u;return i.add(e.schedule(()=>{const r=t[g]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(P(t))return function(t,e){return new _(n=>{const i=new u;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(R(t))return z(t,e);if(function(t){return t&&"function"==typeof t[A]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const i=new u;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[A](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(M(t))}function H(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(H((n,i)=>j(t(n,i)).pipe(F((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new U(t,n)))}class U{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new $(t,this.project,this.concurrent))}}class $ extends N{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new T(this,e,n),r=this.destination;r.add(i);const s=L(this,t,void 0,void 0,i);s!==i&&r.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(t=Number.POSITIVE_INFINITY){return H(v,t)}function W(t,e){return e?z(t,e):new _(O(t))}function G(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return I(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:q(e)(W(t,n))}function Y(){return function(t){return t.lift(new X(t))}}class X{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new K(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class K extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Z extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new u,t.add(this.source.subscribe(new J(this.getSubject(),this))),t.closed&&(this._connection=null,t=u.EMPTY)),t}refCount(){return Y()(this)}}const Q=(()=>{const t=Z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class J extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function tt(t,e){return function(n){let i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new et(i,e));const r=Object.create(n,Q);return r.source=n,r.subjectFactory=i,r}}class et{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r}}function nt(){return new k}function it(){return t=>Y()(tt(nt)(t))}function rt(t){return{toString:t}.toString()}function st(t,e,n){return rt(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const ot=st("Inject",t=>({token:t})),at=st("Optional"),lt=st("Self"),ct=st("SkipSelf");var ht=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ut(t){for(let e in t)if(t[e]===ut)return e;throw Error("Could not find renamed property on target object.")}function dt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ft(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function mt(t){return gt(t,t[yt])||gt(t,t[wt])}function gt(t,e){return e&&e.token===t?e:null}function vt(t){return t&&(t.hasOwnProperty(bt)||t.hasOwnProperty(xt))?t[bt]:null}const yt=ut({"\u0275prov":ut}),bt=ut({"\u0275inj":ut}),_t=ut({"\u0275provFallback":ut}),wt=ut({ngInjectableDef:ut}),xt=ut({ngInjectorDef:ut});function Ct(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ct).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function St(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const kt=ut({__forward_ref__:ut});function Et(t){return t.__forward_ref__=Et,t.toString=function(){return Ct(this())},t}function It(t){return Tt(t)?t():t}function Tt(t){return"function"==typeof t&&t.hasOwnProperty(kt)&&t.__forward_ref__===Et}const Ot="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Rt="undefined"!=typeof global&&global,Pt=Ot||Rt||Dt||At,Mt=ut({"\u0275cmp":ut}),Lt=ut({"\u0275dir":ut}),Nt=ut({"\u0275pipe":ut}),Ft=ut({"\u0275mod":ut}),Bt=ut({"\u0275loc":ut}),Vt=ut({"\u0275fac":ut}),zt=ut({__NG_ELEMENT_ID__:ut});class jt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ht=new jt("INJECTOR",-1),Ut={},$t=/\n/gm,qt=ut({provide:String,useValue:ut});let Wt,Gt=void 0;function Yt(t){const e=Gt;return Gt=t,e}function Xt(t){const e=Wt;return Wt=t,e}function Kt(t,e=ht.Default){if(void 0===Gt)throw new Error("inject() must be called from an injection context");return null===Gt?Jt(t,void 0,e):Gt.get(t,e&ht.Optional?null:void 0,e)}function Zt(t,e=ht.Default){return(Wt||Kt)(It(t),e)}const Qt=Zt;function Jt(t,e,n){const i=mt(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ht.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${Ct(t)}]`)}function te(t){const e=[];for(let n=0;n<t.length;n++){const i=It(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=ht.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof at||"Optional"===r.ngMetadataName||r===at?n|=ht.Optional:r instanceof ct||"SkipSelf"===r.ngMetadataName||r===ct?n|=ht.SkipSelf:r instanceof lt||"Self"===r.ngMetadataName||r===lt?n|=ht.Self:t=r instanceof ot||r===ot?r.token:r}e.push(Zt(t,n))}else e.push(Zt(i))}return e}class ee{get(t,e=Ut){if(e===Ut){const e=new Error(`NullInjectorError: No provider for ${Ct(t)}!`);throw e.name="NullInjectorError",e}return e}}class ne{}class ie{}function re(t,e){t.forEach(t=>Array.isArray(t)?re(t,e):e(t))}function se(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function oe(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ae(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function le(t,e,n){let i=he(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function ce(t,e){const n=he(t,e);if(n>=0)return t[1|n]}function he(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const ue=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),de=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),pe={},fe=[];let me=0;function ge(t){return rt(()=>{const e=t.type,n=e.prototype,i={},r={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===ue.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||de.Emulated,id:"c",styles:t.styles||fe,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return r.id+=me++,r.inputs=we(t.inputs,i),r.outputs=we(t.outputs),o&&o.forEach(t=>t(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(ve):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(ye):null,r})}function ve(t){return Se(t)||function(t){return t[Lt]||null}(t)}function ye(t){return function(t){return t[Nt]||null}(t)}const be={};function _e(t){const e={type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&rt(()=>{be[t.id]=t.type}),e}function we(t,e){if(null==t)return pe;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const xe=ge;function Ce(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Se(t){return t[Mt]||null}function ke(t,e){return t.hasOwnProperty(Vt)?t[Vt]:null}function Ee(t,e){const n=t[Ft]||null;if(!n&&!0===e)throw new Error(`Type ${Ct(t)} does not have '\u0275mod' property.`);return n}function Ie(t){return Array.isArray(t)&&"object"==typeof t[1]}function Te(t){return Array.isArray(t)&&!0===t[1]}function Oe(t){return 0!=(8&t.flags)}function De(t){return 2==(2&t.flags)}function Ae(t){return 1==(1&t.flags)}function Re(t){return null!==t.template}function Pe(t){return 0!=(512&t[2])}let Me=void 0;function Le(){return void 0!==Me?Me:"undefined"!=typeof document?document:void 0}function Ne(t){return!!t.listen}const Fe={createRenderer:(t,e)=>Le()};function Be(t){for(;Array.isArray(t);)t=t[0];return t}function Ve(t,e){return Be(e[t+19])}function ze(t,e){return Be(e[t.index])}function je(t,e){return t.data[e+19]}function He(t,e){return t[e+19]}function Ue(t,e){const n=e[t];return Ie(n)?n:n[0]}function $e(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function qe(t){return 4==(4&t[2])}function We(t){return 128==(128&t[2])}function Ge(t,e){return null===t||null==e?null:t[e]}function Ye(t){t[18]=0}const Xe={lFrame:vn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ke(){return Xe.bindingsEnabled}function Ze(){return Xe.lFrame.lView}function Qe(){return Xe.lFrame.tView}function Je(t){Xe.lFrame.contextLView=t}function tn(){return Xe.lFrame.previousOrParentTNode}function en(t,e){Xe.lFrame.previousOrParentTNode=t,Xe.lFrame.isParent=e}function nn(){return Xe.lFrame.isParent}function rn(){Xe.lFrame.isParent=!1}function sn(){return Xe.checkNoChangesMode}function on(t){Xe.checkNoChangesMode=t}function an(){const t=Xe.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ln(){return Xe.lFrame.bindingIndex}function cn(){return Xe.lFrame.bindingIndex++}function hn(t){const e=Xe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function un(t,e){const n=Xe.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function dn(){return Xe.lFrame.currentQueryIndex}function pn(t){Xe.lFrame.currentQueryIndex=t}function fn(t,e){const n=gn();Xe.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function mn(t,e){const n=gn(),i=t[1];Xe.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex}function gn(){const t=Xe.lFrame,e=null===t?null:t.child;return null===e?vn(t):e}function vn(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function yn(){const t=Xe.lFrame;return Xe.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const bn=yn;function _n(){const t=yn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function wn(){return Xe.lFrame.selectedIndex}function xn(t){Xe.lFrame.selectedIndex=t}function Cn(){const t=Xe.lFrame;return je(t.tView,t.selectedIndex)}function Sn(){Xe.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function kn(){Xe.lFrame.currentNamespace=null}function En(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function In(t,e,n){Dn(t,e,3,n)}function Tn(t,e,n,i){(3&t[2])===n&&Dn(t,e,n,i)}function On(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function Dn(t,e,n,i){const r=null!=i?i:-1;let s=0;for(let o=void 0!==i?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=i&&s>=i)break}else e[o]<0&&(t[18]+=65536),(s<r||-1==r)&&(An(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function An(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,s.call(o)):s.call(o)}class Rn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Pn(t,e,n){const i=Ne(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];Ln(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Mn(t){return 3===t||4===t||6===t}function Ln(t){return 64===t.charCodeAt(0)}function Nn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||Fn(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function Fn(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function Bn(t){return-1!==t}function Vn(t){return 32767&t}function zn(t){return t>>16}function jn(t,e){let n=zn(t),i=e;for(;n>0;)i=i[15],n--;return i}function Hn(t){return"string"==typeof t?t:null==t?"":""+t}function Un(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Hn(t)}const $n=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pt))();function qn(t){return{name:"window",target:t.ownerDocument.defaultView}}function Wn(t){return{name:"body",target:t.ownerDocument.body}}function Gn(t){return t instanceof Function?t():t}let Yn=!0;function Xn(t){const e=Yn;return Yn=t,e}let Kn=0;function Zn(t,e){const n=Jn(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Qn(i.data,t),Qn(e,null),Qn(i.blueprint,null));const r=ti(t,e),s=t.injectorIndex;if(Bn(r)){const t=Vn(r),n=jn(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function Qn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Jn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function ti(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],i=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function ei(t,e,n){!function(t,e,n){let i="string"!=typeof n?n[zt]:n.charCodeAt(0)||0;null==i&&(i=n[zt]=Kn++);const r=255&i,s=1<<r,o=64&r,a=32&r,l=e.data;128&r?o?a?l[t+7]|=s:l[t+6]|=s:a?l[t+5]|=s:l[t+4]|=s:o?a?l[t+3]|=s:l[t+2]|=s:a?l[t+1]|=s:l[t]|=s}(t,e,n)}function ni(t,e,n,i=ht.Default,r){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[zt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof r){fn(e,t);try{const t=r();if(null!=t||i&ht.Optional)return t;throw new Error(`No provider for ${Un(n)}!`)}finally{bn()}}else if("number"==typeof r){if(-1===r)return new ci(t,e);let s=null,o=Jn(t,e),a=-1,l=i&ht.Host?e[16][6]:null;for((-1===o||i&ht.SkipSelf)&&(a=-1===o?ti(t,e):e[o+8],li(i,!1)?(s=e[1],o=Vn(a),e=jn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(ai(r,o,t.data)){const t=ri(o,e,n,s,i,l);if(t!==ii)return t}li(i,e[1].data[o+8]===l)&&ai(r,o,e)?(s=t,o=Vn(a),e=jn(a,e)):o=-1}}}if(i&ht.Optional&&void 0===r&&(r=null),0==(i&(ht.Self|ht.Host))){const t=e[9],s=Xt(void 0);try{return t?t.get(n,r,i&ht.Optional):Jt(n,r,i&ht.Optional)}finally{Xt(s)}}if(i&ht.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${Un(n)}]`)}const ii={};function ri(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],l=si(a,o,n,null==i?De(a)&&Yn:i!=o&&3===a.type,r&ht.Host&&s===a);return null!==l?oi(e,o,l,a):ii}function si(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=65535&s,l=t.directiveStart,c=s>>16,h=r?a+c:t.directiveEnd;for(let u=i?a:a+c;u<h;u++){const t=o[u];if(u<l&&n===t||u>=l&&t.type===n)return u}if(r){const t=o[l];if(t&&Re(t)&&t.type===n)return l}return null}function oi(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof Rn){const o=r;if(o.resolving)throw new Error(`Circular dep for ${Un(s[n])}`);const a=Xn(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=Xt(o.injectImpl)),fn(t,i);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{onChanges:i,onInit:r,doCheck:s}=e;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&Xt(l),Xn(a),o.resolving=!1,bn()}}return r}function ai(t,e,n){const i=64&t,r=32&t;let s;return s=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(s&1<<t)}function li(t,e){return!(t&ht.Self||t&ht.Host&&e)}class ci{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return ni(this._tNode,this._lView,t,void 0,e)}}function hi(t){return rt(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Vt]||function t(e){const n=e;if(Tt(e))return()=>{const e=t(It(n));return e?e():null};let i=ke(n);if(null===i){const t=vt(n);i=t&&t.factory}return i||null}(e);return null!==n?n:t=>new t})}function ui(t){return t.ngDebugContext}function di(t){return t.ngOriginalError}function pi(t,...e){t.error(...e)}class fi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||pi}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ui(t)?ui(t):this._findContext(di(t)):null}_findOriginalError(t){let e=di(t);for(;e&&di(e);)e=di(e);return e}}class mi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class gi extends mi{getTypeName(){return"HTML"}}class vi extends mi{getTypeName(){return"Style"}}class yi extends mi{getTypeName(){return"Script"}}class bi extends mi{getTypeName(){return"URL"}}class _i extends mi{getTypeName(){return"ResourceURL"}}function wi(t){return t instanceof mi?t.changingThisBreaksApplicationSecurity:t}function xi(t,e){const n=Ci(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Ci(t){return t instanceof mi&&t.getTypeName()||null}let Si=!0,ki=!1;function Ei(){return ki=!0,Si}class Ii{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ti=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Oi=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Di(t){return(t=String(t)).match(Ti)||t.match(Oi)?t:(Ei()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Ai(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Ri(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Pi=Ai("area,br,col,hr,img,wbr"),Mi=Ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Li=Ai("rp,rt"),Ni=Ri(Li,Mi),Fi=Ri(Pi,Ri(Mi,Ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ri(Li,Ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ni),Bi=Ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vi=Ai("srcset"),zi=Ri(Bi,Vi,Ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ji=Ai("script,style,template");class Hi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Fi.hasOwnProperty(e))return this.sanitizedSomething=!0,!ji.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,s=e.toLowerCase();if(!zi.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Bi[s]&&(o=Di(o)),Vi[s]&&(i=o,o=(i=String(i)).split(",").map(t=>Di(t.trim())).join(", ")),this.buf.push(" ",e,'="',qi(o),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Fi.hasOwnProperty(e)&&!Pi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(qi(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ui=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$i=/([^\#-~ |!])/g;function qi(t){return t.replace(/&/g,"&amp;").replace(Ui,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace($i,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wi;function Gi(t,e){let n=null;try{Wi=Wi||new Ii(t);let i=e?String(e):"";n=Wi.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Wi.getInertBodyElement(i)}while(i!==s);const o=new Hi,a=o.sanitizeChildren(Yi(n)||n);return Ei()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Yi(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Yi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Xi=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Ki=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Zi=/^url\(([^)]+)\)$/;function Qi(t){if(!(t=String(t).trim()))return"";const e=t.match(Zi);return e&&Di(e[1])===e[1]||t.match(Ki)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Ei()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function Ji(t){const e=rr();return e?e.sanitize(Xi.HTML,t)||"":xi(t,"HTML")?wi(t):Gi(Le(),Hn(t))}function tr(t){const e=rr();return e?e.sanitize(Xi.STYLE,t)||"":xi(t,"Style")?wi(t):Qi(Hn(t))}function er(t){const e=rr();return e?e.sanitize(Xi.URL,t)||"":xi(t,"URL")?wi(t):Di(Hn(t))}const nr=function(t,e,n){if(void 0===e&&void 0===n)return tr(t);let i=!0;return 1&(n=n||3)&&(i=ir(t)),2&n?i?tr(e):wi(e):i};function ir(t){return"background-image"===t||"backgroundImage"===t||"background"===t||"border-image"===t||"borderImage"===t||"border-image-source"===t||"borderImageSource"===t||"filter"===t||"list-style"===t||"listStyle"===t||"list-style-image"===t||"listStyleImage"===t||"clip-path"===t||"clipPath"===t}function rr(){const t=Ze();return t&&t[12]}function sr(t,e){t.__ngContext__=e}function or(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function ar(){throw new Error("Cannot mix multi providers and regular providers")}function lr(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function cr(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==lr(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function hr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function ur(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Mn(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!hr(t,l,n)||""===l&&1===e.length){if(dr(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!cr(t.attrs,c,n)){if(dr(i))return!1;o=!0}continue}const h=pr(8&i?"class":l,r,0==t.type&&"ng-template"!==t.tagName,n);if(-1===h){if(dr(i))return!1;o=!0;continue}if(""!==c){let t;t=h>s?"":r[h+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==lr(e,c,0)||2&i&&c!==t){if(dr(i))return!1;o=!0}}}}else{if(!o&&!dr(i)&&!dr(l))return!1;if(o&&dr(l))continue;o=!1,i=l|1&i}}return dr(i)||o}function dr(t){return 0==(1&t)}function pr(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function fr(t,e,n=!1){for(let i=0;i<e.length;i++)if(ur(t,e[i],n))return!0;return!1}function mr(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function gr(t,e){return t?":not("+e.trim()+")":e}function vr(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||dr(o)||(e+=gr(s,r),r=""),i=o,s=s||!dr(i);n++}return""!==r&&(e+=gr(s,r)),e}const yr={};function br(t){const e=t[3];return Te(e)?e[3]:e}function _r(t){wr(Qe(),Ze(),wn()+t,sn())}function wr(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&In(e,i,n)}else{const i=t.preOrderHooks;null!==i&&Tn(e,i,0,n)}xn(n)}function xr(t,e){return t<<17|e<<2}function Cr(t){return t>>17&32767}function Sr(t){return 2|t}function kr(t){return(131068&t)>>2}function Er(t,e){return-131069&t|e<<2}function Ir(t){return 1|t}function Tr(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];pn(r),n.contentQueries(2,e[s],s)}}}function Or(t,e,n){return Ne(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Dr(t,e,n,i,r,s,o,a,l,c){const h=e.blueprint.slice();return h[0]=r,h[2]=140|i,Ye(h),h[3]=h[15]=t,h[8]=n,h[10]=o||t&&t[10],h[11]=a||t&&t[11],h[12]=l||t&&t[12]||null,h[9]=c||t&&t[9]||null,h[6]=s,h[16]=2==e.type?t[16]:h,h}function Ar(t,e,n,i,r,s){const o=n+19,a=t.data[o]||function(t,e,n,i,r,s){const o=tn(),a=nn(),l=a?o:o&&o.parent,c=t.data[n]=jr(0,l&&l!==e?l:null,i,n,r,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,i,r,s);return en(a,!0),a}function Rr(t,e,n){mn(e,e[6]);try{const i=t.viewQuery;null!==i&&hs(1,i,n);const r=t.template;null!==r&&Lr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Tr(t,e),t.staticViewQueries&&hs(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ss(t,e[n])}(e,s)}finally{e[2]&=-5,_n()}}function Pr(t,e,n,i){const r=e[2];if(256==(256&r))return;mn(e,e[6]);const s=sn();try{Ye(e),Xe.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Lr(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&In(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Tn(e,n,0,null),On(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Te(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],i=n[1];We(n)&&Pr(i,n,i.template,n[8])}0!=(1&n)&&is(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&Tr(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&In(e,n)}else{const n=t.contentHooks;null!==n&&Tn(e,n,1),On(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let i=t.expandoStartIndex,r=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,xn(s),i+=9+n[++t],r=i):i+=o:(null!==o&&(un(i,r),o(2,e[r])),r++)}}}finally{xn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)rs(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&hs(2,l,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&In(e,n)}else{const n=t.viewHooks;null!==n&&Tn(e,n,2),On(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73)}finally{_n()}}function Mr(t,e,n,i){const r=e[10],s=!sn(),o=qe(e);try{s&&!o&&r.begin&&r.begin(),o&&Rr(t,e,i),Pr(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function Lr(t,e,n,i,r){const s=wn();try{xn(-1),2&i&&e.length>19&&wr(t,e,0,sn()),n(i,r)}finally{xn(s)}}function Nr(t,e,n){if(Oe(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Fr(t,e,n){Ke()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Zn(n,e),sr(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=Re(i);s&&Jr(e,n,i);const l=oi(e,t,a,n);sr(l,e),null!==o&&ts(0,a-r,l,i,0,o),s&&(Ue(n.index,e)[8]=l)}}(t,e,n,ze(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-19;try{xn(a);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?Gr(i,r):o&&s.push(null)}}finally{xn(-1)}}(t,e,n))}function Br(t,e,n=ze){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Vr(t){return t.tView||(t.tView=zr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function zr(t,e,n,i,r,s,o,a,l,c){const h=19+i,u=h+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:yr);return n}(h,u);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c}}function jr(t,e,n,i,r,s){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Hr(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Ur(t,e,n,i,r,s,o,a){const l=ze(e,n);let c,h=e.inputs;var u;!a&&null!=h&&(c=h[i])?(gs(t,n,c,i,r),De(e)&&function(t,e){const n=Ue(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=o?o(r,e.tagName||"",i):r,Ne(s)?s.setProperty(l,i,r):Ln(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function $r(t,e,n,i){let r=!1;if(Ke()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];fr(n,o.selectors,!1)&&(r||(r=[]),ei(Zn(n,e),t,o.type),Re(o)?(2&n.flags&&or(n),Xr(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){let i=0;r=!0,Zr(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}Yr(t,n,s.length);let a=!1,l=!1;for(let r=0;r<s.length;r++){const c=s[r];n.mergedAttrs=Nn(n.mergedAttrs,c.hostAttrs),Qr(t,e,c),Kr(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),l||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),l=!0),qr(t,c),i+=c.hostVars}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],e=t.inputs;s.push(null!==r?es(e,r):null),o=Hr(e,l,o),a=Hr(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),Wr(t,e,i)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new Error(`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=Nn(n.mergedAttrs,n.attrs),r}function qr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Wr(t,e,n){for(let i=0;i<n;i++)e.push(yr),t.blueprint.push(yr),t.data.push(null)}function Gr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Yr(t,e,n){const i=19-e.index,r=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,r,n)}function Xr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Kr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Re(e)&&(n[""]=t)}}function Zr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Qr(t,e,n){t.data.push(n);const i=n.factory||(n.factory=ke(n.type)),r=new Rn(i,Re(n),null);t.blueprint.push(r),e.push(r)}function Jr(t,e,n){const i=ze(e,t),r=Vr(n),s=t[10],o=os(t,Dr(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n)));t[e.index]=o}function ts(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function es(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function ns(t,e,n,i){return new Array(t,!0,-2,e,null,null,i,n,null)}function is(t,e){const n=t[5];for(let i=0;i<n.length;i++){const t=n[i],r=t[3][3][16];if(r!==e&&0==(16&r[2])){const e=t[1];Pr(e,t,e.template,t[8])}}}function rs(t,e){const n=Ue(e,t);if(We(n)&&80&n[2]){const t=n[1];Pr(t,n,t.template,n[8])}}function ss(t,e){const n=Ue(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Rr(i,n,n[8])}function os(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function as(t){for(;t;){t[2]|=64;const e=br(t);if(Pe(t)&&!e)return t;t=e}return null}function ls(t,e,n){const i=e[10];i.begin&&i.begin();try{Pr(t,e,t.template,n)}catch(r){throw ms(e,r),r}finally{i.end&&i.end()}}function cs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=$e(n),r=i[1];Mr(r,i,r.template,n)}}(t[8])}function hs(t,e,n){pn(0),e(t,n)}const us=(()=>Promise.resolve(null))();function ds(t){return t[7]||(t[7]=[])}function ps(t){return t.cleanup||(t.cleanup=[])}function fs(t,e){return function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[t.index])[11]}function ms(t,e){const n=t[9],i=n?n.get(fi,null):null;i&&i.handleError(e)}function gs(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function vs(t,e,n){const i=Ve(e,t),r=t[11];Ne(r)?r.setValue(i,n):i.textContent=n}function ys(t,e){const n=e[3];return-1===t.index?Te(n)?n:null:n}function bs(t,e){const n=ys(t,e);return n?As(e[11],n[7]):null}function _s(t,e,n,i,r){if(null!=i){let s,o=!1;Te(i)?s=i:Ie(i)&&(o=!0,i=i[0]);const a=Be(i);0===t&&null!==n?null==r?Os(e,n,a):Ts(e,n,a,r||null):1===t&&null!==n?Ts(e,n,a,r||null):2===t?function(t,e,n){const i=As(t,e);i&&function(t,e,n,i){Ne(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==Be(n)&&_s(e,t,i,s,r);for(let o=9;o<n.length;o++){const r=n[o];Ns(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function ws(t,e,n,i){const r=bs(t.node,e);r&&Ns(t,e,e[11],n?1:2,r,i)}function xs(t,e){const n=t[5],i=n.indexOf(e);n.splice(i,1)}function Cs(t,e){if(t.length<=9)return;const n=9+e,i=t[n];if(i){const r=i[17];null!==r&&r!==t&&xs(r,i),e>0&&(t[n-1][4]=i[4]);const s=oe(t,9+e);ws(i[1],i,!1,null);const o=s[5];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Ss(t,e){if(!(256&e[2])){const n=e[11];Ne(n)&&n.destroyNode&&Ns(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Es(t[1],t);for(;e;){let n=null;if(Ie(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ie(e)&&Es(e[1],e),e=ks(e,t);null===e&&(e=t),Ie(e)&&Es(e[1],e),n=e&&e[4]}e=n}}(e)}}function ks(t,e){let n;return Ie(t)&&(n=t[6])&&2===n.type?ys(n,t):t[3]===e?null:t[3]}function Es(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof Rn)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const r=n[i+1],s="function"==typeof r?r(e):Be(e[r]),o=t[n[i+2]],a=n[i+3];"boolean"==typeof a?s.removeEventListener(n[i],o,a):a>=0?t[a]():t[-a].unsubscribe(),i+=2}else n[i].call(t[n[i+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Ne(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&Te(e[3])){i!==e[3]&&xs(i,e);const n=e[5];null!==n&&n.detachView(t)}}}function Is(t,e,n){let i=e.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){const t=n[6];return 2===t.type?bs(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return ze(e,n).parentNode;if(2&i.flags){const e=t.data,n=e[e[i.index].directiveStart].encapsulation;if(n!==de.ShadowDom&&n!==de.Native)return null}return ze(i,n)}function Ts(t,e,n,i){Ne(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function Os(t,e,n){Ne(t)?t.appendChild(e,n):e.appendChild(n)}function Ds(t,e,n,i){null!==i?Ts(t,e,n,i):Os(t,e,n)}function As(t,e){return Ne(t)?t.parentNode(e):e.parentNode}function Rs(t,e){if(2===t.type){const n=ys(t,e);return null===n?null:Ms(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?ze(t,e):null}function Ps(t,e,n,i){const r=Is(t,i,e);if(null!=r){const t=e[11],s=Rs(i.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Ds(t,r,n[e],s);else Ds(t,r,n,s)}}function Ms(t,e){const n=9+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){const i=n.type;if(3===i)return ze(n,e);if(0===i)return Ms(-1,e[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return t(e,i);{const t=e[n.index];return Te(t)?Ms(-1,t):Be(t)}}{const i=e[16],r=i[6],s=br(i),o=r.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,i)}return e[7]}function Ls(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;o&&0===e&&(a&&sr(Be(a),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(Ls(t,e,n.child,i,r,s,!1),_s(e,t,r,a,s)):1===l?Fs(t,e,i,n,r,s):_s(e,t,r,a,s)),n=o?n.projectionNext:n.next}}function Ns(t,e,n,i,r,s){Ls(n,i,t.node.child,e,r,s,!1)}function Fs(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)_s(e,t,r,a[l],s);else Ls(t,e,a,o[3],r,s,!0)}function Bs(t,e,n){Ne(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Vs(t,e,n){Ne(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class zs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,i,r,s=!1){for(;null!==i;){const o=n[i.index];if(null!==o&&r.push(Be(o)),Te(o))for(let e=9;e<o.length;e++){const n=o[e],i=n[1].firstChild;null!==i&&t(n[1],n,i,r)}const a=i.type;if(4===a||5===a)t(e,n,i.child,r);else if(1===a){const e=n[16],s=e[6],o=br(e);let a=s.projection[i.projection];null!==a&&null!==o&&t(o[1],o,a,r,!0)}i=s?i.projectionNext:i.next}return r}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ss(this._lView[1],this._lView)}onDestroy(t){var e,n,i;e=this._lView[1],i=t,ds(n=this._lView).push(i),e.firstCreatePass&&ps(e).push(n[7].length-1,null)}markForCheck(){as(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ls(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){on(!0);try{ls(t,e,n)}finally{on(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Ns(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class js extends zs{constructor(t){super(t),this._view=t}detectChanges(){cs(this._view)}checkNoChanges(){!function(t){on(!0);try{cs(t)}finally{on(!1)}}(this._view)}get context(){return null}}let Hs,Us,$s;function qs(t,e,n){return Hs||(Hs=class extends t{}),new Hs(ze(e,n))}function Ws(t,e,n,i){return Us||(Us=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Dr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[5];null!==i&&(n[5]=i.createEmbeddedView(e)),Rr(e,n,t);const r=new zs(n);return r._tViewNode=n[6],r}}),0===n.type?new Us(i,n,qs(e,n,i)):null}function Gs(t,e,n,i){let r;$s||($s=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return qs(e,this._hostTNode,this._hostView)}get injector(){return new ci(this._hostTNode,this._hostView)}get parentInjector(){const t=ti(this._hostTNode,this._hostView),e=jn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let i=zn(t),r=e,s=e[6];for(;i>1;)r=r[15],s=r[6],i--;return s}(t,this._hostView,this._hostTNode);return Bn(t)&&null!=n?new ci(n,e):new ci(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(ne,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Te(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new $s(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e);return function(t,e,n,i){const r=9+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-9?(e[4]=n[r],se(n,9+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[5],i=e[3][3][16];16!=(16&i[2])&&e[16]!==i&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(o,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(i,n,this._lContainer,r),ws(i,n,!0,Ms(r,this._lContainer)),t.attachToViewContainerRef(this),se(this._lContainer[8],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=Cs(t,e);n&&Ss(n[1],n)})(this._lContainer,e),oe(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Cs(this._lContainer,e);return n&&null!=oe(this._lContainer[8],e)?new zs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=i[n.index];if(Te(s))r=s,function(t,e){t[2]=-2}(r);else{let t;if(4===n.type)t=Be(s);else if(t=i[11].createComment(""),Pe(i)){const e=i[11],r=ze(n,i);Ts(e,As(e,r),t,function(t,e){return Ne(t)?t.nextSibling(e):e.nextSibling}(e,r))}else Ps(i[1],i,t,n);i[n.index]=r=ns(s,i,t,n),os(i,r)}return new $s(r,n,i)}function Ys(t=!1){return function(t,e,n){if(!n&&De(t)){const n=Ue(t.index,e);return new zs(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new zs(e[16],e):null}(tn(),Ze(),t)}let Xs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ks(),t})();const Ks=Ys,Zs=new jt("Set Injector scope."),Qs={},Js={},to=[];let eo=void 0;function no(){return void 0===eo&&(eo=new ee),eo}function io(t,e=null,n=null,i){return new ro(t,n,e||no(),i)}class ro{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&re(e,n=>this.processProvider(n,t,e)),re([t],t=>this.processInjectorType(t,[],r)),this.records.set(Ht,ao(void 0,this));const s=this.records.get(Zs);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:Ct(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ut,n=ht.Default){this.assertNotDestroyed();const i=Yt(this);try{if(!(n&ht.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof jt)&&mt(t);e=n&&this.injectableDefInScope(n)?ao(so(t),Qs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&ht.Self?no():this.parent).get(t,e=n&ht.Optional&&e===Ut?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(Ct(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=Ct(e);if(Array.isArray(e))r=e.map(Ct).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):Ct(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace($t,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Yt(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(Ct(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=It(t)))return!1;let i=vt(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=vt(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{re(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];re(i,t=>this.processProvider(t,n,i||to))}}this.injectorDefTypes.add(s),this.records.set(s,ao(i.factory,Qs));const a=i.providers;if(null!=a&&!o){const e=t;re(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=co(t=It(t))?t:It(t&&t.provide);const r=function(t,e,n){return lo(t)?ao(void 0,t.useValue):ao(oo(t,e,n),Qs)}(t,e,n);if(co(t)||!0!==t.multi){const t=this.records.get(i);t&&void 0!==t.multi&&ar()}else{let e=this.records.get(i);e?void 0===e.multi&&ar():(e=ao(void 0,Qs,!0),e.factory=()=>te(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===Js?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(Ct(t)):e.value===Qs&&(e.value=Js,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function so(t){const e=mt(t),n=null!==e?e.factory:ke(t);if(null!==n)return n;const i=vt(t);if(null!==i)return i.factory;if(t instanceof jt)throw new Error(`Token ${Ct(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ae(e,"?");throw new Error(`Can't resolve all parameters for ${Ct(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[yt]||t[wt]||t[_t]&&t[_t]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function oo(t,e,n){let i=void 0;if(co(t)){const e=It(t);return ke(e)||so(e)}if(lo(t))i=()=>It(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...te(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Zt(It(t.useExisting));else{const r=It(t&&(t.useClass||t.provide));if(r||function(t,e,n){let i="";throw t&&e&&(i=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${Ct(t)}'`+i)}(e,n,t),!function(t){return!!t.deps}(t))return ke(r)||so(r);i=()=>new r(...te(t.deps))}var r;return i}function ao(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lo(t){return null!==t&&"object"==typeof t&&qt in t}function co(t){return"function"==typeof t}const ho=function(t,e,n){return function(t,e=null,n=null,i){const r=io(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let uo=(()=>{class t{static create(t,e){return Array.isArray(t)?ho(t,e,""):ho(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Ut,t.NULL=new ee,t.\u0275prov=pt({token:t,providedIn:"any",factory:()=>Zt(Ht)}),t.__NG_ELEMENT_ID__=-1,t})();const po=new jt("AnalyzeForEntryComponents");let fo=new Map;const mo=new Set;function go(t){return"string"==typeof t?t:t.text()}function vo(t,e){let n=t.styles,i=t.classes,r=0;for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?r=t:1==r?i=St(i,t):2==r&&(n=St(n,t+": "+e[++s]+";"))}null!==n&&(t.styles=n),null!==i&&(t.classes=i)}let yo=null;function bo(){if(!yo){const t=Pt.Symbol;if(t&&t.iterator)yo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(yo=n)}}}return yo}function _o(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class wo{constructor(t){this.wrapped=t}static wrap(t){return new wo(t)}static unwrap(t){return wo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof wo}}function xo(t){return!!Co(t)&&(Array.isArray(t)||!(t instanceof Map)&&bo()in t)}function Co(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function So(t,e,n){return t[e]=n}function ko(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Eo(t,e,n,i){const r=ko(t,e,n);return ko(t,e+1,i)||r}function Io(t,e,n,i){const r=Ze();return ko(r,cn(),e)&&(Qe(),function(t,e,n,i,r,s){const o=ze(t,e),a=e[11];if(null==i)Ne(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==r?Hn(i):r(i,t.tagName||"",n);Ne(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Cn(),r,t,e,n,i)),Io}function To(t,e,n,i){return ko(t,cn(),n)?e+Hn(n)+i:yr}function Oo(t,e,n,i,r,s,o,a){const l=Ze(),c=Qe(),h=t+19,u=c.firstCreatePass?function(t,e,n,i,r,s,o,a,l){const c=e.consts,h=Ar(e,n[6],t,0,o||null,Ge(c,a));$r(e,n,h,Ge(c,l)),En(e,h);const u=h.tViews=zr(2,-1,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=jr(0,null,2,-1,null,null);return d.injectorIndex=h.injectorIndex,u.node=d,null!==e.queries&&(e.queries.template(e,h),u.queries=e.queries.embeddedTView(h)),h}(t,c,l,e,n,i,r,s,o):c.data[h];en(u,!1);const d=l[11].createComment("");Ps(c,l,d,u),sr(d,l),os(l,l[h]=ns(d,l,d,u)),Ae(u)&&Fr(c,l,u),null!=o&&Br(l,u,a)}function Do(t){return He(Xe.lFrame.contextLView,t)}function Ao(t,e=ht.Default){const n=Ze();return null==n?Zt(t,e):ni(tn(),n,It(t),e)}function Ro(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Mn(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(tn(),t)}function Po(){throw new Error("invalid")}function Mo(t,e,n){const i=Ze();return ko(i,cn(),e)&&Ur(Qe(),Cn(),i,t,e,i[11],n,!1),Mo}function Lo(t,e,n,i,r){const s=r?"class":"style";gs(t,n,e.inputs[s],s,i)}function No(t,e,n,i){const r=Ze(),s=Qe(),o=19+t,a=r[11],l=r[o]=Or(e,a,Xe.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,l=Ge(a,s),c=Ar(e,n[6],t,3,r,l);return $r(e,n,c,Ge(a,o)),null!==c.mergedAttrs&&vo(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,r,0,e,n,i):s.data[o];en(c,!0);const h=c.mergedAttrs;null!==h&&Pn(a,l,h);const u=c.classes;null!==u&&Vs(a,l,u);const d=c.styles;null!==d&&Bs(a,l,d),Ps(s,r,l,c),0===Xe.lFrame.elementDepthCount&&sr(l,r),Xe.lFrame.elementDepthCount++,Ae(c)&&(Fr(s,r,c),Nr(s,c,r)),null!==i&&Br(r,c)}function Fo(){let t=tn();nn()?rn():(t=t.parent,en(t,!1));const e=t;Xe.lFrame.elementDepthCount--;const n=Qe();n.firstCreatePass&&(En(n,t),Oe(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&Lo(n,e,Ze(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&Lo(n,e,Ze(),e.styles,!1)}function Bo(t,e,n,i){No(t,e,n,i),Fo()}function Vo(t,e,n){const i=Ze(),r=Qe(),s=t+19,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=Ge(s,i),a=Ar(e,n[6],t,4,"ng-container",o);return null!==o&&vo(a,o),$r(e,n,a,Ge(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,r,i,e,n):r.data[s];en(o,!0);const a=i[s]=i[11].createComment("");Ps(r,i,a,o),sr(a,i),Ae(o)&&(Fr(r,i,o),Nr(r,o,i)),null!=n&&Br(i,o)}function zo(){let t=tn();const e=Qe();nn()?rn():(t=t.parent,en(t,!1)),e.firstCreatePass&&(En(e,t),Oe(t)&&e.queries.elementEnd(t))}function jo(t,e,n){Vo(t,e,n),zo()}function Ho(){return Ze()}function Uo(t){return!!t&&"function"==typeof t.then}function $o(t){return!!t&&"function"==typeof t.subscribe}function qo(t,e,n=!1,i){const r=Ze(),s=Qe(),o=tn();return Go(s,r,r[11],o,t,e,n,i),qo}function Wo(t,e,n=!1,i){const r=tn(),s=Ze(),o=fs(r,s);return Go(Qe(),s,o,r,t,e,n,i),Wo}function Go(t,e,n,i,r,s,o=!1,a){const l=Ae(i),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),h=ds(e);let u=!0;if(3===i.type){const d=ze(i,e),p=a?a(d):pe,f=p.target||d,m=h.length,g=a?t=>a(Be(t[i.index])).target:i.index;if(Ne(n)){let o=null;if(!a&&l&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,u=!1;else{s=Xo(i,e,s,!1);const t=n.listen(p.name||f,r,s);h.push(s,t),c&&c.push(r,g,m,m+1)}}else s=Xo(i,e,s,!0),f.addEventListener(r,s,o),h.push(s),c&&c.push(r,g,m,o)}const d=i.outputs;let p;if(u&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=h.length;h.push(s,t),c&&c.push(r,i.index,o,-(o+1))}}}function Yo(t,e,n){try{return!1!==e(n)}catch(i){return ms(t,i),!1}}function Xo(t,e,n,i){return function r(s){if(s===Function)return n;const o=2&t.flags?Ue(t.index,e):e;0==(32&e[2])&&as(o);let a=Yo(e,n,s),l=r.__ngNextListenerFn__;for(;l;)a=Yo(e,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ko(t=1){return function(t){return(Xe.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Xe.lFrame.contextLView))[8]}(t)}function Zo(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?fr(t,s,!0):mr(i,s))return r}else n=r}return n}function Qo(t){const e=Ze()[16][6];if(!e.projection){const n=e.projection=ae(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?Zo(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function Jo(t,e=0,n){const i=Ze(),r=Qe(),s=Ar(r,i[6],t,1,null,n||null);null===s.projection&&(s.projection=e),rn(),function(t,e,n){Fs(e[11],0,e,n,Is(t,n,e),Rs(n.parent||e[6],e))}(r,i,s)}function ta(t,e,n){return ea(t,"",e,"",n),ta}function ea(t,e,n,i,r){const s=Ze(),o=To(s,e,n,i);return o!==yr&&Ur(Qe(),Cn(),s,t,o,s[11],r,!1),ea}const na=[];function ia(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?Cr(s):kr(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];ra(t[a],e)&&(l=!0,t[a+1]=i?Ir(n):Sr(n)),a=i?Cr(n):kr(n)}l&&(t[n+1]=i?Sr(s):Ir(s))}function ra(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&he(t,e)>=0}const sa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oa(t){return t.substring(sa.key,sa.keyEnd)}function aa(t){return t.substring(sa.value,sa.valueEnd)}function la(t,e){const n=sa.textEnd;return n===e?-1:(e=sa.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,sa.key=e,n),ua(t,e,n))}function ca(t,e){const n=sa.textEnd;let i=sa.key=ua(t,e,n);return n===i?-1:(i=sa.keyEnd=function(t,e,n){let i;for(;e<n&&(45===(i=t.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90);)e++;return e}(t,i,n),i=da(t,i,n),i=sa.value=ua(t,i,n),i=sa.valueEnd=function(t,e,n){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<n;){const l=t.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=pa(t,l,o,n):e===o-4&&85===s&&82===r&&76===i&&40===l?a=o=pa(t,41,o,n):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(t,i,n),da(t,i,n))}function ha(t){sa.key=0,sa.keyEnd=0,sa.value=0,sa.valueEnd=0,sa.textEnd=t.length}function ua(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function da(t,e,n,i){return(e=ua(t,e,n))<n&&e++,e}function pa(t,e,n,i){let r=-1,s=n;for(;s<i;){const n=t.charCodeAt(s++);if(n==e&&92!==r)return s;r=92==n&&92===r?0:n}throw new Error}function fa(t,e,n){return ba(t,e,n,!1),fa}function ma(t,e){return ba(t,e,null,!0),ma}function ga(t,e){for(let n=function(t){return ha(t),ca(t,ua(t,0,sa.textEnd))}(e);n>=0;n=ca(e,n))ka(t,oa(e),aa(e))}function va(t){_a(le,ya,t,!0)}function ya(t,e){for(let n=function(t){return ha(t),la(t,ua(t,0,sa.textEnd))}(e);n>=0;n=la(e,n))le(t,oa(e),!0)}function ba(t,e,n,i){const r=Ze(),s=Qe(),o=hn(2);if(s.firstUpdatePass&&xa(s,t,o,i),e!==yr&&ko(r,o,e)){let a;null==n&&(a=function(){const t=Xe.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),Ea(s,s.data[wn()+19],r,r[11],t,r[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=Ct(wi(t)))),t}(e,n),i,o)}}function _a(t,e,n,i){const r=Qe(),s=hn(2);r.firstUpdatePass&&xa(r,null,s,i);const o=Ze();if(n!==yr&&ko(o,s,n)){const a=r.data[wn()+19];if(Oa(a,i)&&!wa(r,s)){let t=i?a.classes:a.styles;null!==t&&(n=St(t,n||"")),Lo(r,a,o,n,i)}else!function(t,e,n,i,r,s,o,a){r===yr&&(r=na);let l=0,c=0,h=0<r.length?r[0]:null,u=0<s.length?s[0]:null;for(;null!==h||null!==u;){const d=l<r.length?r[l+1]:void 0,p=c<s.length?s[c+1]:void 0;let f=null,m=void 0;h===u?(l+=2,c+=2,d!==p&&(f=u,m=p)):null===u||null!==h&&h<u?(l+=2,f=h):(c+=2,f=u,m=p),null!==f&&Ea(t,e,n,i,f,m,o,a),h=l<r.length?r[l]:null,u=c<s.length?s[c]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return na;const i=[],r=wi(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,s)}}function wa(t,e){return e>=t.expandoStartIndex}function xa(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[wn()+19],o=wa(t,n);Oa(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=function(t){const e=Xe.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Sa(n=Ca(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=Ca(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==kr(i))return t[Cr(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=Ca(null,t,e,n[1],i),n=Sa(n,e.attrs,i),function(t,e,n,i){t[Cr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i=void 0;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Sa(i,t[s].hostAttrs,n);return Sa(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Cr(o),l=kr(o);t[i]=n;let c,h=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||he(t,c)>0)&&(h=!0)}else c=n;if(r)if(0!==l){const e=Cr(t[a+1]);t[i+1]=xr(e,a),0!==e&&(t[e+1]=Er(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=xr(a,0),0!==a&&(t[a+1]=Er(t[a+1],i)),a=i;else t[i+1]=xr(l,0),0===a?a=i:t[l+1]=Er(t[l+1],i),l=i;h&&(t[i+1]=Sr(t[i+1])),ia(t,c,i,!0),ia(t,c,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&he(s,e)>=0&&(n[i+1]=Ir(n[i+1]))}(e,c,t,i,s),o=xr(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function Ca(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=Sa(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function Sa(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),le(t,o,!!n||e[++s]))}return void 0===t?null:t}function ka(t,e,n){ir(e)&&(n=tr(n)),le(t,e,n)}function Ea(t,e,n,i,r,s,o,a){if(3!==e.type)return;const l=t.data,c=l[a+1];Ta(1==(1&c)?Ia(l,e,n,r,kr(c),o):void 0)||(Ta(s)||function(t){return 2==(2&t)}(c)&&(s=Ia(l,null,n,r,a,o)),function(t,e,n,i,r){const s=Ne(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{const e=-1==i.indexOf("-")?void 0:2;null==r?s?t.removeStyle(n,i,e):n.style.removeProperty(i):s?t.setStyle(n,i,r,e):n.style.setProperty(i,r)}}(i,o,Ve(wn(),n),r,s))}function Ia(t,e,n,i,r,s){const o=null===e;let a=void 0;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let h=n[r+1];h===yr&&(h=c?na:void 0);let u=c?ce(h,i):l===i?h:void 0;if(s&&!Ta(u)&&(u=ce(e,i)),Ta(u)&&(a=u,o))return a;const d=t[r+1];r=o?Cr(d):kr(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ce(t,i))}return a}function Ta(t){return void 0!==t}function Oa(t,e){return 0!=(t.flags&(e?16:32))}function Da(t,e=""){const n=Ze(),i=Qe(),r=t+19,s=i.firstCreatePass?Ar(i,n[6],t,3,null,null):i.data[r],o=n[r]=function(t,e){return Ne(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ps(i,n,o,s),en(s,!1)}function Aa(t){return Ra("",t,""),Aa}function Ra(t,e,n){const i=Ze(),r=To(i,t,e,n);return r!==yr&&vs(i,wn(),r),Ra}function Pa(t,e,n,i,r){const s=Ze(),o=function(t,e,n,i,r,s){const o=Eo(t,ln(),n,r);return hn(2),o?e+Hn(n)+i+Hn(r)+s:yr}(s,t,e,n,i,r);return o!==yr&&vs(s,wn(),o),Pa}function Ma(t,e,n,i,r,s,o){const a=Ze(),l=function(t,e,n,i,r,s,o,a){const l=function(t,e,n,i,r){const s=Eo(t,e,n,i);return ko(t,e+2,r)||s}(t,ln(),n,r,o);return hn(3),l?e+Hn(n)+i+Hn(r)+s+Hn(o)+a:yr}(a,t,e,n,i,r,s,o);return l!==yr&&vs(a,wn(),l),Ma}function La(t,e,n,i,r,s,o,a,l){const c=Ze(),h=function(t,e,n,i,r,s,o,a,l,c){const h=function(t,e,n,i,r,s){const o=Eo(t,e,n,i);return Eo(t,e+2,r,s)||o}(t,ln(),n,r,o,l);return hn(4),h?e+Hn(n)+i+Hn(r)+s+Hn(o)+a+Hn(l)+c:yr}(c,t,e,n,i,r,s,o,a,l);return h!==yr&&vs(c,wn(),h),La}function Na(t,e,n){_a(le,ya,To(Ze(),t,e,n),!0)}function Fa(t,e,n){const i=Ze();return ko(i,cn(),e)&&Ur(Qe(),Cn(),i,t,e,i[11],n,!0),Fa}function Ba(t,e,n){const i=Ze();if(ko(i,cn(),e)){const r=Qe(),s=Cn();Ur(r,s,i,t,e,fs(s,i),n,!0)}return Ba}function Va(t,e){const n=$e(t)[1],i=n.data.length-1;En(n,{directiveStart:i,directiveEnd:i+1})}function za(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r=void 0;if(Re(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=ja(t.inputs),e.declaredInputs=ja(t.declaredInputs),e.outputs=ja(t.outputs);const n=r.hostBindings;n&&$a(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&Ha(t,s),o&&Ua(t,o),dt(t.inputs,r.inputs),dt(t.declaredInputs,r.declaredInputs),dt(t.outputs,r.outputs),Re(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}e.afterContentChecked=e.afterContentChecked||r.afterContentChecked,e.afterContentInit=t.afterContentInit||r.afterContentInit,e.afterViewChecked=t.afterViewChecked||r.afterViewChecked,e.afterViewInit=t.afterViewInit||r.afterViewInit,e.doCheck=t.doCheck||r.doCheck,e.onDestroy=t.onDestroy||r.onDestroy,e.onInit=t.onInit||r.onInit}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===za&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Nn(r.hostAttrs,n=Nn(n,r.hostAttrs))}}(i)}function ja(t){return t===pe?{}:t===fe?[]:t}function Ha(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function Ua(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function $a(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}class qa{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Wa(t){t.type.prototype.ngOnChanges&&(t.setInput=Ga,t.onChanges=function(){const t=Ya(this),e=t&&t.current;if(e){const n=t.previous;if(n===pe)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Ga(t,e,n,i){const r=Ya(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:pe,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new qa(l&&l.currentValue,e,o===pe),t[i]=e}function Ya(t){return t.__ngSimpleChanges__||null}function Xa(t,e,n,i,r){if(t=It(t),Array.isArray(t))for(let s=0;s<t.length;s++)Xa(t[s],e,n,i,r);else{const s=Qe(),o=Ze();let a=co(t)?t:It(t.provide),l=oo(t);const c=tn(),h=65535&c.providerIndexes,u=c.directiveStart,d=c.providerIndexes>>16;if(co(t)||!t.multi){const i=new Rn(l,r,Ao),p=Qa(a,e,r?h:h+d,u);-1===p?(ei(Zn(c,o),s,a),Ka(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=Qa(a,e,h+d,u),f=Qa(a,e,h,h+d),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){ei(Zn(c,o),s,a);const h=function(t,e,n,i,r){const s=new Rn(t,n,Ao);return s.multi=[],s.index=e,s.componentProviders=0,Za(s,r,i&&!n),s}(r?tl:Ja,n.length,r,i,l);!r&&g&&(n[f].providerFactory=h),Ka(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(h),o.push(h)}else Ka(s,t,p>-1?p:f,Za(n[r?f:p],l,!r&&i));!r&&i&&g&&n[f].componentProviders++}}}function Ka(t,e,n,i){const r=co(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function Za(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Qa(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Ja(t,e,n,i){return el(this.multi,[])}function tl(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=oi(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),el(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],el(r,s);return s}function el(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function nl(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=Qe();if(i.firstCreatePass){const r=Re(t);Xa(n,i.data,i.blueprint,r,!0),Xa(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}Wa.ngInherit=!0;class il{}class rl{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${Ct(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let sl=(()=>{class t{}return t.NULL=new rl,t})(),ol=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>al(t),t})();const al=function(t){return qs(t,tn(),Ze())};class ll{}const cl=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let hl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ul(),t})();const ul=function(){const t=Ze(),e=Ue(tn().index,t);return function(t){const e=t[11];if(Ne(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ie(e)?e:t)};let dl=(()=>{class t{}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>null}),t})();class pl{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fl=new pl("9.1.1");class ml{constructor(){}supports(t){return xo(t)}create(t){return new vl(t)}}const gl=(t,e)=>e;class vl{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gl}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<wl(n,i,r)?e:n,o=wl(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xo(t))throw new Error(`Error trying to diff '${Ct(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&_o(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),_o(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[bo()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&_o(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),_o(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(_o(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(_o(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new yl(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new _l),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _l),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class yl{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bl{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&_o(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class _l{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new bl,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wl(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class xl{constructor(){}supports(t){return t instanceof Map||Co(t)}create(){return new Cl}}class Cl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Co(t)))throw new Error(`Error trying to diff '${Ct(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Sl(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){_o(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Sl{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let kl=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t([new ml])}),t})(),El=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ct,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new t([new xl])}),t})();const Il=[new xl],Tl=new kl([new ml]),Ol=new El(Il);let Dl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Al(t,ol),t})();const Al=function(t,e){return Ws(t,e,tn(),Ze())};let Rl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Pl(t,ol),t})();const Pl=function(t,e){return Gs(t,e,tn(),Ze())},Ml={};class Ll extends sl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Se(t);return new Bl(e,this.ngModule)}}function Nl(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Fl=new jt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$n});class Bl extends il{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(vr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Nl(this.componentDef.inputs)}get outputs(){return Nl(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,Ml,r);return s!==Ml||i===Ml?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(ll,Fe),o=r.get(dl,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ne(t))return t.selectRootElement(e,n===de.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Or(l,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,u="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:$n,clean:us,playerHandler:null,flags:0},p=zr(0,-1,null,1,0,null,null,null,null,null),f=Dr(null,p,d,h,null,null,s,a,o,r);let m,g;mn(f,null);try{const t=function(t,e,n,i,r,s){const o=n[1];n[19]=t;const a=Ar(o,null,0,3,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(vo(a,l),null!==t&&(Pn(r,t,l),null!==a.classes&&Vs(r,t,a.classes),null!==a.styles&&Bs(r,t,a.styles)));const c=i.createRenderer(t,e),h=Dr(n,Vr(e),null,e.onPush?64:16,n[19],a,i,c,void 0);return o.firstCreatePass&&(ei(Zn(a,n),o,e.type),Xr(o,a),Zr(a,n.length,1)),os(n,h),n[19]=h}(c,this.componentDef,f,s,a);if(c)if(n)Pn(a,c,["ng-version",fl.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!dr(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Pn(a,c,t),e&&e.length>0&&Vs(a,c,e.join(" "))}g=je(f[1],0),e&&(g.projection=e.map(t=>Array.from(t))),m=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=tn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Yr(t,i,1),Qr(t,e,n));const r=oi(e,t,e.length-1,i);sr(r,e);const s=ze(i,e);return s&&sr(s,e),r}(s,n,e);i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=tn();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){xn(a.index-19);const t=n[1];qr(t,e),Wr(t,n,e.hostVars),Gr(e,o)}return o}(t,this.componentDef,f,d,[Va]),Rr(p,f,null)}finally{_n()}const v=new Vl(this.componentType,m,qs(ol,g,f),f,g);return n&&!u||(v.hostView._tViewNode.child=g),v}}class Vl extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new js(i),this.hostView._tViewNode=function(t,e,n,i){let r=t.node;return null==r&&(t.node=r=jr(0,null,2,-1,null,null)),i[6]=r}(i[1],0,0,i),this.componentType=t}get injector(){return new ci(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const zl=void 0;var jl=["en",[["a","p"],["AM","PM"],zl],[["AM","PM"],zl,zl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zl,"{1} 'at' {0}",zl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Hl={};function Ul(t){return t in Hl||(Hl[t]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[t]),Hl[t]}const $l=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let ql="en-US";function Wl(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ql=t.toLowerCase().replace(/_/g,"-"))}const Gl=new Map;class Yl extends ne{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ll(this);const n=Ee(t),i=t[Bt]||null;i&&Wl(i),this._bootstrapComponents=Gn(n.bootstrap),this._r3Injector=io(t,e,[{provide:ne,useValue:this},{provide:sl,useValue:this.componentFactoryResolver}],Ct(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=uo.THROW_IF_NOT_FOUND,n=ht.Default){return t===uo||t===ne||t===Ht?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xl extends ie{constructor(t){super(),this.moduleType=t,null!==Ee(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${Ct(e)} vs ${Ct(e.name)}`)})(t,Gl.get(t),e),Gl.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Yl(this.moduleType,t)}}function Kl(t,e,n){const i=an()+t,r=Ze();return r[i]===yr?So(r,i,n?e.call(n):e()):function(t,e){return t[e]}(r,i)}function Zl(t,e,n,i,r){return function(t,e,n,i,r,s,o){const a=e+n;return Eo(t,a,r,s)?So(t,a+2,o?i.call(o,r,s):i(r,s)):Ql(t,a+2)}(Ze(),an(),t,e,n,i,r)}function Ql(t,e){const n=t[e];return n===yr?void 0:n}function Jl(t,e,n,i,r,s){const o=e+n;return ko(t,o,r)?So(t,o+1,s?i.call(s,r):i(r)):Ql(t,o+1)}function tc(t,e){const n=Qe();let i;const r=t+19;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=ke(i.type)),o=Xt(Ao),a=s();return Xt(o),function(t,e,n,i){const r=n+19;r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=i}(n,Ze(),t,a),a}function ec(t,e,n){const i=Ze(),r=He(i,t);return function(t,e){return wo.isWrapped(e)&&(e=wo.unwrap(e),t[ln()]=yr),e}(i,function(t,e){return t[1].data[e+19].pure}(i,t)?Jl(i,an(),e,r.transform,n,r):r.transform(n))}class nc extends k{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,r,s);return t instanceof u&&t.add(o),o}}function ic(){return this._results[bo()]()}class rc{constructor(){this.dirty=!0,this._results=[],this.changes=new nc,this.length=0;const t=bo(),e=rc.prototype;e[t]||(e[t]=ic)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class sc{constructor(t){this.queryList=t,this.matches=null}clone(){return new sc(this.queryList)}setDirty(){this.queryList.setDirty()}}class oc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new oc(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Cc(t,e).matches&&this.queries[e].setDirty()}}class ac{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class lc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new lc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class cc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new cc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let i=0;i<n.length;i++)this.matchTNodeWithReadOption(t,e,hc(e,n[i]))}else{const n=this.metadata.predicate;n===Dl?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,si(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===ol||i===Rl||i===Dl&&0===e.type)this.addMatch(e.index,-2);else{const n=si(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function hc(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function uc(t,e,n,i){return-1===n?function(t,e){return 3===t.type||4===t.type?qs(ol,t,e):0===t.type?Ws(Dl,ol,t,e):null}(e,t):-2===n?function(t,e,n){return n===ol?qs(ol,e,t):n===Dl?Ws(Dl,ol,e,t):n===Rl?Gs(Rl,ol,e,t):void 0}(t,e,i):oi(t,t[1],n,e)}function dc(t,e,n,i){const r=e[5].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:uc(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function pc(t){const e=Ze(),n=Qe(),i=dn();pn(i+1);const r=Cc(n,i);if(t.dirty&&qe(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?function t(e,n,i,r){const s=e.queries.getByIndex(i),o=s.matches;if(null!==o){const a=dc(e,n,s,i);for(let e=0;e<o.length;e+=2){const i=o[e];if(i>0)r.push(a[e/2]);else{const s=o[e+1],a=n[-i];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,r)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const i=e[n];t(i[1],i,s,r)}}}}}return r}(n,e,i,[]):dc(n,e,r,i);t.reset(s),t.notifyOnChanges()}return!0}return!1}function fc(t,e,n){gc(Qe(),Ze(),t,e,n,!0)}function mc(t,e,n){gc(Qe(),Ze(),t,e,n,!1)}function gc(t,e,n,i,r,s){t.firstCreatePass&&(xc(t,new ac(n,i,s,r),-1),s&&(t.staticViewQueries=!0)),wc(t,e)}function vc(t,e,n,i){bc(Qe(),Ze(),e,n,i,!1,tn(),t)}function yc(t,e,n,i){bc(Qe(),Ze(),e,n,i,!0,tn(),t)}function bc(t,e,n,i,r,s,o,a){t.firstCreatePass&&(xc(t,new ac(n,i,s,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),wc(t,e)}function _c(){return t=Ze(),e=dn(),t[5].queries[e].queryList;var t,e}function wc(t,e){const n=new rc;!function(t,e,n,i){const r=ds(e);r.push(n),t.firstCreatePass&&ps(t).push(i,r.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new oc),e[5].queries.push(new sc(n))}function xc(t,e,n){null===t.queries&&(t.queries=new lc),t.queries.track(new cc(e,n))}function Cc(t,e){return t.queries.getByIndex(e)}function Sc(t,e){return Ws(Dl,ol,t,e)}function kc(t=ht.Default){const e=Ys(!0);if(null!=e||t&ht.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Ec=new jt("Application Initializer");let Ic=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Uo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Zt(Ec,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Tc=new jt("AppId"),Oc={provide:Tc,useFactory:function(){return`${Dc()}${Dc()}${Dc()}`},deps:[]};function Dc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ac=new jt("Platform Initializer"),Rc=new jt("Platform ID"),Pc=new jt("appBootstrapListener");let Mc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Lc=new jt("LocaleId"),Nc=new jt("DefaultCurrencyCode");class Fc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Bc=function(t){return new Xl(t)},Vc=Bc,zc=function(t){return Promise.resolve(Bc(t))},jc=function(t){const e=Bc(t),n=Gn(Ee(t).declarations).reduce((t,e)=>{const n=Se(e);return n&&t.push(new Bl(n)),t},[]);return new Fc(e,n)},Hc=jc,Uc=function(t){return Promise.resolve(jc(t))};let $c=(()=>{class t{constructor(){this.compileModuleSync=Vc,this.compileModuleAsync=zc,this.compileModuleAndAllComponentsSync=Hc,this.compileModuleAndAllComponentsAsync=Uc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const qc=new jt("compilerOptions"),Wc=(()=>Promise.resolve(0))();function Gc(t){"undefined"==typeof Zone?Wc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Yc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nc(!1),this.onMicrotaskEmpty=new nc(!1),this.onStable=new nc(!1),this.onError=new nc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Pt.requestAnimationFrame,e=Pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pt,()=>{t.lastRequestAnimationFrameId=-1,Qc(t),Zc(t)}),Qc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,s,o,a)=>{try{return Jc(t),n.invokeTask(r,s,o,a)}finally{e&&"eventTask"===s.type&&e(),th(t)}},onInvoke:(e,n,i,r,s,o,a)=>{try{return Jc(t),e.invoke(i,r,s,o,a)}finally{th(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Qc(t),Zc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Yc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Kc,Xc,Xc);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Xc(){}const Kc={};function Zc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Qc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Jc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function th(t){t._nesting--,Zc(t)}class eh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nc,this.onMicrotaskEmpty=new nc,this.onStable=new nc,this.onError=new nc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let nh=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yc.assertNotInAngularZone(),Gc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Gc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Zt(Yc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),ih=(()=>{class t{constructor(){this._applications=new Map,oh.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return oh.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class rh{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let sh,oh=new rh,ah=function(t,e,n){const i=t.get(qc,[]).concat(e),r=new Xl(n);if(0===fo.size)return Promise.resolve(r);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(i.map(t=>t.providers));if(0===s.length)return Promise.resolve(r);const o=function(){const t=Pt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=uo.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function i(t){let e=n.get(t);if(!e){const i=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=i.then(go))}return e}return fo.forEach((t,n)=>{const r=[];t.templateUrl&&r.push(i(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),r.push(i(e).then(i=>{o[a+n]=i,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const l=Promise.all(r).then(()=>function(t){mo.delete(t)}(n));e.push(l)}),fo=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const lh=new jt("AllowMultipleToken");class ch{constructor(t,e){this.name=t,this.token=e}}function hh(t,e,n=[]){const i=`Platform: ${e}`,r=new jt(i);return(e=[])=>{let s=uh();if(!s||s.injector.get(lh,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:Zs,useValue:"platform"});!function(t){if(sh&&!sh.destroyed&&!sh.injector.get(lh,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");sh=t.get(dh);const e=t.get(Ac,null);e&&e.forEach(t=>t())}(uo.create({providers:t,name:i}))}return function(t){const e=uh();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function uh(){return sh&&!sh.destroyed?sh:null}let dh=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new eh:("zone.js"===t?void 0:t)||new Yc({enableLongStackTrace:Ei(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:Yc,useValue:n}];return n.run(()=>{const e=uo.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(fi,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>mh(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return Uo(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Ic);return t.runInitializers(),t.donePromise.then(()=>(Wl(r.injector.get(Lc,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=ph({},e);return ah(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(fh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Ct(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Zt(uo))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function ph(t,e){return Array.isArray(e)?e.reduce(ph,t):Object.assign(Object.assign({},t),e)}let fh=(()=>{class t{constructor(t,e,n,i,r,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ei(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Yc.assertNotInAngularZone(),Gc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Yc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=G(o,a.pipe(it()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof il?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(ne),r=n.create(uo.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(nh,null);return s&&r.injector.get(ih).registerApplication(r.location.nativeElement,s),this._loadComponent(r),Ei()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;mh(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Pc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),mh(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Zt(Yc),Zt(Mc),Zt(uo),Zt(fi),Zt(sl),Zt(Ic))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function mh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gh{}class vh{}const yh={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bh=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||yh}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>_h(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>_h(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(Zt($c),Zt(vh,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function _h(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const wh=hh(null,"core",[{provide:Rc,useValue:"unknown"},{provide:dh,deps:[uo]},{provide:ih,deps:[]},{provide:Mc,deps:[]}]),xh=[{provide:fh,useClass:fh,deps:[Yc,Mc,uo,fi,sl,Ic]},{provide:Fl,deps:[Yc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ic,useClass:Ic,deps:[[new at,Ec]]},{provide:$c,useClass:$c,deps:[]},Oc,{provide:kl,useFactory:function(){return Tl},deps:[]},{provide:El,useFactory:function(){return Ol},deps:[]},{provide:Lc,useFactory:function(t){return Wl(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new ot(Lc),new at,new ct]]},{provide:Nc,useValue:"USD"}];let Ch=(()=>{class t{constructor(t){}}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Zt(fh))},providers:xh}),t})(),Sh=null;function kh(){return Sh}const Eh=new jt("DocumentToken");let Ih=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:Th,token:t,providedIn:"platform"}),t})();function Th(){return Zt(Dh)}const Oh=new jt("Location Initialized");let Dh=(()=>{class t extends Ih{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=kh().getLocation(),this._history=kh().getHistory()}getBaseHrefFromDOM(){return kh().getBaseHref(this._doc)}onPopState(t){kh().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){kh().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Ah()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Ah()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh))},t.\u0275prov=pt({factory:Rh,token:t,providedIn:"platform"}),t})();function Ah(){return!!window.history.pushState}function Rh(){return new Dh(Zt(Eh))}function Ph(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Mh(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Lh(t){return t&&"?"!==t[0]?"?"+t:t}let Nh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:Fh,token:t,providedIn:"root"}),t})();function Fh(t){const e=Zt(Eh).location;return new Vh(Zt(Ih),e&&e.origin||"")}const Bh=new jt("appBaseHref");let Vh=(()=>{class t extends Nh{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ph(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Lh(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+Lh(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+Lh(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Zt(Ih),Zt(Bh,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),zh=(()=>{class t extends Nh{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Ph(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+Lh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+Lh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Zt(Ih),Zt(Bh,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),jh=(()=>{class t{constructor(t,e){this._subject=new nc,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Mh(Uh(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Lh(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Uh(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lh(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Lh(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Zt(Nh),Zt(Ih))},t.normalizeQueryParams=Lh,t.joinWithSlash=Ph,t.stripTrailingSlash=Mh,t.\u0275prov=pt({factory:Hh,token:t,providedIn:"root"}),t})();function Hh(){return new jh(Zt(Nh),Zt(Ih))}function Uh(t){return t.replace(/\/index.html$/,"")}const $h=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}();class qh{}let Wh=(()=>{class t extends qh{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ul(e);if(n)return n;const i=e.split("-")[0];if(n=Ul(i),n)return n;if("en"===i)return jl;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[$l.PluralCase]}(e||this.locale)(t)){case $h.Zero:return"zero";case $h.One:return"one";case $h.Two:return"two";case $h.Few:return"few";case $h.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Zt(Lc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Gh(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let Yh=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(xo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ct(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(kl),Ao(El),Ao(ol),Ao(hl))},t.\u0275dir=xe({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Xh{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kh=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Ei()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Xh(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new Zh(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new Zh(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rl),Ao(Dl),Ao(kl))},t.\u0275dir=xe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Zh{constructor(t,e){this.record=t,this.view=e}}let Qh=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new Jh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rl),Ao(Dl))},t.\u0275dir=xe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Jh{constructor(){this.$implicit=null,this.ngIf=null}}function tu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ct(e)}'.`)}class eu{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let nu=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),iu=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new eu(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rl),Ao(Dl),Ao(nu,1))},t.\u0275dir=xe({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),ru=(()=>{class t{constructor(t,e,n){n._addDefault(new eu(t,e))}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rl),Ao(Dl),Ao(nu,1))},t.\u0275dir=xe({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),su=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(El),Ao(hl))},t.\u0275dir=xe({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),ou=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rl))},t.\u0275dir=xe({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Wa]}),t})();function au(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Ct(t)}'`)}class lu{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class cu{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const hu=new cu,uu=new lu;let du=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):_o(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,wo.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Uo(e))return hu;if($o(e))return uu;throw au(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(kc())},t.\u0275pipe=Ce({name:"async",type:t,pure:!1}),t})(),pu=(()=>{class t{transform(e){if(!e)return e;if("string"!=typeof e)throw au(t,e);return e.toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Ce({name:"lowercase",type:t,pure:!0}),t})(),fu=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[{provide:qh,useClass:Wh}]}),t})();function mu(t){return"browser"===t}let gu=(()=>{class t{}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>new vu(Zt(Eh),window,Zt(fi))}),t})();class vu{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class yu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new yu,Sh||(Sh=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=_u||(_u=document.querySelector("base"),_u)?_u.getAttribute("href"):null;return null==e?null:(n=e,bu||(bu=document.createElement("a")),bu.setAttribute("href",n),"/"===bu.pathname.charAt(0)?bu.pathname:"/"+bu.pathname);var n}resetBaseElement(){_u=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Gh(document.cookie,t)}}let bu,_u=null;const wu=new jt("TRANSITION_ID"),xu=[{provide:Ec,useFactory:function(t,e,n){return()=>{n.get(Ic).donePromise.then(()=>{const n=kh();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[wu,Eh,uo],multi:!0}];class Cu{static init(){var t;t=new Cu,oh=t}addToWindow(t){Pt.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Pt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Pt.getAllAngularRootElements=()=>t.getAllRootElements(),Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(t=>{const e=Pt.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?kh().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Su=new jt("EventManagerPlugins");let ku=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Su),Zt(Yc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class Eu{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=kh().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let Iu=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Tu=(()=>{class t extends Iu{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>kh().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Ou={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Du=/%COMP%/g;function Au(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Au(t,r,n):(r=r.replace(Du,t),n.push(r))}return n}function Ru(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Pu=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Mu(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case de.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Lu(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case de.Native:case de.ShadowDom:return new Nu(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Au(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Zt(ku),Zt(Tu),Zt(Tc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class Mu{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ou[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=Ou[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=Ou[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&cl.DashCase?t.style.setProperty(e,n,i&cl.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&cl.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ru(n)):this.eventManager.addEventListener(t,e,Ru(n))}}class Lu extends Mu{constructor(t,e,n,i){super(t),this.component=n;const r=Au(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Du,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Du,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Nu extends Mu{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===de.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Au(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Fu=(()=>{class t extends Eu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Bu=new jt("HammerGestureConfig"),Vu=new jt("HammerLoader");let zu=(()=>{class t{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const ju=["alt","control","meta","shift"],Hu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$u={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let qu=(()=>{class t extends Eu{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kh().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(ju.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Uu.hasOwnProperty(e)&&(e=Uu[e]))}return Hu[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ju.forEach(i=>{i!=n&&(0,$u[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Wu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({factory:function(){return Zt(Gu)},token:t,providedIn:"root"}),t})(),Gu=(()=>{class t extends Wu{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Xi.NONE:return e;case Xi.HTML:return xi(e,"HTML")?wi(e):Gi(this._doc,String(e));case Xi.STYLE:return xi(e,"Style")?wi(e):Qi(e);case Xi.SCRIPT:if(xi(e,"Script"))return wi(e);throw new Error("unsafe value used in a script context");case Xi.URL:return Ci(e),xi(e,"URL")?wi(e):Di(String(e));case Xi.RESOURCE_URL:if(xi(e,"ResourceURL"))return wi(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new gi(t)}bypassSecurityTrustStyle(t){return new vi(t)}bypassSecurityTrustScript(t){return new yi(t)}bypassSecurityTrustUrl(t){return new bi(t)}bypassSecurityTrustResourceUrl(t){return new _i(t)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh))},t.\u0275prov=pt({factory:function(){return t=Zt(Ht),new Gu(t.get(Eh));var t},token:t,providedIn:"root"}),t})();const Yu=hh(wh,"browser",[{provide:Rc,useValue:"browser"},{provide:Ac,useValue:function(){yu.makeCurrent(),Cu.init()},multi:!0},{provide:Eh,useFactory:function(){return function(t){Me=t}(document),document},deps:[]}]),Xu=[[],{provide:Zs,useValue:"root"},{provide:fi,useFactory:function(){return new fi},deps:[]},{provide:Su,useClass:Fu,multi:!0,deps:[Eh,Yc,Rc]},{provide:Su,useClass:qu,multi:!0,deps:[Eh]},[],{provide:Pu,useClass:Pu,deps:[ku,Tu,Tc]},{provide:ll,useExisting:Pu},{provide:Iu,useExisting:Tu},{provide:Tu,useClass:Tu,deps:[Eh]},{provide:nh,useClass:nh,deps:[Yc]},{provide:ku,useClass:ku,deps:[Su,Yc]},[]];let Ku=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Tc,useValue:e.appId},{provide:wu,useExisting:Tc},xu]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Zt(t,12))},providers:Xu,imports:[fu,Ch]}),t})();function Zu(...t){let e=t[t.length-1];return I(e)?(t.pop(),z(t,e)):W(t)}"undefined"!=typeof window&&window;class Qu extends k{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(t){super.next(this._value=t)}}const Ju=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),td={};function ed(...t){let e=null,n=null;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),W(t,n).lift(new nd(e))}class nd{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new id(t,this.resultSelector))}}class id extends N{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(td),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(L(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const s=this.values,o=this.toRespond?s[n]===td?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const rd=new _(t=>t.complete());function sd(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):rd}function od(t){return new _(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?j(n):sd()).subscribe(e)})}function ad(){return q(1)}function ld(t,e){return function(n){return n.lift(new cd(t,e))}}class cd{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new hd(t,this.predicate,this.thisArg))}}class hd extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const ud=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function dd(t){return function(e){return 0===t?sd():e.lift(new pd(t))}}class pd{constructor(t){if(this.total=t,this.total<0)throw new ud}call(t,e){return e.subscribe(new fd(t,this.total))}}class fd extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function md(t=yd){return e=>e.lift(new gd(t))}class gd{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new vd(t,this.errorFactory))}}class vd extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function yd(){return new Ju}function bd(t=null){return e=>e.lift(new _d(t))}class _d{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new wd(t,this.defaultValue))}}class wd extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function xd(t,e){const n=arguments.length>=2;return i=>i.pipe(t?ld((e,n)=>t(e,n,i)):v,dd(1),n?bd(e):md(()=>new Ju))}function Cd(t){return function(e){const n=new Sd(t),i=e.lift(n);return n.caught=i}}class Sd{constructor(t){this.selector=t}call(t,e){return e.subscribe(new kd(t,this.selector,this.caught))}}class kd extends N{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new T(this,void 0,void 0);this.add(i);const r=L(this,n,void 0,void 0,i);r!==i&&this.add(r)}}}function Ed(t){return e=>0===t?sd():e.lift(new Id(t))}class Id{constructor(t){if(this.total=t,this.total<0)throw new ud}call(t,e){return e.subscribe(new Td(t,this.total))}}class Td extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Od(t,e){const n=arguments.length>=2;return i=>i.pipe(t?ld((e,n)=>t(e,n,i)):v,Ed(1),n?bd(e):md(()=>new Ju))}class Dd{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Ad(t,this.predicate,this.thisArg,this.source))}}class Ad extends f{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Rd(t,e){return"function"==typeof e?n=>n.pipe(Rd((n,i)=>j(t(n,i)).pipe(F((t,r)=>e(n,t,i,r))))):e=>e.lift(new Pd(t))}class Pd{constructor(t){this.project=t}call(t,e){return e.subscribe(new Md(t,this.project))}}class Md extends N{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new T(this,e,n),s=this.destination;s.add(r),this.innerSubscription=L(this,t,void 0,void 0,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}function Ld(...t){return ad()(Zu(...t))}function Nd(...t){const e=t[t.length-1];return I(e)?(t.pop(),n=>Ld(t,n,e)):e=>Ld(t,e)}function Fd(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Bd(t,e,n))}}class Bd{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Vd(t,this.accumulator,this.seed,this.hasSeed))}}class Vd extends f{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function zd(t,e){return H(t,e,1)}function jd(t,e){return arguments.length>=2?function(n){return y(Fd(t,e),dd(1),bd(e))(n)}:function(e){return y(Fd((e,n,i)=>t(e,n,i+1)),dd(1))(e)}}function Hd(){}function Ud(t,e,n){return function(i){return i.lift(new $d(t,e,n))}}class $d{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new qd(t,this.nextOrObserver,this.error,this.complete))}}class qd extends f{constructor(t,e,n,r){super(t),this._tapNext=Hd,this._tapError=Hd,this._tapComplete=Hd,this._tapError=n||Hd,this._tapComplete=r||Hd,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Hd,this._tapError=e.error||Hd,this._tapComplete=e.complete||Hd)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Wd(t){return e=>e.lift(new Gd(t))}class Gd{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Yd(t,this.callback))}}class Yd extends f{constructor(t,e){super(t),this.add(new u(e))}}class Xd{constructor(t,e){this.id=t,this.url=e}}class Kd extends Xd{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zd extends Xd{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qd extends Xd{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jd extends Xd{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tp extends Xd{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ep extends Xd{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class np extends Xd{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ip extends Xd{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rp extends Xd{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sp{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class op{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ap{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lp{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cp{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hp{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class up{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let dp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Bo(0,"router-outlet")},directives:function(){return[gm]},encapsulation:2}),t})();class pp{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function fp(t){return new pp(t)}function mp(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function gp(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class vp{constructor(t,e){this.routes=t,this.module=e}}function yp(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];bp(i,_p(e,i))}}function bp(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&yp(t.children,e)}function _p(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function wp(t){const e=t.children&&t.children.map(wp),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=dp),n}function xp(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!Cp(t[r],e[r]))return!1;return!0}function Cp(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Sp(t){return Array.prototype.concat.apply([],t)}function kp(t){return t.length>0?t[t.length-1]:null}function Ep(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ip(t){return $o(t)?t:Uo(t)?j(Promise.resolve(t)):Zu(t)}function Tp(t,e,n){return n?function(t,e){return xp(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Rp(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Cp(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!Rp(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Rp(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!Rp(n.segments,t)&&!!n.children.primary&&e(n.children.primary,i,s)}}(e,n,n.segments)}(t.root,e.root)}class Op{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fp(this.queryParams)),this._queryParamMap}toString(){return Np.serialize(this)}}class Dp{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ep(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fp(this)}}class Ap{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=fp(this.parameters)),this._parameterMap}toString(){return Up(this)}}function Rp(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Pp(t,e){let n=[];return Ep(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),Ep(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class Mp{}class Lp{parse(t){const e=new Yp(t);return new Op(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Fp(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",i=[];return Ep(e.children,(e,n)=>{"primary"!==n&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Pp(e,(n,i)=>"primary"===i?[t(e.children.primary,!1)]:[`${i}:${t(n,!1)}`]);return`${Fp(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Vp(e)}=${Vp(t)}`).join("&"):`${Vp(e)}=${Vp(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Np=new Lp;function Fp(t){return t.segments.map(t=>Up(t)).join("/")}function Bp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vp(t){return Bp(t).replace(/%3B/gi,";")}function zp(t){return Bp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jp(t){return decodeURIComponent(t)}function Hp(t){return jp(t.replace(/\+/g,"%20"))}function Up(t){return`${zp(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${zp(t)}=${zp(e[t])}`).join("")}`;var e}const $p=/^[^\/()?;=#]+/;function qp(t){const e=t.match($p);return e?e[0]:""}const Wp=/^[^=?&#]+/,Gp=/^[^?&#]+/;class Yp{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dp([],{}):new Dp([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Dp(t,e)),n}parseSegment(){const t=qp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ap(jp(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qp(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=qp(this.remaining);t&&(n=t,this.capture(n))}t[jp(e)]=jp(n)}parseQueryParam(t){const e=function(t){const e=t.match(Wp);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Gp);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Hp(e),r=Hp(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=qp(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const s=this.parseChildren();e[r]=1===Object.keys(s).length?s.primary:new Dp([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Xp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Kp(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Kp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Zp(t,this._root).map(t=>t.value)}}function Kp(t,e){if(t===e.value)return e;for(const n of e.children){const e=Kp(t,n);if(e)return e}return null}function Zp(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Zp(t,n);if(i.length)return i.unshift(e),i}return[]}class Qp{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jp(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class tf extends Xp{constructor(t,e){super(t),this.snapshot=e,af(this,t)}toString(){return this.snapshot.toString()}}function ef(t,e){const n=function(t,e){const n=new sf([],{},{},"",{},"primary",e,null,t.root,-1,{});return new of("",new Qp(n,[]))}(t,e),i=new Qu([new Ap("",{})]),r=new Qu({}),s=new Qu({}),o=new Qu({}),a=new Qu(""),l=new nf(i,r,o,a,s,"primary",e,n.root);return l.snapshot=n.root,new tf(new Qp(l,[]),n)}class nf{constructor(t,e,n,i,r,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(F(t=>fp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(F(t=>fp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rf(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class sf{constructor(t,e,n,i,r,s,o,a,l,c,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class of extends Xp{constructor(t,e){super(e),this.url=t,af(this,e)}toString(){return lf(this._root)}}function af(t,e){e.value._routerState=t,e.children.forEach(e=>af(t,e))}function lf(t){const e=t.children.length>0?` { ${t.children.map(lf).join(", ")} } `:"";return`${t.value}${e}`}function cf(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,xp(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),xp(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!xp(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),xp(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hf(t,e){var n,i;return xp(t.params,e.params)&&Rp(n=t.url,i=e.url)&&n.every((t,e)=>xp(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||hf(t.parent,e.parent))}function uf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function df(t,e,n,i,r){let s={};return i&&Ep(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Op(n.root===t?e:function t(e,n,i){const r={};return Ep(e.children,(e,s)=>{r[s]=e===n?i:t(e,n,i)}),new Dp(e.segments,r)}(n.root,t,e),s,r)}class pf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&uf(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==kp(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ff{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function mf(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function gf(t,e,n){if(t||(t=new Dp([],{})),0===t.segments.length&&t.hasChildren())return vf(t,e,n);const i=function(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const e=t.segments[r],o=mf(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!wf(o,a,e))return s;i+=2}else{if(!wf(o,{},e))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Dp(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new Dp(t.segments.slice(i.pathIndex),t.children),vf(e,0,r)}return i.match&&0===r.length?new Dp(t.segments,{}):i.match&&!t.hasChildren()?yf(t,e,n):i.match?vf(t,0,r):yf(t,e,n)}function vf(t,e,n){if(0===n.length)return new Dp(t.segments,{});{const i=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),r={};return Ep(i,(n,i)=>{null!==n&&(r[i]=gf(t.children[i],e,n))}),Ep(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new Dp(t.segments,r)}}function yf(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=bf(n[r].outlets);return new Dp(i,t)}if(0===r&&uf(n[0])){i.push(new Ap(t.segments[e].path,n[0])),r++;continue}const s=mf(n[r]),o=r<n.length-1?n[r+1]:null;s&&o&&uf(o)?(i.push(new Ap(s,_f(o))),r+=2):(i.push(new Ap(s,{})),r++)}return new Dp(i,{})}function bf(t){const e={};return Ep(t,(t,n)=>{null!==t&&(e[n]=yf(new Dp([],{}),0,t))}),e}function _f(t){const e={};return Ep(t,(t,n)=>e[n]=`${t}`),e}function wf(t,e,n){return t==n.path&&xp(e,n.parameters)}class xf{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),cf(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=Jp(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),Ep(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=Jp(t),r=t.value.component?n.children:e;Ep(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=Jp(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new hp(t.value.snapshot))}),t.children.length&&this.forwardEvent(new lp(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(cf(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Cf(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Cf(t){cf(t.value),t.children.forEach(Cf)}function Sf(t){return"function"==typeof t}function kf(t){return t instanceof Op}class Ef{constructor(t){this.segmentGroup=t||null}}class If{constructor(t){this.urlTree=t}}function Tf(t){return new _(e=>e.error(new Ef(t)))}function Of(t){return new _(e=>e.error(new If(t)))}function Df(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Af{constructor(t,e,n,i,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(ne)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(F(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cd(t=>{if(t instanceof If)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ef)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(F(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Cd(t=>{if(t instanceof Ef)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Dp([],{primary:t}):t;return new Op(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(F(t=>new Dp([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Zu({});const n=[],i=[],r={};return Ep(t,(t,s)=>{const o=e(s,t).pipe(F(t=>r[s]=t));"primary"===s?n.push(o):i.push(o)}),Zu.apply(null,n.concat(i)).pipe(ad(),xd(),F(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,s){return Zu(...n).pipe(F(o=>this.expandSegmentAgainstRoute(t,e,n,o,i,r,s).pipe(Cd(t=>{if(t instanceof Ef)return Zu(null);throw t}))),ad(),Od(t=>!!t),Cd((t,n)=>{if(t instanceof Ju||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return Zu(new Dp([],{}));throw new Ef(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,s,o){return Lf(i)!==s?Tf(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s):Tf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Of(r):this.lineralizeSegments(n,r).pipe(H(n=>{const r=new Dp(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,s){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Rf(e,i,r);if(!o)return Tf(e);const h=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?Of(h):this.lineralizeSegments(i,h).pipe(H(i=>this.expandSegment(t,e,n,i.concat(r.slice(l)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(F(t=>(n._loadedConfig=t,new Dp(i,{})))):Zu(new Dp(i,{}));const{matched:r,consumedSegments:s,lastChild:o}=Rf(e,n,i);if(!r)return Tf(e);const a=i.slice(o);return this.getChildConfig(t,n,i).pipe(H(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:o}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>Mf(t,e,n)&&"primary"!==Lf(n))}(t,n,i)?{segmentGroup:Pf(new Dp(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==Lf(i)&&(n[Lf(i)]=new Dp([],{}));return n}(i,new Dp(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Mf(t,e,n))}(t,n,i)?{segmentGroup:Pf(new Dp(t.segments,function(t,e,n,i){const r={};for(const s of n)Mf(t,e,s)&&!i[Lf(s)]&&(r[Lf(s)]=new Dp([],{}));return Object.assign(Object.assign({},i),r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,a,i);return 0===o.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(F(t=>new Dp(s,t))):0===i.length&&0===o.length?Zu(new Dp(s,{})):this.expandSegment(n,r,i,o,"primary",!0).pipe(F(t=>new Dp(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Zu(new vp(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Zu(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?j(i).pipe(F(i=>{const r=t.get(i);let s;if(function(t){return t&&Sf(t.canLoad)}(r))s=r.canLoad(e,n);else{if(!Sf(r))throw new Error("Invalid CanLoad guard");s=r(e,n)}return Ip(s)})).pipe(ad(),(r=t=>!0===t,t=>t.lift(new Dd(r,void 0,t)))):Zu(!0);var r}(t.injector,e,n).pipe(H(n=>n?this.configLoader.load(t.injector,e).pipe(F(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(mp(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Zu(new vp([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Zu(n);if(i.numberOfChildren>1||!i.children.primary)return Df(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new Op(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ep(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let s={};return Ep(e.children,(e,r)=>{s[r]=this.createSegmentGroup(t,e,n,i)}),new Dp(r,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Rf(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||gp)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Pf(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Dp(t.segments.concat(e.segments),e.children)}return t}function Mf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Lf(t){return t.outlet||"primary"}class Nf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ff{constructor(t,e){this.component=t,this.route=e}}function Bf(t,e,n){const i=t._root;return function t(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=Jp(n);return e.children.forEach(e=>{!function(e,n,i,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,l=i?i.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Rp(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Rp(t.url,e.url)||!xp(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hf(t,e)||!xp(t.queryParams,e.queryParams);case"paramsChange":default:return!hf(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Nf(r)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?l?l.children:null:i,r,s),c&&s.canDeactivateChecks.push(new Ff(l&&l.outlet&&l.outlet.component||null,a))}else a&&zf(n,l,s),s.canActivateChecks.push(new Nf(r)),t(e,null,o.component?l?l.children:null:i,r,s)}(e,o[e.value.outlet],i,r.concat([e.value]),s),delete o[e.value.outlet]}),Ep(o,(t,e)=>zf(t,i.getContext(e),s)),s}(i,e?e._root:null,n,[i.value])}function Vf(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function zf(t,e,n){const i=Jp(t),r=t.value;Ep(i,(t,i)=>{zf(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Ff(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const jf=Symbol("INITIAL_VALUE");function Hf(){return Rd(t=>ed(...t.map(t=>t.pipe(Ed(1),Nd(jf)))).pipe(Fd((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==jf)return t;if(i===jf&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||kf(i))return i}return t},t)},jf),ld(t=>t!==jf),F(t=>kf(t)?t:!0===t),Ed(1)))}function Uf(t,e){return null!==t&&e&&e(new cp(t)),Zu(!0)}function $f(t,e){return null!==t&&e&&e(new ap(t)),Zu(!0)}function qf(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Zu(i.map(i=>od(()=>{const r=Vf(i,e,n);let s;if(function(t){return t&&Sf(t.canActivate)}(r))s=Ip(r.canActivate(e,t));else{if(!Sf(r))throw new Error("Invalid CanActivate guard");s=Ip(r(e,t))}return s.pipe(Od())}))).pipe(Hf()):Zu(!0)}function Wf(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>od(()=>Zu(e.guards.map(r=>{const s=Vf(r,e.node,n);let o;if(function(t){return t&&Sf(t.canActivateChild)}(s))o=Ip(s.canActivateChild(i,t));else{if(!Sf(s))throw new Error("Invalid CanActivateChild guard");o=Ip(s(i,t))}return o.pipe(Od())})).pipe(Hf())));return Zu(r).pipe(Hf())}class Gf{}class Yf{constructor(t,e,n,i,r,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=s}recognize(){try{const t=Zf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new sf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Qp(n,e),r=new of(this.url,i);return this.inheritParamsAndData(r._root),Zu(r)}catch(t){return new _(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=rf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Pp(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(r){if(!(r instanceof Gf))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new Gf}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new Gf;if((t.outlet||"primary")!==i)throw new Gf;let r,s=[],o=[];if("**"===t.path){const s=n.length>0?kp(n).parameters:{};r=new sf(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tm(t),i,t.component,t,Xf(e),Kf(e)+n.length,em(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Gf;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||gp)(n,t,e);if(!i)throw new Gf;const r={};Ep(i.posParams,(t,e)=>{r[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),r=new sf(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tm(t),i,t.component,t,Xf(e),Kf(e)+s.length,em(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:c}=Zf(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Qp(r,t)]}if(0===a.length&&0===c.length)return[new Qp(r,[])];const h=this.processSegment(a,l,c,"primary");return[new Qp(r,h)]}}function Xf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Kf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Zf(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>Qf(t,e,n)&&"primary"!==Jf(n))}(t,n,i)){const r=new Dp(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==Jf(s)){const n=new Dp([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[Jf(s)]=n}return r}(t,e,i,new Dp(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Qf(t,e,n))}(t,n,i)){const s=new Dp(t.segments,function(t,e,n,i,r,s){const o={};for(const a of i)if(Qf(t,n,a)&&!r[Jf(a)]){const n=new Dp([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Jf(a)]=n}return Object.assign(Object.assign({},r),o)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Dp(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Qf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Jf(t){return t.outlet||"primary"}function tm(t){return t.data||{}}function em(t){return t.resolve||{}}function nm(t,e,n,i){const r=Vf(t,e,i);return Ip(r.resolve?r.resolve(e,n):r(e,n))}function im(t){return function(e){return e.pipe(Rd(e=>{const n=t(e);return n?j(n).pipe(F(()=>e)):j([e])}))}}class rm{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const sm=new jt("ROUTES");class om{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(F(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new vp(Sp(i.injector.get(sm)).map(wp),i)}))}loadModuleFactory(t){return"string"==typeof t?j(this.loader.load(t)):Ip(t()).pipe(H(t=>t instanceof ie?Zu(t):j(this.compiler.compileModuleAsync(t))))}}class am{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function lm(t){throw t}function cm(t,e,n){return e.parse("/")}function hm(t,e){return Zu(null)}let um=(()=>{class t{constructor(t,e,n,i,r,s,o,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=lm,this.malformedUriErrorHandler=cm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hm,afterPreactivation:hm},this.urlHandlingStrategy=new am,this.routeReuseStrategy=new rm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(ne),this.console=r.get(Mc);const l=r.get(Yc);this.isNgZoneEnabled=l instanceof Yc,this.resetConfig(a),this.currentUrlTree=new Op(new Dp([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new om(s,o,t=>this.triggerEvent(new sp(t)),t=>this.triggerEvent(new op(t))),this.routerState=ef(this.currentUrlTree,this.rootComponentType),this.transitions=new Qu({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ld(t=>0!==t.id),F(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Rd(t=>{let n=!1,i=!1;return Zu(t).pipe(Ud(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rd(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Zu(t).pipe(Rd(t=>{const n=this.transitions.getValue();return e.next(new Kd(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?rd:[t]}),Rd(t=>Promise.resolve(t)),(i=this.ngModule.injector,r=this.configLoader,s=this.urlSerializer,o=this.config,function(t){return t.pipe(Rd(t=>function(t,e,n,i,r){return new Af(t,e,n,i,r).apply()}(i,r,s,t.extractedUrl,o).pipe(F(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Ud(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(s){return s.pipe(H(s=>function(t,e,n,i,r="emptyOnly",s="legacy"){return new Yf(t,e,n,i,r,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,r).pipe(F(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ud(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Ud(t=>{const n=new tp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:s,extras:o}=t,a=new Kd(n,this.serializeUrl(i),r,s);e.next(a);const l=ef(i,this.rootComponentType).snapshot;return Zu(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),rd}),im(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),Ud(t=>{const e=new ep(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),F(t=>Object.assign(Object.assign({},t),{guards:Bf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(H(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Zu(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return j(t).pipe(H(t=>function(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Zu(s.map(s=>{const o=Vf(s,e,r);let a;if(function(t){return t&&Sf(t.canDeactivate)}(o))a=Ip(o.canDeactivate(t,e,n,i));else{if(!Sf(o))throw new Error("Invalid CanDeactivate guard");a=Ip(o(t,e,n,i))}return a.pipe(Od())})).pipe(Hf()):Zu(!0)}(t.component,t.route,n,e,i)),Od(t=>!0!==t,!0))}(o,i,r,t).pipe(H(n=>n&&"boolean"==typeof n?function(t,e,n,i){return j(e).pipe(zd(e=>j([$f(e.route.parent,i),Uf(e.route,i),Wf(t,e.path,n),qf(t,e.route,n)]).pipe(ad(),Od(t=>!0!==t,!0))),Od(t=>!0!==t,!0))}(i,s,t,e):Zu(n)),F(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Ud(t=>{if(kf(t.guardsResult)){const e=mp(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Ud(t=>{const e=new np(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ld(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Qd(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),im(t=>{if(t.guards.canActivateChecks.length)return Zu(t).pipe(Ud(t=>{const e=new ip(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(H(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;return r.length?j(r).pipe(zd(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Zu({});if(1===r.length){const s=r[0];return nm(t[s],e,n,i).pipe(F(t=>({[s]:t})))}const s={};return j(r).pipe(H(r=>nm(t[r],e,n,i).pipe(F(t=>(s[r]=t,t))))).pipe(xd(),F(()=>s))}(t._resolve,t,e,i).pipe(F(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),rf(t,n).resolve),null)))}(t.route,i,e,n)),jd((t,e)=>t),F(e=>t)):Zu(t)}))}),Ud(t=>{const e=new rp(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),im(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!s,replaceUrl:!!o})}),F(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const s=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new Qp(r,s)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new nf(new Qu((r=n.value).url),new Qu(r.params),new Qu(r.queryParams),new Qu(r.fragment),new Qu(r.data),r.outlet,r.component,r),s=n.children.map(n=>t(e,n));return new Qp(i,s)}}var r}(t,e._root,n?n._root:void 0);return new tf(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Ud(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),F(t=>(new xf(s,t.targetRouterState,t.currentRouterState,o).activate(r),t))),Ud({next(){n=!0},complete(){n=!0}}),Wd(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Qd(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Cd(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=kf(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Qd(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new Jd(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var r;return rd}));var r,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){yp(t),this.config=t.map(wp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:s,queryParamsHandling:o,preserveFragment:a}=e;Ei()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:r;let h=null;if(o)switch(o){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,i,r){if(0===n.length)return df(e.root,e.root,e,i,r);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pf(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return Ep(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new pf(n,e,i)}(n);if(s.toRoot())return df(e.root,new Dp([],{}),e,i,r);const o=function(t,e,n){if(t.isAbsolute)return new ff(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ff(n.snapshot._urlSegment,!0,0);const i=uf(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new ff(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?vf(o.segmentGroup,o.index,s.commands):gf(o.segmentGroup,o.index,s.commands);return df(o.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,h,c)}navigateByUrl(t,e={skipLocationChange:!1}){Ei()&&this.isNgZoneEnabled&&!Yc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=kf(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(kf(t))return Tp(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Tp(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Zd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,l;r?(o=r.resolve,a=r.reject,l=r.promise):l=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){Po()},t.\u0275dir=xe({type:t}),t})(),dm=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Ei()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:pm(this.skipLocationChange),replaceUrl:pm(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:pm(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:pm(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(um),Ao(nf),Ro("tabindex"),Ao(hl),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&qo("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})();function pm(t){return""===t||!!t}class fm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mm,this.attachRef=null}}class mm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new fm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let gm=(()=>{class t{constructor(t,e,n,i,r){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new nc,this.deactivateEvents=new nc,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new vm(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Ao(mm),Ao(Rl),Ao(sl),Ro("name"),Ao(Xs))},t.\u0275dir=xe({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class vm{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===nf?this.route:t===mm?this.childContexts:this.parent.get(t,e)}}class ym{}class bm{preload(t,e){return Zu(null)}}let _m=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new om(e,n,e=>t.triggerEvent(new sp(e)),e=>t.triggerEvent(new op(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ld(t=>t instanceof Zd),zd(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ne);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return j(n).pipe(q(),F(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(H(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(Zt(um),Zt(gh),Zt($c),Zt(uo),Zt(ym))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),wm=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Kd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof up&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new up(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){Po()},t.\u0275dir=xe({type:t}),t})();const xm=new jt("ROUTER_CONFIGURATION"),Cm=new jt("ROUTER_FORROOT_GUARD"),Sm=[jh,{provide:Mp,useClass:Lp},{provide:um,useFactory:function(t,e,n,i,r,s,o,a={},l,c){const h=new um(null,t,e,n,i,r,s,Sp(o));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=kh();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h},deps:[Mp,mm,jh,uo,gh,$c,sm,xm,[class{},new at],[class{},new at]]},mm,{provide:nf,useFactory:function(t){return t.routerState.root},deps:[um]},{provide:gh,useClass:bh},_m,bm,class{preload(t,e){return e().pipe(Cd(()=>Zu(null)))}},{provide:xm,useValue:{enableTracing:!1}}];function km(){return new ch("Router",um)}let Em=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Sm,Dm(e),{provide:Cm,useFactory:Om,deps:[[um,new at,new ct]]},{provide:xm,useValue:n||{}},{provide:Nh,useFactory:Tm,deps:[Ih,[new ot(Bh),new at],xm]},{provide:wm,useFactory:Im,deps:[um,gu,xm]},{provide:ym,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:bm},{provide:ch,multi:!0,useFactory:km},[Am,{provide:Ec,multi:!0,useFactory:Rm,deps:[Am]},{provide:Mm,useFactory:Pm,deps:[Am]},{provide:Pc,multi:!0,useExisting:Mm}]]}}static forChild(e){return{ngModule:t,providers:[Dm(e)]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Zt(Cm,8),Zt(um,8))}}),t})();function Im(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new wm(t,e,n)}function Tm(t,e,n={}){return n.useHash?new zh(t,e):new Vh(t,e)}function Om(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Dm(t){return[{provide:po,multi:!0,useValue:t},{provide:sm,multi:!0,useValue:t}]}let Am=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(Oh,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(um),i=this.injector.get(xm);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Zu(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(xm),n=this.injector.get(_m),i=this.injector.get(wm),r=this.injector.get(um),s=this.injector.get(fh);t===s.components[0]&&(this.isLegacyEnabled(e)?r.initialNavigation():this.isLegacyDisabled(e)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(Zt(uo))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function Rm(t){return t.appInitializer.bind(t)}function Pm(t){return t.bootstrapListener.bind(t)}const Mm=new jt("Router Initializer");class Lm{}function Nm(t,e){return{type:7,name:t,definitions:e,options:{}}}function Fm(t,e=null){return{type:4,styles:e,timings:t}}function Bm(t,e=null){return{type:3,steps:t,options:e}}function Vm(t,e=null){return{type:2,steps:t,options:e}}function zm(t){return{type:6,styles:t,offset:null}}function jm(t,e,n){return{type:0,name:t,styles:e,options:n}}function Hm(t){return{type:5,steps:t}}function Um(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function $m(t=null){return{type:9,options:t}}function qm(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function Wm(t){Promise.resolve(null).then(t)}class Gm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Wm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ym{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?Wm(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Xm(){throw Error("Host already has a portal attached")}class Km{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Xm(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Zm extends Km{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class Qm extends Km{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Jm{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Xm(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Zm?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Qm?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class tg extends Jm{constructor(t,e,n,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let eg=(()=>{class t extends Qm{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Dl),Ao(Rl))},t.\u0275dir=xe({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[za]}),t})(),ng=(()=>{class t extends Jm{constructor(t,e){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new nc}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}}return t.\u0275fac=function(e){return new(e||t)(Ao(sl),Ao(Rl))},t.\u0275dir=xe({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[za]}),t})(),ig=(()=>{class t extends ng{}return t.\u0275fac=function(e){return rg(e||t)},t.\u0275dir=xe({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[nl([{provide:ng,useExisting:t}]),za]}),t})();const rg=hi(ig);let sg=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();class og{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}function ag(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const lg=new jt("cdk-dir-doc",{providedIn:"root",factory:function(){return Qt(Eh)}});let cg=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new nc,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Zt(lg,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(lg,8))},token:t,providedIn:"root"}),t})(),hg=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();function ug(t){return null!=t&&"false"!==`${t}`}function dg(t,e=0){return pg(t)?Number(t):e}function pg(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function fg(t){return Array.isArray(t)?t:[t]}function mg(t){return null==t?"":"string"==typeof t?t:`${t}px`}function gg(t){return t instanceof ol?t.nativeElement:t}function vg(t,e,n,r){return i(n)&&(r=n,n=void 0),r?vg(t,e,n).pipe(F(t=>l(t)?r(...t):r(t))):new _(i=>{!function t(e,n,i,r,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,s),o=()=>t.removeEventListener(n,i,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),o=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),o=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,i,r,s)}r.add(o)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}class yg extends u{constructor(t,e){super()}schedule(t,e=0){return this}}class bg extends yg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class _g extends bg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}let wg=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class xg extends wg{constructor(t,e=wg.now){super(t,()=>xg.delegate&&xg.delegate!==this?xg.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return xg.delegate&&xg.delegate!==this?xg.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class Cg extends xg{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const Sg=new Cg(_g);function kg(t,e){return n=>n.lift(new Eg(t,e))}class Eg{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ig(t,this.compare,this.keySelector))}}class Ig extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}const Tg=new xg(bg);class Og{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Dg(t,this.durationSelector))}}class Dg extends N{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=L(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Ag(t){return!l(t)&&t-parseFloat(t)+1>=0}function Rg(t=0,e,n){let i=-1;return Ag(e)?i=Number(e)<1?1:Number(e):I(e)&&(n=e),I(n)||(n=Tg),new _(e=>{const r=Ag(t)?t:+t-n.now();return n.schedule(Pg,r,{index:0,period:i,subscriber:e})})}function Pg(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Mg(t,e=Tg){return n=()=>Rg(t,e),function(t){return t.lift(new Og(n))};var n}function Lg(t){return e=>e.lift(new Ng(t))}class Ng{constructor(t){this.notifier=t}call(t,e){const n=new Fg(t),i=L(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Fg extends N{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}class Bg extends bg{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}class Vg extends xg{}const zg=new Vg(Bg);function jg(t,e){return new _(e?n=>e.schedule(Hg,0,{error:t,subscriber:n}):e=>e.error(t))}function Hg({error:t,subscriber:e}){e.error(t)}let Ug,$g=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Zu(this.value);case"E":return jg(this.error);case"C":return sd()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class qg extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(qg.dispatch,this.delay,new Wg(t,this.destination)))}_next(t){this.scheduleMessage($g.createNext(t))}_error(t){this.scheduleMessage($g.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage($g.createComplete()),this.unsubscribe()}}class Wg{constructor(t,e){this.notification=t,this.destination=e}}class Gg extends k{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new Yg(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new x;if(this.isStopped||this.hasError?s=u.EMPTY:(this.observers.push(t),s=new C(this,t)),i&&t.add(t=new qg(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||zg).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class Yg{constructor(t,e){this.time=t,this.value=e}}try{Ug="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(DV){Ug=!1}let Xg,Kg=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?mu(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ug)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Zt(Rc,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Rc,8))},token:t,providedIn:"root"}),t})(),Zg=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();const Qg=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Jg(){if(Xg)return Xg;if("object"!=typeof document||!document)return Xg=new Set(Qg),Xg;let t=document.createElement("input");return Xg=new Set(Qg.filter(e=>(t.setAttribute("type",e),t.type===e))),Xg}let tv,ev;function nv(t){return function(){if(null==tv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>tv=!0}))}finally{tv=tv||!1}return tv}()?t:!!t.capture}function iv(){if(null==ev){const t="undefined"!=typeof document?document.head:null;ev=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ev}function rv(t){return t&&"function"==typeof t.connect}class sv{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new k,this.onChange=this.changed,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}let ov=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),av=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new k,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Mg(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Zu()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(ld(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>vg(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Yc),Zt(Kg))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Yc),Zt(Kg))},token:t,providedIn:"root"}),t})(),lv=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[hg,Zg],hg]}),t})(),cv=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?G(vg(window,"resize"),vg(window,"orientationchange")):Zu(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Mg(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Zt(Kg),Zt(Yc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Kg),Zt(Yc))},token:t,providedIn:"root"}),t})();class hv{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=mg(-this._previousScrollPosition.left),t.style.top=mg(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function uv(){return Error("Scroll strategy has already been attached.")}class dv{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw uv();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pv{enable(){}disable(){}attach(){}}function fv(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function mv(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class gv{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw uv();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();fv(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vv=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new pv,this.close=t=>new dv(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new hv(this._viewportRuler,this._document),this.reposition=t=>new gv(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(Zt(av),Zt(cv),Zt(Yc),Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(av),Zt(cv),Zt(Yc),Zt(Eh))},token:t,providedIn:"root"}),t})();class yv{constructor(t){if(this.scrollStrategy=new pv,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class bv{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class _v{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function wv(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function xv(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let Cv=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Eh))},token:t,providedIn:"root"}),t})(),Sv=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.getElementsByClassName("cdk-overlay-container");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Eh))},token:t,providedIn:"root"}),t})();class kv{constructor(t,e,n,i,r,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new k,this._attachments=new k,this._detachments=new k,this._locationChanges=u.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new _(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new k,this._keydownEventSubscriptions=0,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Ed(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=mg(this._config.width),t.height=mg(this._config.height),t.minWidth=mg(this._config.minWidth),t.minHeight=mg(this._config.minHeight),t.maxWidth=mg(this._config.maxWidth),t.maxHeight=mg(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;fg(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Lg(G(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}class Ev{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k,this._resizeSubscription=u.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Iv(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:s}=t,o=this._getOffset(i,"x"),a=this._getOffset(i,"y");o&&(r+=o),a&&(s+=a);let l=0-s,c=s+e.height-n.height,h=this._subtractOverflows(e.width,0-r,r+e.width-n.width),u=this._subtractOverflows(e.height,l,c),d=h*u;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:u===e.height,fitsInViewportHorizontally:h==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=this._overlayRef.getConfig().minHeight,o=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.right,0),s=Math.max(t.y+e.height-i.bottom,0),o=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let l=0,c=0;return l=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,c=e.height<=i.height?o||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:c},{x:t.x+l,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new _v(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,l,c;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=mg(n.height),i.top=mg(n.top),i.bottom=mg(n.bottom),i.width=mg(n.width),i.left=mg(n.left),i.right=mg(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=mg(t)),r&&(i.maxWidth=mg(r))}this._lastBoundingBoxSize=n,Iv(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Iv(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Iv(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const i=this._viewportRuler.getViewportScrollPosition();Iv(n,this._getExactOverlayY(e,t,i)),Iv(n,this._getExactOverlayX(e,t,i))}else n.position="static";let i="",r=this._getOffset(e,"x"),s=this._getOffset(e,"y");r&&(i+=`translateX(${r}px) `),s&&(i+=`translateY(${s}px)`),n.transform=i.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),Iv(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:null,bottom:null},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:i.top=mg(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:null,right:null},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=`${this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)}px`:r.left=mg(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mv(t,n),isOriginOutsideView:fv(t,n),isOverlayClipped:mv(e,n),isOverlayOutsideView:fv(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{xv("originX",t.originX),wv("originY",t.originY),xv("overlayX",t.overlayX),wv("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&fg(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ol)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Iv(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class Tv{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new Ev(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new bv(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Ov{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Dv=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Ov}connectedTo(t,e,n){return new Tv(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Ev(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Zt(cv),Zt(Eh),Zt(Kg),Zt(Sv))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(cv),Zt(Eh),Zt(Kg),Zt(Sv))},token:t,providedIn:"root"}),t})(),Av=0,Rv=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new yv(t);return r.direction=r.direction||this._directionality.value,new kv(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${Av++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(fh)),new tg(t,this._componentFactoryResolver,this._appRef,this._injector)}}return t.\u0275fac=function(e){return new(e||t)(Zt(vv),Zt(Sv),Zt(sl),Zt(Dv),Zt(Cv),Zt(uo),Zt(Yc),Zt(Eh),Zt(cg),Zt(jh,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const Pv=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Mv=new jt("cdk-connected-overlay-scroll-strategy");let Lv=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Nv=(()=>{class t{constructor(t,e,n,i,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=u.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new nc,this.positionChange=new nc,this.attach=new nc,this.detach=new nc,this.overlayKeydown=new nc,this._templatePortal=new Qm(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=ug(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=ug(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=ug(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=ug(t)}get push(){return this._push}set push(t){this._push=ug(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Pv),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||ag(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this._createPositionStrategy(),e=new yv({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rv),Ao(Dl),Ao(Rl),Ao(Mv),Ao(cg,8))},t.\u0275dir=xe({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[Wa]}),t})();const Fv={provide:Mv,deps:[Rv],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Bv=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[Rv,Fv],imports:[[hg,sg,lv],lv]}),t})();const Vv=new pl("8.2.3");function zv(t,e=Tg){return n=>n.lift(new jv(t,e))}class jv{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Hv(t,this.dueTime,this.scheduler))}}class Hv extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Uv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Uv(t){t.debouncedNext()}let $v=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),qv=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=gg(t);return new _(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new k,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(Zt($v))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt($v))},token:t,providedIn:"root"}),t})(),Wv=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new nc,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ug(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=dg(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(zv(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ao(qv),Ao(ol),Ao(Yc))},t.\u0275dir=xe({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Gv=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[$v]}),t})();function Yv(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}let Xv=0;const Kv=new Map;let Zv=null,Qv=(()=>{class t{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),Kv.set(e,{messageElement:e,referenceCount:0})):Kv.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=Kv.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}Zv&&0===Zv.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");Zv&&this._deleteMessagesContainer(),Kv.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),Zv.appendChild(e),Kv.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id=`cdk-describedby-message-${Xv++}`)}_deleteMessageElement(t){const e=Kv.get(t),n=e&&e.messageElement;Zv&&n&&Zv.removeChild(n),Kv.delete(t)}_createMessagesContainer(){if(!Zv){const t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),Zv=this._document.createElement("div"),Zv.id="cdk-describedby-message-container",Zv.setAttribute("aria-hidden","true"),Zv.style.display="none",this._document.body.appendChild(Zv)}}_deleteMessagesContainer(){Zv&&Zv.parentNode&&(Zv.parentNode.removeChild(Zv),Zv=null)}_removeCdkDescribedByReferenceIds(t){const e=Yv(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=Kv.get(e);!function(t,e,n){const i=Yv(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(t,e){const n=Kv.get(e);n.referenceCount--,function(t,e,n){const i=Yv(t,e).filter(t=>t!=n.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(t,e){const n=Yv(t,"aria-describedby"),i=Kv.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Eh))},token:t,providedIn:"root"}),t})();class Jv{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new k,this._typeaheadSubscription=u.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new k,this.change=new k,t instanceof rc&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ud(t=>this._pressedLetters.push(t)),zv(t),ld(()=>this._pressedLetters.length>0),F(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||ag(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}updateActiveItemIndex(t){this.updateActiveItem(t)}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof rc?this._items.toArray():this._items}}class ty extends Jv{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class ey extends Jv{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let ny=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(DV){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===ry(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=ry(t);if(t.hasAttribute("contenteditable"))return-1!==r;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||iy(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Kg))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Kg))},token:t,providedIn:"root"}),t})();function iy(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function ry(t){if(!iy(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class sy{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Ei()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Ed(1)).subscribe(t)}}let oy=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new sy(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(Zt(ny),Zt(Yc),Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(ny),Zt(Yc),Zt(Eh))},token:t,providedIn:"root"}),t})();const ay=new jt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),ly=new jt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let cy=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(Zt(ay,8),Zt(Yc),Zt(Eh),Zt(ly,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(ay,8),Zt(Yc),Zt(Eh),Zt(ly,8))},token:t,providedIn:"root"}),t})();const hy=nv({passive:!0,capture:!0});let uy=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return Zu(null);const n=gg(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let i={unlisten:()=>{},checkChildren:e,subject:new k};this._elementInfo.set(n,i),this._incrementMonitoredElementCount();let r=t=>this._onFocus(t,n),s=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",r,!0),n.addEventListener("blur",s,!0)}),i.unlisten=()=>{n.removeEventListener("focus",r,!0),n.removeEventListener("blur",s,!0)},i.subject.asObservable()}stopMonitoring(t){const e=gg(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const i=gg(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,hy),document.addEventListener("mousedown",this._documentMousedownListener,hy),document.addEventListener("touchstart",this._documentTouchstartListener,hy),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,hy),document.removeEventListener("mousedown",this._documentMousedownListener,hy),document.removeEventListener("touchstart",this._documentTouchstartListener,hy),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.\u0275fac=function(e){return new(e||t)(Zt(Yc),Zt(Kg))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Yc),Zt(Kg))},token:t,providedIn:"root"}),t})(),dy=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new nc,this._monitorSubscription=this._focusMonitor.monitor(this._elementRef,this._elementRef.nativeElement.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(uy))},t.\u0275dir=xe({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})(),py=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,Zg,Gv]]}),t})();function fy(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function my(t){switch(t.length){case 0:return new Gm;case 1:return t[0];default:return new Ym(t)}}function gy(t,e,n,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==l,h=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}h[i]=a}),i||a.push(h),c=h,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function vy(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&yy(n,"start",t)));break;case"done":t.onDone(()=>i(n&&yy(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&yy(n,"destroy",t)))}}function yy(t,e,n){const i=n.totalTime,r=by(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function by(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function _y(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function wy(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let xy=(t,e)=>!1,Cy=(t,e)=>!1,Sy=(t,e,n)=>[];const ky=fy();(ky||"undefined"!=typeof Element)&&(xy=(t,e)=>t.contains(e),Cy=(()=>{if(ky||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Cy}})(),Sy=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let Ey=null,Iy=!1;function Ty(t){Ey||(Ey=("undefined"!=typeof document?document.body:null)||{},Iy=!!Ey.style&&"WebkitAppearance"in Ey.style);let e=!0;return Ey.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ey.style,!e&&Iy)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ey.style),e}const Oy=Cy,Dy=xy,Ay=Sy;function Ry(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let Py=(()=>{class t{validateStyleProperty(t){return Ty(t)}matchesElement(t,e){return Oy(t,e)}containsElement(t,e){return Dy(t,e)}query(t,e,n){return Ay(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new Gm(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),My=(()=>{class t{}return t.NOOP=new Py,t})();function Ly(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ny(parseFloat(e[1]),e[2])}function Ny(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Fy(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Ny(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=Ny(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function By(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Vy(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else By(t,n);return n}function zy(t,e,n){return n?e+":"+n+";":""}function jy(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=zy(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=zy(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Hy(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=Ky(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),fy()&&jy(t))}function Uy(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Ky(e);t.style[n]=""}),fy()&&jy(t))}function $y(t){return Array.isArray(t)?1==t.length?t[0]:Vm(t):t}const qy=new RegExp("{{\\s*(.+?)\\s*}}","g");function Wy(t){let e=[];if("string"==typeof t){let n;for(;n=qy.exec(t);)e.push(n[1]);qy.lastIndex=0}return e}function Gy(t,e,n){const i=t.toString(),r=i.replace(qy,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function Yy(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Xy=/-+([a-z0-9])/g;function Ky(t){return t.replace(Xy,(...t)=>t[1].toUpperCase())}function Zy(t,e){return 0===t||0===e}function Qy(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach((function(e){n[e]=tb(t,e)}))}}return e}function Jy(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function tb(t,e){return window.getComputedStyle(t)[e]}function eb(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(rb(r,o)),"<"!=s[0]||"*"==r&&"*"==o||e.push(rb(o,r))}(t,n,e)):n.push(t),n}const nb=new Set(["true","1"]),ib=new Set(["false","0"]);function rb(t,e){const n=nb.has(t)||ib.has(t),i=nb.has(e)||ib.has(e);return(r,s)=>{let o="*"==t||t==r,a="*"==e||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?nb.has(t):ib.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?nb.has(e):ib.has(e)),o&&a}}const sb=new RegExp("s*:selfs*,?","g");function ob(t,e,n){return new ab(t).build(e,n)}class ab{constructor(t){this._driver=t}build(t,e){const n=new lb(e);return this._resetContextStyleTimingState(n),Jy(this,$y(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(cb(t)){const e=t;Object.keys(e).forEach(t=>{Wy(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=Yy(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Jy(this,$y(t.animation),e);return{type:1,matchers:eb(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:hb(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Jy(this,t,e)),options:hb(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=Jy(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:hb(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ub(Fy(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ub(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||Fy(i,e),ub(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:zm({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=zm(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(cb(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Wy(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(cb(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(cb(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,r.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let h=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));const u=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const s=h>0?i==u?1:h*i:r[i],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Jy(this,$y(t.animation),e),options:hb(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:hb(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:hb(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(sb,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,_y(e.collectedStyles,e.currentQuerySelector,{});const o=Jy(this,$y(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:hb(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Fy(t.timings,e.errors,!0);return{type:12,animation:Jy(this,$y(t.animation),e),timings:n,options:null}}}class lb{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function cb(t){return!Array.isArray(t)&&"object"==typeof t}function hb(t){var e;return t?(t=By(t)).params&&(t.params=(e=t.params)?By(e):null):t={},t}function ub(t,e,n){return{duration:t,delay:e,easing:n}}function db(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class pb{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const fb=new RegExp(":enter","g"),mb=new RegExp(":leave","g");function gb(t,e,n,i,r,s={},o={},a,l,c=[]){return(new vb).buildKeyframes(t,e,n,i,r,s,o,a,l,c)}class vb{buildKeyframes(t,e,n,i,r,s,o,a,l,c=[]){l=l||new pb;const h=new bb(t,e,l,i,r,c,[]);h.options=a,h.currentTimeline.setStyles([s],null,h.errors,a),Jy(this,n,h);const u=h.timelines.filter(t=>t.containsAnimation());if(u.length&&Object.keys(o).length){const t=u[u.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,h.errors,a)}return u.length?u.map(t=>t.buildKeyframes()):[db(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?Ly(n.duration):null,s=null!=n.delay?Ly(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),Jy(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=yb);const t=Ly(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Jy(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Ly(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),Jy(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Fy(e.params?Gy(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?Ly(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yb);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),Jy(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;Jy(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const yb={};class bb{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new _b(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Ly(n.duration)),null!=n.delay&&(i.delay=Ly(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Gy(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new bb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=yb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new wb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(fb,"."+this._enterClassName)).replace(mb,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class _b{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new _b(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):Vy(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Gy(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=Vy(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?Yy(t.values()):[],s=e.size?Yy(e.values()):[];if(n){const t=i[0],e=By(t);t.offset=0,e.offset=1,i=[t,e]}return db(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class wb extends _b{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=Vy(t[0],!1);a.offset=0,r.push(a);const l=Vy(t[0],!1);l.offset=xb(o),r.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let o=Vy(t[i],!1);o.offset=xb((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return db(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function xb(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Cb{}class Sb extends Cb{normalizePropertyName(t,e){return Ky(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(kb[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const kb=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Eb(t,e,n,i,r,s,o,a,l,c,h,u,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:d}}const Ib={};class Tb{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,c){const h=[],u=this.ast.options&&this.ast.options.params||Ib,d=this.buildStyles(n,o&&o.params||Ib,h),p=a&&a.params||Ib,f=this.buildStyles(i,p,h),m=new Set,g=new Map,v=new Map,y="void"===i,b={params:Object.assign(Object.assign({},u),p)},_=c?[]:gb(t,e,this.ast.animation,r,s,d,f,b,l,h);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),h.length)return Eb(e,this._triggerName,n,i,y,d,f,[],[],g,v,w,h);_.forEach(t=>{const n=t.element,i=_y(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=_y(v,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const x=Yy(m.values());return Eb(e,this._triggerName,n,i,y,d,f,_,x,g,v,w)}}class Ob{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=By(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=Gy(s,i,e)),n[t]=s})}}),n}}class Db{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Ob(t.style,t.options&&t.options.params||{})}),Ab(this.states,"true","1"),Ab(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Tb(t,e,this.states))}),this.fallbackTransition=new Tb(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Ab(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Rb=new pb;class Pb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=ob(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=gy(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=gb(this._driver,e,r,"ng-enter","ng-leave",{},{},n,Rb,i),s.forEach(t=>{const e=_y(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=my(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=by(e,"","","");return vy(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Mb=[],Lb={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nb={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Fb{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=By(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Bb=new Fb("void");class Vb{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Wb(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=_y(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=_y(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Wb(t,"ng-trigger"),Wb(t,"ng-trigger-"+e),a[e]=Bb),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new jb(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Wb(t,"ng-trigger"),Wb(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new Fb(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=Bb),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Uy(t,n),Hy(t,i)})}return}const c=_y(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let h=r.matchTransition(a.value,l.value,t,l.params),u=!1;if(!h){if(!i)return;h=r.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:a,toState:l,player:s,isFallbackTransition:u}),u||(Wb(t,"ng-animate-queued"),s.onStart(()=>{Gb(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&my(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||Bb,o=new Fb("void"),a=new jb(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==Lb||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Wb(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=by(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,vy(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class zb{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Vb(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(Hb(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Hb(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Wb(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gb(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(Hb(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return Hb(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return my(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Lb,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Wb(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?my(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new pb,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const h=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=qb(u,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>Wb(t,n))});const m=[],g=new Set,v=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const t=this.collectedLeaveElements[D],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):v.add(t))}const y=new Map,b=qb(u,Array.from(g));b.forEach((t,e)=>{const n="ng-leave"+f++;y.set(e,n),t.forEach(t=>Wb(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Gb(t,n))}),b.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Gb(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(_.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!h||!this.driver.containsElement(h,r),u=y.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,u,c);if(!f.errors||!f.errors.length)return c||t.isFallbackTransition?(e.onStart(()=>Uy(r,f.fromStyles)),e.onDestroy(()=>Hy(r,f.toStyles)),void i.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),s.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>_y(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{_y(x,e,[]).push(t),t.destroy()})});const S=m.filter(t=>Xb(t,a,l)),k=new Map;$b(k,this.driver,v,l,"*").forEach(t=>{Xb(t,a,l)&&S.push(t)});const E=new Map;d.forEach((t,e)=>{$b(E,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=k.get(t),n=E.get(t);k.set(t,Object.assign(Object.assign({},e),n))});const I=[],T=[],O={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Hy(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=O;if(C.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,r,E,k);if(s.setRealPlayer(n),t===O)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=my(e)),i.push(s)}}else Uy(e,o.fromStyles),s.onDestroy(()=>Hy(e,o.toStyles)),T.push(s),c.has(e)&&i.push(s)}),T.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=my(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let D=0;D<m.length;D++){const t=m[D],e=t.__ng_removed;if(Gb(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Yb(this,t,i):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=_y(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}Uy(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,l=[],c=new Set,h=new Set,u=e.timelines.map(e=>{const u=e.element;c.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new Gm(e.duration,e.delay);const p=u!==a,f=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof Ym?t(r.players,n):n.push(r)}}(t,e),e}((n.get(u)||Mb).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===u),m=r.get(u),g=s.get(u),v=gy(0,this._normalizer,0,e.keyframes,m,g),y=this._buildPlayer(e,v,f);if(e.subTimeline&&i&&h.add(u),p){const e=new jb(t,o,u);e.setRealPlayer(y),l.push(e)}return y});l.forEach(t=>{_y(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Wb(t,"ng-animating"));const d=my(u);return d.onDestroy(()=>{c.forEach(t=>Gb(t,"ng-animating")),Hy(a,e.toStyles)}),h.forEach(t=>{_y(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Gm(t.duration,t.delay)}}class jb{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Gm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>vy(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){_y(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Hb(t){return t&&1===t.nodeType}function Ub(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function $b(t,e,n,i,r){const s=[];n.forEach(t=>s.push(Ub(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Nb,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>Ub(t,s[a++])),o}function qb(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=r.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:i.has(o)?1:t(o),r.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Wb(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Gb(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Yb(t,e,n){my(n).onDone(()=>t.processLeaveNode(e))}function Xb(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class Kb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new zb(t,e,n),this._timelineEngine=new Pb(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=ob(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Db(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=wy(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=wy(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Zb(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Jb(e[0]),e.length>1&&(i=Jb(e[e.length-1]))):e&&(n=Jb(e)),n||i?new Qb(t,n,i):null}let Qb=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Hy(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hy(this._element,this._initialStyles),this._endStyles&&(Hy(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Uy(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Uy(this._element,this._endStyles),this._endStyles=null),Hy(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Jb(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];t_(r)&&(e=e||{},e[r]=t[r])}return e}function t_(t){return"display"===t||"position"===t}class e_{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=a_(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),o_(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),s_(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){n_(this._element,this._name,"paused")}resume(){n_(this._element,this._name,"running")}setPosition(t){const e=i_(this._element,this._name);this._position=t*this._duration,o_(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),s_(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=a_(t,"").split(","),i=r_(n,e);i>=0&&(n.splice(i,1),o_(t,"",n.join(",")))}(this._element,this._name))}}function n_(t,e,n){o_(t,"PlayState",n,i_(t,e))}function i_(t,e){const n=a_(t,"");return n.indexOf(",")>0?r_(n.split(","),e):r_([n],e)}function r_(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function s_(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function o_(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function a_(t,e){return t.style["animation"+e]}class l_{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new e_(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:tb(this.element,n))})}this.currentSnapshot=t}}class c_ extends Gm{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Ry(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class h_{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Ty(t)}matchesElement(t,e){return Oy(t,e)}containsElement(t,e){return Dy(t,e)}query(t,e,n){return Ay(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Ry(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.innerHTML=i,s}animate(t,e,n,i,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof l_),l={};Zy(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Qy(t,e,l));if(0==n)return new c_(t,c);const h=`gen_css_kf_${this._count++}`,u=this.buildKeyframeElement(t,h,e);document.querySelector("head").appendChild(u);const d=Zb(t,e),p=new l_(t,e,h,n,i,r,c,d);return p.onDestroy(()=>{var t;(t=u).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class u_{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:tb(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class d_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(p_().toString()),this._cssKeyframesDriver=new h_}validateStyleProperty(t){return Ty(t)}matchesElement(t,e){return Oy(t,e)}containsElement(t,e){return Dy(t,e)}query(t,e,n){return Ay(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=s.filter(t=>t instanceof u_);Zy(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const h=Zb(t,e=Qy(t,e=e.map(t=>Vy(t,!1)),l));return new u_(t,e,a,h)}}function p_(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let f_=(()=>{class t extends Lm{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:de.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Vm(t):t;return v_(this._renderer,null,e,"register",[n]),new m_(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Zt(ll),Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class m_ extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new g_(this._id,t,e||{},this._renderer)}}class g_{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return v_(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function v_(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}let y_=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new b_("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new __(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Zt(ll),Zt(Kb),Zt(Yc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class b_{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class __ extends b_{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let w_=(()=>{class t extends Kb{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh),Zt(My),Zt(Cb))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const x_=new jt("AnimationModuleType"),C_=[{provide:My,useFactory:function(){return"function"==typeof p_()?new d_:new h_}},{provide:x_,useValue:"BrowserAnimations"},{provide:Lm,useClass:f_},{provide:Cb,useFactory:function(){return new Sb}},{provide:Kb,useClass:w_},{provide:ll,useFactory:function(t,e,n){return new y_(t,e,n)},deps:[Pu,Kb,Yc]}];let S_=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:C_,imports:[Ku]}),t})();const k_=["*",[["mat-option"],["ng-container"]]],E_=["*","mat-option, ng-container"];function I_(t,e){if(1&t&&Bo(0,"mat-pseudo-checkbox",3),2&t){const t=Ko();Mo("state",t.selected?"checked":"")("disabled",t.disabled)}}const T_=["*"];let O_=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),D_=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const A_=new pl("8.2.3"),R_=new jt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let P_,M_=(()=>{class t{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&Ei()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){A_.full!==Vv.full&&console.warn("The Angular Material version ("+A_.full+") does not match the Angular CDK version ("+Vv.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Zt(R_,8),Zt(Vu,8))},imports:[[hg],hg]}),t})();function L_(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ug(t)}}}function N_(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function F_(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ug(t)}}}function B_(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function V_(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new k}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function z_(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new _(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){if(this._isInitialized)throw Error("This directive has already been marked as initialized and should not be called twice.");this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{P_="undefined"!=typeof Intl}catch(DV){P_=!1}let j_=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const H_=new jt("MAT_HAMMER_OPTIONS"),U_=["longpress","slide","slidestart","slideend","slideright","slideleft"],$_={on:()=>{},off:()=>{}};let q_=(()=>{class t extends zu{constructor(t,e){super(),this._hammerOptions=t,this.events=U_,e&&e._checkHammerIsAvailable()}buildHammer(t){const e="undefined"!=typeof window?window.Hammer:null;if(!e)return $_;const n=new e(t,this._hammerOptions||void 0),i=new e.Pan,r=new e.Swipe,s=new e.Press,o=this._createRecognizer(i,{event:"slide",threshold:0},r),a=this._createRecognizer(s,{event:"longpress",time:500});return i.recognizeWith(r),a.recognizeWith(o),n.add([r,s,i,o,a]),n}_createRecognizer(t,e,...n){let i=new t.constructor(e);return n.push(t),n.forEach(t=>i.recognizeWith(t)),i}}return t.\u0275fac=function(e){return new(e||t)(Zt(H_,8),Zt(M_,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const W_=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class G_{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=W_.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Y_={enterDuration:450,exitDuration:400},X_=nv({passive:!0});class K_{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===W_.VISIBLE||t.config.terminateOnPointerUp&&t.state===W_.FADING_IN)&&t.fadeOut()}))},i.isBrowser&&(this._containerElement=gg(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign({},Y_,n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,l=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=`${o-s}px`,c.style.top=`${a-s}px`,c.style.height=`${2*s}px`,c.style.width=`${2*s}px`,c.style.backgroundColor=n.color||null,c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const h=new G_(this,c,n);return h.state=W_.FADING_IN,this._activeRipples.add(h),n.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const t=h===this._mostRecentTransientRipple;h.state=W_.VISIBLE,n.persistent||t&&this._isPointerDown||h.fadeOut()},l),h}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign({},Y_,t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=W_.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=W_.HIDDEN,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=gg(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,n)=>{e.addEventListener(n,t,X_)})}),this._triggerElement=e)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,X_)})}}const Z_=new jt("mat-ripple-global-options");let Q_=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new K_(this,e,t,n),"NoopAnimations"===r&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Yc),Ao(Kg),Ao(Z_,8),Ao(x_,8))},t.\u0275dir=xe({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&ma("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),J_=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[M_,Zg],M_]}),t})(),tw=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(Ao(x_,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&ma("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:[".mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0,0,.2,.1),background-color 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:'';border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0,0,.2,.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}"],encapsulation:2,changeDetection:0}),t})(),ew=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();class nw{}const iw=L_(nw);let rw=0,sw=(()=>{class t extends iw{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${rw++}`}}return t.\u0275fac=function(e){return ow(e||t)},t.\u0275cmp=ge({type:t,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(Io("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),ma("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[za],ngContentSelectors:E_,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(Qo(k_),No(0,"label",0),Da(1),Jo(2),Fo(),Jo(3,1)),2&t&&(Mo("id",e._labelId),_r(1),Aa(e.label))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}"],encapsulation:2,changeDetection:0}),t})();const ow=hi(sw);let aw=0;class lw{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const cw=new jt("MAT_OPTION_PARENT_COMPONENT");let hw=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${aw++}`,this.onSelectionChange=new nc,this._stateChanges=new k}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=ug(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||ag(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new lw(this,t))}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Xs),Ao(cw,8),Ao(sw,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option"],hostVars:12,hostBindings:function(t,e){1&t&&qo("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(Fa("id",e.id),Io("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),ma("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:T_,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(Qo(),Oo(0,I_,1,2,"mat-pseudo-checkbox",0),No(1,"span",1),Jo(2),Fo(),Bo(3,"div",2)),2&t&&(Mo("ngIf",e.multiple),_r(3),Mo("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[Qh,Q_,tw],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}@media (-ms-high-contrast:active){.mat-option{margin:0 1px}.mat-option.mat-active{border:solid 1px currentColor;margin:0}}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}@media (-ms-high-contrast:active){.mat-option .mat-option-ripple{opacity:.5}}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],encapsulation:2,changeDetection:0}),t})();function uw(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[s]&&s++;return s}return 0}function dw(t,e,n,i){const r=t*e;return r<n?r:r+e>n+i?Math.max(0,r-i+e):n}let pw=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[J_,fu,ew]]}),t})();const fw=new jt("mat-label-global-options");function mw(t,e){}class gw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const vw=[jm("void, exit",zm({opacity:0,transform:"scale(0.7)"})),jm("enter",zm({transform:"none"})),Um("* => enter",Fm("150ms cubic-bezier(0, 0, 0.2, 1)",zm({transform:"none",opacity:1}))),Um("* => void, * => exit",Fm("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",zm({opacity:0})))],yw={dialogContainer:Nm("dialogContainer",vw),slideDialog:Nm("slideDialog",vw)};function bw(){throw Error("Attempting to attach dialog content after content is already attached")}let _w=(()=>{class t extends Jm{constructor(t,e,n,i,r){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._document=i,this._config=r,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new nc,this._ariaLabelledBy=r.ariaLabelledBy||null}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&bw(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&bw(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;this._config.restoreFocus&&t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(oy),Ao(Xs),Ao(Eh,8),Ao(gw))},t.\u0275cmp=ge({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&fc(ng,!0),2&t&&pc(n=_c())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&Wo("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(Io("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),Ba("@dialogContainer",e._state))},features:[za],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Oo(0,mw,0,0,"ng-template",0)},directives:[ng],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[yw.dialogContainer]}}),t})(),ww=0;class xw{constructor(t,e,n,i=`mat-dialog-${ww++}`){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new k,this._afterClosed=new k,this._beforeClosed=new k,this._state=0,e._id=i,e._animationStateChanged.pipe(ld(t=>"done"===t.phaseName&&"enter"===t.toState),Ed(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ld(t=>"done"===t.phaseName&&"exit"===t.toState),Ed(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._overlayRef.dispose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ld(t=>27===t.keyCode&&!this.disableClose&&!ag(t))).subscribe(t=>{t.preventDefault(),this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ld(t=>"start"===t.phaseName),Ed(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._state=2,this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}afterOpen(){return this.afterOpened()}beforeClose(){return this.beforeClosed()}getState(){return this._state}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const Cw=new jt("MatDialogData"),Sw=new jt("mat-dialog-default-options"),kw=new jt("mat-dialog-scroll-strategy"),Ew={provide:kw,deps:[Rv],useFactory:function(t){return()=>t.scrollStrategies.block()}};let Iw=(()=>{class t{constructor(t,e,n,i,r,s,o){this._overlay=t,this._injector=e,this._location=n,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k,this._afterOpenedAtThisLevel=new k,this._ariaHiddenElements=new Map,this.afterAllClosed=od(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Nd(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get afterOpen(){return this.afterOpened}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign({},e,t)}(e,this._defaultOptions||new gw)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),i=this._attachDialogContainer(n,e),r=this._attachDialogContent(t,i,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new yv({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=new og(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[gw,e]])),i=new Zm(_w,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const r=new xw(n,e,this._location,i.id);if(i.hasBackdrop&&n.backdropClick().subscribe(()=>{r.disableClose||r.close()}),t instanceof Dl)e.attachTemplatePortal(new Qm(t,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,e),s=e.attachComponentPortal(new Zm(t,void 0,n));r.componentInstance=s.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=new WeakMap([[_w,n],[Cw,t.data],[xw,e]]);return!t.direction||i&&i.get(cg,null)||r.set(cg,{value:t.direction,change:Zu()}),new og(i||this._injector,r)}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(Zt(Rv),Zt(uo),Zt(jh,8),Zt(Sw,8),Zt(kw),Zt(t,12),Zt(Sv))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),Tw=0,Ow=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this._elementRef=e,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Pw(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw,8),Ao(ol),Ao(Iw))},t.\u0275dir=xe({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&qo("click",(function(){return e.dialogRef.close(e.dialogResult)})),2&t&&Io("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Wa]}),t})(),Dw=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id=`mat-dialog-title-${Tw++}`}ngOnInit(){this._dialogRef||(this._dialogRef=Pw(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw,8),Ao(ol),Ao(Iw))},t.\u0275dir=xe({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&Fa("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),Aw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),Rw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})();function Pw(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}let Mw=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[Iw,Ew],imports:[[fu,Bv,sg,M_],M_]}),t})();function Lw(...t){if(1===t.length){const e=t[0];if(l(e))return Nw(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Nw(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Nw(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(F(t=>e(...t)))}return Nw(t,null)}function Nw(t,e){return new _(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=j(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&c||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}const Fw=new jt("NgValueAccessor"),Bw={provide:Fw,useExisting:Et(()=>Vw),multi:!0};let Vw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(hl),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&qo("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[nl([Bw])]}),t})();const zw={provide:Fw,useExisting:Et(()=>Hw),multi:!0},jw=new jt("CompositionEventMode");let Hw=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=kh()?kh().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(hl),Ao(ol),Ao(jw,8))},t.\u0275dir=xe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&qo("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[nl([zw])]}),t})(),Uw=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t}),t})(),$w=(()=>{class t extends Uw{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return qw(e||t)},t.\u0275dir=xe({type:t,features:[za]}),t})();const qw=hi($w);function Ww(){throw new Error("unimplemented")}class Gw extends Uw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Ww()}get asyncValidator(){return Ww()}}class Yw{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Xw=(()=>{class t extends Yw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Gw,2))},t.\u0275dir=xe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&ma("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[za]}),t})(),Kw=(()=>{class t extends Yw{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ao($w,2))},t.\u0275dir=xe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&ma("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[za]}),t})();function Zw(t){return null==t||0===t.length}const Qw=new jt("NgValidators"),Jw=new jt("NgAsyncValidators"),tx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ex{static min(t){return e=>{if(Zw(e.value)||Zw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Zw(e.value)||Zw(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Zw(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Zw(t.value)||tx.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Zw(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return ex.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Zw(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(nx);return 0==e.length?null:function(t){return rx(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(nx);return 0==e.length?null:function(t){return Lw(function(t,e){return e.map(e=>e(t))}(t,e).map(ix)).pipe(F(rx))}}}function nx(t){return null!=t}function ix(t){const e=Uo(t)?j(t):t;if(!$o(e))throw new Error("Expected validator to return Promise or Observable.");return e}function rx(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function sx(t){return t.validate?e=>t.validate(e):t}function ox(t){return t.validate?e=>t.validate(e):t}const ax={provide:Fw,useExisting:Et(()=>lx),multi:!0};let lx=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(hl),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&qo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[nl([ax])]}),t})();const cx={provide:Fw,useExisting:Et(()=>ux),multi:!0};let hx=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),ux=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Gw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(Ao(hl),Ao(ol),Ao(hx),Ao(uo))},t.\u0275dir=xe({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&qo("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[nl([cx])]}),t})();const dx={provide:Fw,useExisting:Et(()=>px),multi:!0};let px=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(hl),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&qo("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[nl([dx])]}),t})();const fx='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',mx='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',gx='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class vx{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${fx}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${mx}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${gx}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${fx}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${mx}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const yx={provide:Fw,useExisting:Et(()=>bx),multi:!0};let bx=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=_o}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(Ao(hl),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&qo("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[nl([yx])]}),t})();const _x={provide:Fw,useExisting:Et(()=>wx),multi:!0};let wx=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=_o}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(Ao(hl),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&qo("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[nl([_x])]}),t})();function xx(t,e){return[...e.path,t]}function Cx(t,e){t||Ix(e,"Cannot find control with"),e.valueAccessor||Ix(e,"No value accessor for form control with"),t.validator=ex.compose([t.validator,e.validator]),t.asyncValidator=ex.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Sx(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Sx(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Sx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function kx(t,e){null==t&&Ix(e,"Cannot find control with"),t.validator=ex.compose([t.validator,e.validator]),t.asyncValidator=ex.composeAsync([t.asyncValidator,e.asyncValidator])}function Ex(t){return Ix(t,"There is no FormControl instance attached to form control element with")}function Ix(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Tx(t){return null!=t?ex.compose(t.map(sx)):null}function Ox(t){return null!=t?ex.composeAsync(t.map(ox)):null}function Dx(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!_o(e,n.currentValue)}const Ax=[Vw,px,lx,bx,wx,ux];function Rx(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Px(t,e){if(!e)return null;Array.isArray(e)||Ix(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return e.forEach(e=>{var s;e.constructor===Hw?n=e:(s=e,Ax.some(t=>s.constructor===t)?(i&&Ix(t,"More than one built-in value accessor matches form control with"),i=e):(r&&Ix(t,"More than one custom value accessor matches form control with"),r=e))}),r||i||n||(Ix(t,"No valid value accessor for form control with"),null)}function Mx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Lx(t,e,n,i){Ei()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(vx.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function Nx(t){const e=Bx(t)?t.validators:t;return Array.isArray(e)?Tx(e):e||null}function Fx(t,e){const n=Bx(e)?e.asyncValidators:t;return Array.isArray(n)?Ox(n):n||null}function Bx(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Vx{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Nx(t)}setAsyncValidators(t){this.asyncValidator=Fx(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=ix(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof jx?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Hx&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new nc,this.statusChanges=new nc}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bx(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class zx extends Vx{constructor(t=null,e,n){super(Nx(e),Fx(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class jx extends Vx{constructor(t,e,n){super(Nx(e),Fx(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof zx?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Hx extends Vx{constructor(t,e,n){super(Nx(e),Fx(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof zx?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ux={provide:$w,useExisting:Et(()=>qx)},$x=(()=>Promise.resolve(null))();let qx=(()=>{class t extends $w{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new nc,this.form=new jx({},Tx(t),Ox(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$x.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Cx(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$x.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Mx(this._directives,t)})}addFormGroup(t){$x.then(()=>{const e=this._findContainer(t.path),n=new jx({});kx(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$x.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){$x.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Rx(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Ao(Qw,10),Ao(Jw,10))},t.\u0275dir=xe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&qo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nl([Ux]),za]}),t})(),Wx=(()=>{class t extends $w{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return xx(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Tx(this._validators)}get asyncValidator(){return Ox(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return Gx(e||t)},t.\u0275dir=xe({type:t,features:[za]}),t})();const Gx=hi(Wx);class Yx{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${fx}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${mx}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${gx}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${mx}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${gx}`)}}const Xx={provide:$w,useExisting:Et(()=>Kx)};let Kx=(()=>{class t extends Wx{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof qx||Yx.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(Ao($w,5),Ao(Qw,10),Ao(Jw,10))},t.\u0275dir=xe({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[nl([Xx]),za]}),t})();const Zx={provide:Gw,useExisting:Et(()=>Jx)},Qx=(()=>Promise.resolve(null))();let Jx=(()=>{class t extends Gw{constructor(t,e,n,i){super(),this.control=new zx,this._registered=!1,this.update=new nc,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Px(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Dx(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?xx(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Tx(this._rawValidators)}get asyncValidator(){return Ox(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cx(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Kx)&&this._parent instanceof Wx?Yx.formGroupNameException():this._parent instanceof Kx||this._parent instanceof qx||Yx.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Yx.missingNameException()}_updateValue(t){Qx.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Qx.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Ao($w,9),Ao(Qw,10),Ao(Jw,10),Ao(Fw,10))},t.\u0275dir=xe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nl([Zx]),za,Wa]}),t})(),tC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const eC=new jt("NgModelWithFormControlWarning"),nC={provide:Gw,useExisting:Et(()=>iC)};let iC=(()=>{class t extends Gw{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new nc,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=Px(this,n)}set isDisabled(t){vx.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(Cx(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Dx(e,this.viewModel)&&(Lx("formControl",t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return Tx(this._rawValidators)}get asyncValidator(){return Ox(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(Ao(Qw,10),Ao(Jw,10),Ao(Fw,10),Ao(eC,8))},t.\u0275dir=xe({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[nl([nC]),za,Wa]}),t._ngModelWarningSentOnce=!1,t})();const rC={provide:$w,useExisting:Et(()=>sC)};let sC=(()=>{class t extends $w{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new nc}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Cx(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Mx(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);kx(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);kx(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Rx(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Ex(e)),e.valueAccessor.registerOnTouched(()=>Ex(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Cx(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Tx(this._validators);this.form.validator=ex.compose([this.form.validator,t]);const e=Ox(this._asyncValidators);this.form.asyncValidator=ex.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||vx.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(Ao(Qw,10),Ao(Jw,10))},t.\u0275dir=xe({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&qo("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nl([rC]),za,Wa]}),t})();const oC={provide:$w,useExisting:Et(()=>aC)};let aC=(()=>{class t extends Wx{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){hC(this._parent)&&vx.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(Ao($w,13),Ao(Qw,10),Ao(Jw,10))},t.\u0275dir=xe({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[nl([oC]),za]}),t})();const lC={provide:$w,useExisting:Et(()=>cC)};let cC=(()=>{class t extends $w{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return xx(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return Tx(this._validators)}get asyncValidator(){return Ox(this._asyncValidators)}_checkParentType(){hC(this._parent)&&vx.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(Ao($w,13),Ao(Qw,10),Ao(Jw,10))},t.\u0275dir=xe({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[nl([lC]),za]}),t})();function hC(t){return!(t instanceof aC||t instanceof sC||t instanceof cC)}const uC={provide:Gw,useExisting:Et(()=>dC)};let dC=(()=>{class t extends Gw{constructor(t,e,n,i,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new nc,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=Px(this,i)}set isDisabled(t){vx.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),Dx(e,this.viewModel)&&(Lx("formControlName",t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return xx(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Tx(this._rawValidators)}get asyncValidator(){return Ox(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof aC)&&this._parent instanceof Wx?vx.ngModelGroupException():this._parent instanceof aC||this._parent instanceof sC||this._parent instanceof cC||vx.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(Ao($w,13),Ao(Qw,10),Ao(Jw,10),Ao(Fw,10),Ao(eC,8))},t.\u0275dir=xe({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[nl([uC]),za,Wa]}),t._ngModelWarningSentOnce=!1,t})();const pC={provide:Qw,useExisting:Et(()=>fC),multi:!0};let fC=(()=>{class t{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?ex.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&Io("required",e.required?"":null)},inputs:{required:"required"},features:[nl([pC])]}),t})(),mC=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),gC=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let i=null,r=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,r=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,r=null!=e.asyncValidator?e.asyncValidator:null)),new jx(n,{asyncValidators:r,updateOn:s,validators:i})}control(t,e,n){return new zx(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new Hx(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof zx||t instanceof jx||t instanceof Hx?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),vC=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[hx],imports:[mC]}),t})(),yC=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:eC,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[gC,hx],imports:[mC]}),t})();class bC{}class _C{}class wC{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof wC?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new wC;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof wC?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class xC{encodeKey(t){return CC(t)}encodeValue(t){return CC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function CC(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class SC{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new xC,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],o=n.get(r)||[];o.push(s),n.set(r,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new SC({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function kC(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function EC(t){return"undefined"!=typeof Blob&&t instanceof Blob}function IC(t){return"undefined"!=typeof FormData&&t instanceof FormData}class TC{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new wC),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new SC,this.urlWithParams=e}serializeBody(){return null===this.body?null:kC(this.body)||EC(this.body)||IC(this.body)||"string"==typeof this.body?this.body:this.body instanceof SC?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||IC(this.body)?null:EC(this.body)?this.body.type||null:kC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof SC?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,l=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(l=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),l)),new TC(e,n,r,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:s})}}const OC=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class DC{constructor(t,e=200,n="OK"){this.headers=t.headers||new wC,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class AC extends DC{constructor(t={}){super(t),this.type=OC.ResponseHeader}clone(t={}){return new AC({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class RC extends DC{constructor(t={}){super(t),this.type=OC.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new RC({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class PC extends DC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function MC(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let LC=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof TC)i=t;else{let r=void 0;r=n.headers instanceof wC?n.headers:new wC(n.headers);let s=void 0;n.params&&(s=n.params instanceof SC?n.params:new SC({fromObject:n.params})),i=new TC(t,e,void 0!==n.body?n.body:null,{headers:r,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Zu(i).pipe(zd(t=>this.handler.handle(t)));if(t instanceof TC||"events"===n.observe)return r;const s=r.pipe(ld(t=>t instanceof RC));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(F(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(F(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(F(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new SC).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,MC(n,e))}post(t,e,n={}){return this.request("POST",t,MC(n,e))}put(t,e,n={}){return this.request("PUT",t,MC(n,e))}}return t.\u0275fac=function(e){return new(e||t)(Zt(bC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class NC{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const FC=new jt("HTTP_INTERCEPTORS");let BC=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const VC=/^\)\]\}',?\n/;class zC{}let jC=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),HC=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const s=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new wC(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new AC({headers:s,status:e,statusText:i,url:o}),r},o=()=>{let{headers:i,status:r,statusText:o,url:a}=s(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof l){const t=l;l=l.replace(VC,"");try{l=""!==l?JSON.parse(l):null}catch(h){l=t,c&&(c=!1,l={error:h,text:l})}}c?(e.next(new RC({body:l,headers:i,status:r,statusText:o,url:a||void 0})),e.complete()):e.error(new PC({error:l,headers:i,status:r,statusText:o,url:a||void 0}))},a=t=>{const{url:i}=s(),r=new PC({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let l=!1;const c=i=>{l||(e.next(s()),l=!0);let r={type:OC.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},h=t=>{let n={type:OC.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",h)),n.send(i),e.next({type:OC.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",h)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(Zt(zC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const UC=new jt("XSRF_COOKIE_NAME"),$C=new jt("XSRF_HEADER_NAME");class qC{}let WC=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Gh(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh),Zt(Rc),Zt(UC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),GC=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Zt(qC),Zt($C))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),YC=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(FC,[]);this.chain=t.reduceRight((t,e)=>new NC(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Zt(_C),Zt(uo))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),XC=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:GC,useClass:BC}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:UC,useValue:e.cookieName}:[],e.headerName?{provide:$C,useValue:e.headerName}:[]]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[GC,{provide:FC,useExisting:GC,multi:!0},{provide:qC,useClass:WC},{provide:UC,useValue:"XSRF-TOKEN"},{provide:$C,useValue:"X-XSRF-TOKEN"}]}),t})(),KC=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[LC,{provide:bC,useClass:YC},HC,{provide:_C,useExisting:HC},jC,{provide:zC,useExisting:jC}],imports:[[XC.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();const ZC="https://smash-back.herokuapp.com",QC={headers:new wC({"Content-Type":"application/json"})};let JC=(()=>{class t{constructor(t){this.http=t}getCharacterByName(t){const e=(new SC).set("name",t);return this.http.get(ZC+"/getCharacterByName",{params:e,headers:QC.headers})}updateCharacter(t,e){return this.http.put(ZC+`/editCharacter/${t}`,e,{headers:QC.headers})}editCharacterWithImage(t,e,n,i){const r=new FormData;return r.append("originalCharacterName",JSON.stringify(t)),r.append("image",e),r.append("icon",n),r.append("character",JSON.stringify(i)),this.http.put(ZC+"/editCharacterWithImage",r)}removeCharacter(t){const e=(new SC).set("name",t);return this.http.delete(ZC+"/removeCharacter",{params:e,headers:QC.headers})}addCharacter(t){return this.http.post(ZC+"/addCharacter",t,{headers:QC.headers})}addCharacterWithImage(t,e,n){const i=new FormData;return i.append("image",t),i.append("icon",e),i.append("character",JSON.stringify(n)),this.http.post(ZC+"/addCharacterWithImage",i)}getAllCharacters(){return this.http.get(ZC+"/getAllCharacters",{headers:QC.headers}).pipe(Ud(t=>{this.characters=t;const e=JSON.parse(JSON.stringify(t));e.forEach(t=>t.image=null),sessionStorage.setItem("characters",JSON.stringify(e))}))}getAllStoredCharacters(){return this.characters?this.characters:JSON.parse(sessionStorage.getItem("characters"))}getStoredCharacterByName(t){return this.getAllStoredCharacters().find(e=>e.name===t)}getCharacterNames(){const t=new Array;return this.getAllStoredCharacters().forEach(e=>t.push(e.name)),t}getCharacterNamesFiltered(t){const e=new Array;for(const n of this.getAllStoredCharacters())-1===t.indexOf(n.name)&&e.push(n.name);return e}characterNameToCharacterId(t){for(const e of this.getAllStoredCharacters())if(e.name===t)return e.id}characterIdToCharacterName(t){for(const e of this.getAllStoredCharacters())if(e.id===t)return e.name}}return t.\u0275fac=function(e){return new(e||t)(Zt(LC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tS(t,e,n){return 0===n?[e]:(t.push(e),t)}class eS{}let nS=(()=>{class t extends eS{getTranslation(t){return Zu({})}}return t.\u0275fac=function(e){return iS(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const iS=hi(nS);class rS{}let sS=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class oS{}let aS=(()=>{class t extends oS{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(e){return lS(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const lS=hi(aS);function cS(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,i,r,s=typeof t;if(s==typeof e&&"object"==s){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in r=Object.create(null),t){if(!cS(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!cS(t[i],e[i]))return!1;return!0}}return!1}function hS(t){return null!=t}function uS(t){return t&&"object"==typeof t&&!Array.isArray(t)}class dS{}let pS=(()=>{class t extends dS{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n=e.split(".");e="";do{e+=n.shift(),!hS(t)||!hS(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let i=this.getValue(e,n);return hS(i)?i:t}):t}}return t.\u0275fac=function(e){return fS(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();const fS=hi(pS);class mS{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new nc,this.onLangChange=new nc,this.onDefaultLangChange=new nc}}const gS=new jt("USE_STORE"),vS=new jt("USE_DEFAULT_LANG");let yS=(()=>{class t{constructor(t,e,n,i,r,s=!0,o=!1){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=i,this.missingTranslationHandler=r,this.useDefaultLang=s,this.isolate=o,this.pending=!1,this._onTranslationChange=new nc,this._onLangChange=new nc,this._onDefaultLangChange=new nc,this._langs=[],this._translations={},this._translationRequests={}}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(this.defaultLang||(this.defaultLang=t),e.pipe(Ed(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return Zu(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(Ed(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),Zu(this.translations[t]))}retrieveTranslations(t){let e;return void 0===this.translations[t]&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(it());return this.loadingTranslations=e.pipe(Ed(1),F(e=>this.compiler.compileTranslations(e,t)),it()),this.loadingTranslations.subscribe(e=>{this.translations[t]=e,this.updateLangs(),this.pending=!1},t=>{this.pending=!1}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=n&&this.translations[t]?function t(e,n){let i=Object.assign({},e);return uS(e)&&uS(n)&&Object.keys(n).forEach(r=>{uS(n[r])?r in e?i[r]=t(e[r],n[r]):Object.assign(i,{[r]:n[r]}):Object.assign(i,{[r]:n[r]})}),i}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let i;if(e instanceof Array){let i={},r=!1;for(let s of e)i[s]=this.getParsedResult(t,s,n),"function"==typeof i[s].subscribe&&(r=!0);if(r){let t;for(let n of e){let e="function"==typeof i[n].subscribe?i[n]:Zu(i[n]);t=void 0===t?e:G(t,e)}return t.pipe(jd(tS,[]),F(t=>{let n={};return t.forEach((t,i)=>{n[e[i]]=t}),n}))}return i}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),i=this.missingTranslationHandler.handle(t)}return void 0!==i?i:e}get(t,e){if(!hS(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return _.create(n=>{let i=t=>{n.next(t),n.complete()},r=t=>{n.error(t)};this.loadingTranslations.subscribe(n=>{"function"==typeof(n=this.getParsedResult(n,t,e)).subscribe?n.subscribe(i,r):i(n)},r)});{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return"function"==typeof n.subscribe?n:Zu(n)}}stream(t,e){if(!hS(t)||!t.length)throw new Error('Parameter "key" required');return Ld(this.get(t,e),this.onLangChange.pipe(Rd(n=>{const i=this.getParsedResult(n.translations,t,e);return"function"==typeof i.subscribe?i:Zu(i)})))}instant(t,e){if(!hS(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(void 0!==n.subscribe){if(t instanceof Array){let e={};return t.forEach((n,i)=>{e[t[i]]=t[i]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang||this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(Zt(mS),Zt(eS),Zt(oS),Zt(dS),Zt(rS),Zt(vS),Zt(gS))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),bS=(()=>{class t{constructor(t,e,n){this.translateService=t,this.element=e,this._ref=n,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(t=>{t.lang===this.translateService.currentLang&&this.checkNodes(!0,t.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(t=>{this.checkNodes(!0,t.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(t=>{this.checkNodes(!0)}))}set translate(t){t&&(this.key=t,this.checkNodes())}set translateParams(t){cS(this.currentParams,t)||(this.currentParams=t,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(t=!1,e){let n=this.element.nativeElement.childNodes;n.length||(this.setContent(this.element.nativeElement,this.key),n=this.element.nativeElement.childNodes);for(let i=0;i<n.length;++i){let r=n[i];if(3===r.nodeType){let n;if(this.key)n=this.key,t&&(r.lastKey=null);else{let e=this.getContent(r),i=e.trim();i.length&&(e!==r.currentValue?(n=i,r.originalContent=this.getContent(r)):r.originalContent&&t&&(r.lastKey=null,n=r.originalContent.trim()))}this.updateValue(n,r,e)}}}updateValue(t,e,n){if(t){if(e.lastKey===t&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let i=n=>{n!==t&&(e.lastKey=t),e.originalContent||(e.originalContent=this.getContent(e)),e.currentValue=hS(n)?n:e.originalContent||t,this.setContent(e,this.key?e.currentValue:e.originalContent.replace(t,e.currentValue)),this._ref.markForCheck()};if(hS(n)){let e=this.translateService.getParsedResult(n,t,this.currentParams);"function"==typeof e.subscribe?e.subscribe(i):i(e)}else this.translateService.get(t,this.currentParams).subscribe(i)}}getContent(t){return hS(t.textContent)?t.textContent:t.data}setContent(t,e){hS(t.textContent)?t.textContent=e:t.data=e}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ao(yS),Ao(ol),Ao(Xs))},t.\u0275dir=xe({type:t,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),t})(),_S=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let i=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let r=this.translate.getParsedResult(n,t,e);"function"==typeof r.subscribe?r.subscribe(i):i(r)}this.translate.get(t,e).subscribe(i)}transform(t,...e){if(!t||0===t.length)return t;if(cS(t,this.lastKey)&&cS(e,this.lastParams))return this.value;let n;if(hS(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(i){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${e[0]}`)}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(Ao(yS),kc())},t.\u0275pipe=Ce({name:"translate",type:t,pure:!1}),t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),wS=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:eS,useClass:nS},e.compiler||{provide:oS,useClass:aS},e.parser||{provide:dS,useClass:pS},e.missingTranslationHandler||{provide:rS,useClass:sS},mS,{provide:gS,useValue:e.isolate},{provide:vS,useValue:e.useDefaultLang},yS]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:eS,useClass:nS},e.compiler||{provide:oS,useClass:aS},e.parser||{provide:dS,useClass:pS},e.missingTranslationHandler||{provide:rS,useClass:sS},{provide:gS,useValue:e.isolate},{provide:vS,useValue:e.useDefaultLang},yS]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();const xS=["underline"],CS=["connectionContainer"],SS=["inputContainer"],kS=["label"];function ES(t,e){1&t&&(Vo(0),No(1,"div",14),Bo(2,"div",15),Bo(3,"div",16),Bo(4,"div",17),Fo(),No(5,"div",18),Bo(6,"div",15),Bo(7,"div",16),Bo(8,"div",17),Fo(),zo())}function IS(t,e){1&t&&(No(0,"div",19),Jo(1,1),Fo())}function TS(t,e){if(1&t&&(Vo(0),Jo(1,2),No(2,"span"),Da(3),Fo(),zo()),2&t){const t=Ko(2);_r(3),Aa(t._control.placeholder)}}function OS(t,e){1&t&&Jo(0,3,["*ngSwitchCase","true"])}function DS(t,e){1&t&&(No(0,"span",23),Da(1," *"),Fo())}function AS(t,e){if(1&t){const t=Ho();No(0,"label",20,21),qo("cdkObserveContent",(function(){return Je(t),Ko().updateOutlineGap()})),Oo(2,TS,4,1,"ng-container",12),Oo(3,OS,1,0,void 0,12),Oo(4,DS,2,0,"span",22),Fo()}if(2&t){const t=Ko();ma("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Mo("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Io("for",t._control.id)("aria-owns",t._control.id),_r(2),Mo("ngSwitchCase",!1),_r(1),Mo("ngSwitchCase",!0),_r(1),Mo("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function RS(t,e){1&t&&(No(0,"div",24),Jo(1,4),Fo())}function PS(t,e){if(1&t&&(No(0,"div",25,26),Bo(2,"span",27),Fo()),2&t){const t=Ko();_r(2),ma("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function MS(t,e){1&t&&(No(0,"div"),Jo(1,5),Fo()),2&t&&Mo("@transitionMessages",Ko()._subscriptAnimationState)}function LS(t,e){if(1&t&&(No(0,"div",31),Da(1),Fo()),2&t){const t=Ko(2);Mo("id",t._hintLabelId),_r(1),Aa(t.hintLabel)}}function NS(t,e){if(1&t&&(No(0,"div",28),Oo(1,LS,2,2,"div",29),Jo(2,6),Bo(3,"div",30),Jo(4,7),Fo()),2&t){const t=Ko();Mo("@transitionMessages",t._subscriptAnimationState),_r(1),Mo("ngIf",t.hintLabel)}}const FS=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],BS=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let VS=0,zS=(()=>{class t{constructor(){this.id=`mat-error-${VS++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&Io("id",e.id)},inputs:{id:"id"}}),t})();const jS={transitionMessages:Nm("transitionMessages",[jm("enter",zm({opacity:1,transform:"translateY(0%)"})),Um("void => enter",[zm({opacity:0,transform:"translateY(-100%)"}),Fm("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};class HS{}function US(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let $S=0,qS=(()=>{class t{constructor(){this.align="start",this.id=`mat-hint-${$S++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(Io("id",e.id)("align",null),ma("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),WS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["mat-label"]]}),t})(),GS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["mat-placeholder"]]}),t})(),YS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["","matPrefix",""]]}),t})(),XS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["","matSuffix",""]]}),t})(),KS=0;class ZS{constructor(t){this._elementRef=t}}const QS=N_(ZS,"primary"),JS=new jt("MAT_FORM_FIELD_DEFAULT_OPTIONS");let tk=(()=>{class t extends QS{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new k,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${KS++}`,this._labelId=`mat-form-field-label-${KS++}`,this._previousDirection="ltr",this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ug(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Nd(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Lg(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Lg(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),G(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Nd(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Nd(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Lg(this._destroyed)).subscribe(()=>{this.updateOutlineGap(),this._previousDirection=this._dir.value})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,vg(this._label.nativeElement,"transitionend").pipe(Ed(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw US("start");t=n}else if("end"===n.align){if(e)throw US("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!document.documentElement.contains(this._elementRef.nativeElement))return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=o-s-5,n=a>0?.75*a+10:0}for(let o=0;o<r.length;o++)r.item(o).style.width=`${e}px`;for(let o=0;o<s.length;o++)s.item(o).style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return"rtl"===this._previousDirection?t.right:t.left}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Xs),Ao(fw,8),Ao(cg,8),Ao(JS,8),Ao(Kg),Ao(Yc),Ao(x_,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(vc(n,HS,!0),yc(n,HS,!0),vc(n,WS,!0),yc(n,WS,!0),vc(n,GS,!0),vc(n,zS,!1),vc(n,qS,!1),vc(n,YS,!1),vc(n,XS,!1)),2&t&&(pc(i=_c())&&(e._controlNonStatic=i.first),pc(i=_c())&&(e._controlStatic=i.first),pc(i=_c())&&(e._labelChildNonStatic=i.first),pc(i=_c())&&(e._labelChildStatic=i.first),pc(i=_c())&&(e._placeholderChild=i.first),pc(i=_c())&&(e._errorChildren=i),pc(i=_c())&&(e._hintChildren=i),pc(i=_c())&&(e._prefixChildren=i),pc(i=_c())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(mc(xS,!0),fc(CS,!0),mc(SS,!0),mc(kS,!0)),2&t&&(pc(n=_c())&&(e.underlineRef=n.first),pc(n=_c())&&(e._connectionContainerRef=n.first),pc(n=_c())&&(e._inputContainerRef=n.first),pc(n=_c())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&ma("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[za],ngContentSelectors:BS,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(Qo(FS),No(0,"div",0),No(1,"div",1,2),qo("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),Oo(3,ES,9,0,"ng-container",3),Oo(4,IS,2,0,"div",4),No(5,"div",5,6),Jo(7),No(8,"span",7),Oo(9,AS,5,16,"label",8),Fo(),Fo(),Oo(10,RS,2,0,"div",9),Fo(),Oo(11,PS,3,4,"div",10),No(12,"div",11),Oo(13,MS,2,1,"div",12),Oo(14,NS,5,2,"div",13),Fo(),Fo()),2&t&&(_r(3),Mo("ngIf","outline"==e.appearance),_r(1),Mo("ngIf",e._prefixChildren.length),_r(5),Mo("ngIf",e._hasFloatingLabel()),_r(1),Mo("ngIf",e._suffixChildren.length),_r(1),Mo("ngIf","outline"!=e.appearance),_r(1),Mo("ngSwitch",e._getDisplayedMessages()),_r(1),Mo("ngSwitchCase","error"),_r(1),Mo("ngSwitchCase","hint"))},directives:[Qh,nu,iu,Wv],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}@media (-ms-high-contrast:active){.mat-form-field-infix{border-image:linear-gradient(transparent,transparent)}}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .4s cubic-bezier(.25,.8,.25,1),color .4s cubic-bezier(.25,.8,.25,1),width .4s cubic-bezier(.25,.8,.25,1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-empty.mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scaleY(1.0001)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-label-wrapper .mat-icon,.mat-form-field-subscript-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none} .mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:'';display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em} .mat-input-element{font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=month]::after,.mat-input-element[type=time]::after,.mat-input-element[type=week]::after{content:' ';white-space:pre;width:1px}.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button,.mat-input-element::-webkit-inner-spin-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent!important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:0 0}@media (-ms-high-contrast:active){.mat-focused select.mat-input-element::-ms-value{color:inherit}}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:'';width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px} .mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px} .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-start{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start{border-width:2px;transition:border-color .3s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity .1s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline{transition:none} .mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}@media (-ms-high-contrast:active){.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity .6s cubic-bezier(.25,.8,.25,1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[jS.transitionMessages]},changeDetection:0}),t})(),ek=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,Gv]]}),t})();const nk=nv({passive:!0});let ik=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return rd;const e=gg(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const i=new k,r="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,nk),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",s,nk)}}),i.asObservable()}stopMonitoring(t){const e=gg(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(Zt(Kg),Zt(Yc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Kg),Zt(Yc))},token:t,providedIn:"root"}),t})(),rk=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Zg]]}),t})();const sk=new jt("MAT_INPUT_VALUE_ACCESSOR"),ok=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ak=0;class lk{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const ck=V_(lk);let hk=(()=>{class t extends ck{constructor(t,e,n,i,r,s,o,a,l){super(s,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${ak++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new k,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Jg().has(t));const c=this._elementRef.nativeElement;this._inputValueAccessor=o||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===c.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ug(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=ug(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&Jg().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ug(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(ok.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Kg),Ao(Gw,10),Ao(qx,8),Ao(sC,8),Ao(j_),Ao(sk,10),Ao(ik),Ao(Yc))},t.\u0275dir=xe({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&qo("blur",(function(){return e._focusChanged(!1)}))("focus",(function(){return e._focusChanged(!0)}))("input",(function(){return e._onInput()})),2&t&&(Fa("disabled",e.disabled)("required",e.required),Io("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),ma("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[nl([{provide:HS,useExisting:t}]),za,Wa]}),t})(),uk=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[j_],imports:[[fu,rk,ek],rk,ek]}),t})();const dk=["trigger"],pk=["panel"];function fk(t,e){if(1&t&&(No(0,"span",8),Da(1),Fo()),2&t){const t=Ko();_r(1),Aa(t.placeholder||"\xa0")}}function mk(t,e){if(1&t&&(No(0,"span"),Da(1),Fo()),2&t){const t=Ko(2);_r(1),Aa(t.triggerValue||"\xa0")}}function gk(t,e){1&t&&Jo(0,0,["*ngSwitchCase","true"])}function vk(t,e){1&t&&(No(0,"span",9),Oo(1,mk,2,1,"span",10),Oo(2,gk,1,0,void 0,11),Fo()),2&t&&(Mo("ngSwitch",!!Ko().customTrigger),_r(2),Mo("ngSwitchCase",!0))}function yk(t,e){if(1&t){const t=Ho();No(0,"div",12),No(1,"div",13,14),qo("@transformPanel.done",(function(e){return Je(t),Ko()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return Je(t),Ko()._handleKeydown(e)})),Jo(3,1),Fo(),Fo()}if(2&t){const t=Ko();Mo("@transformPanelWrap",void 0),_r(1),Na("mat-select-panel ",t._getPanelTheme(),""),fa("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),Mo("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing")}}const bk=[[["mat-select-trigger"]],"*"],_k=["mat-select-trigger","*"],wk={transformPanelWrap:Nm("transformPanelWrap",[Um("* => void",qm("@transformPanel",[$m()],{optional:!0}))]),transformPanel:Nm("transformPanel",[jm("void",zm({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),jm("showing",zm({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),jm("showing-multiple",zm({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Um("void => *",Fm("120ms cubic-bezier(0, 0, 0.2, 1)")),Um("* => void",Fm("100ms 25ms linear",zm({opacity:0})))]),fadeInContent:Nm("fadeInContent",[jm("showing",zm({opacity:1})),Um("void => showing",[zm({opacity:0}),Fm("150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let xk=0;const Ck=new jt("mat-select-scroll-strategy"),Sk={provide:Ck,deps:[Rv],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class kk{constructor(t,e){this.source=t,this.value=e}}class Ek{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const Ik=F_(B_(L_(V_(Ek))));let Tk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["mat-select-trigger"]]}),t})(),Ok=(()=>{class t extends Ik{constructor(t,e,n,i,r,s,o,a,l,c,h,u,d){super(r,i,o,a,c),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid=`mat-select-${xk++}`,this._destroy=new k,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new k,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=od(()=>{const t=this.options;return t?t.changes.pipe(Nd(t),Rd(()=>G(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(Ed(1),Rd(()=>this.optionSelectionChanges))}),this.openedChange=new nc,this._openedStream=this.openedChange.pipe(ld(t=>t),F(()=>{})),this._closedStream=this.openedChange.pipe(ld(t=>!t),F(()=>{})),this.selectionChange=new nc,this.valueChange=new nc,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=u,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}set focused(t){this._focused=t}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=ug(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=ug(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=ug(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new sv(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(kg(),Lg(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Lg(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.onChange.pipe(Lg(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Nd(null),Lg(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Ed(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=this._keyManager;if((13===e||32===e)&&!ag(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;36===e||35===e?(36===e?i.setFirstItemActive():i.setLastItemActive(),t.preventDefault()):i.onKeydown(t);const r=this.selected;this._liveAnnouncer&&r&&n!==r&&this._liveAnnouncer.announce(r.viewValue,1e4)}}_handleOpenKeydown(t){const e=t.keyCode,n=40===e||38===e,i=this._keyManager;if(36===e||35===e)t.preventDefault(),36===e?i.setFirstItemActive():i.setLastItemActive();else if(n&&t.altKey)t.preventDefault(),this.close();else if(13!==e&&32!==e||!i.activeItem||ag(t))if(this._multiple&&65===e&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const e=i.activeItemIndex;i.onKeydown(t),this._multiple&&n&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==e&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Ed(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return Ei()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new ty(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Lg(this._destroy)).subscribe(()=>{this.focus(),this.close()}),this._keyManager.change.pipe(Lg(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=G(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Lg(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),G(...this.options.map(t=>t._stateChanges)).pipe(Lg(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new kk(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=uw(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=dw(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop,256)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0===e?t===n?i:void 0:e,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=uw(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const s=0-(t.left+r-(n?i:0)),o=t.right+r-e.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(256/i);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,256)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(Ao(cv),Ao(Xs),Ao(Yc),Ao(j_),Ao(ol),Ao(cg,8),Ao(qx,8),Ao(sC,8),Ao(tk,8),Ao(Gw,10),Ro("tabindex"),Ao(Ck),Ao(cy))},t.\u0275cmp=ge({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(vc(n,Tk,!0),vc(n,hw,!0),vc(n,sw,!1)),2&t&&(pc(i=_c())&&(e.customTrigger=i.first),pc(i=_c())&&(e.options=i),pc(i=_c())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(mc(dk,!0),mc(pk,!0),mc(Nv,!0)),2&t&&(pc(n=_c())&&(e.trigger=n.first),pc(n=_c())&&(e.panel=n.first),pc(n=_c())&&(e.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&qo("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(Io("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),ma("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[nl([{provide:HS,useExisting:t},{provide:cw,useExisting:t}]),za,Wa],ngContentSelectors:_k,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(Qo(bk),No(0,"div",0,1),qo("click",(function(){return e.toggle()})),No(3,"div",2),Oo(4,fk,2,1,"span",3),Oo(5,vk,3,2,"span",4),Fo(),No(6,"div",5),Bo(7,"div",6),Fo(),Fo(),Oo(8,yk,4,10,"ng-template",7),qo("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){const t=Do(1);_r(3),Mo("ngSwitch",e.empty),_r(1),Mo("ngSwitchCase",!0),_r(1),Mo("ngSwitchCase",!1),_r(3),Mo("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Lv,nu,iu,Nv,ru,Yh],styles:[".mat-select{display:inline-block;width:100%;outline:0}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform .4s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}@media (-ms-high-contrast:active){.mat-select-panel{outline:solid 1px}}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color .4s .133s cubic-bezier(.25,.8,.25,1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}"],encapsulation:2,data:{animation:[wk.transformPanelWrap,wk.transformPanel]},changeDetection:0}),t})(),Dk=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[Sk],imports:[[fu,Bv,pw,M_],ek,pw,M_]}),t})(),Ak=(()=>{class t{constructor(){this.onFileDropped=new nc,this.opacity="1"}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.opacity="0.8"}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.opacity="1"}ondrop(t){t.preventDefault(),t.stopPropagation(),this.opacity="1";const e=t.dataTransfer.files;e.length>0&&this.onFileDropped.emit(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["","appDragDrop",""]],hostVars:2,hostBindings:function(t,e){1&t&&qo("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.ondrop(t)})),2&t&&fa("opacity",e.opacity)},outputs:{onFileDropped:"onFileDropped"}}),t})();const Rk=["*"];function Pk(t){return Error(`Unable to find icon with the name "${t}"`)}function Mk(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Lk(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class Nk{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let Fk=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new Nk(n,i))}addSvgIconLiteralInNamespace(t,e,n,i){const r=this._sanitizer.sanitize(Xi.HTML,n);if(!r)throw Lk(n);const s=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(t,e,new Nk(s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Nk(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(Xi.HTML,e);if(!i)throw Lk(e);const r=this._svgElementFromString(i);return this._addSvgIconSetConfig(t,new Nk(r,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(Xi.RESOURCE_URL,t);if(!e)throw Mk(t);const n=this._cachedIconsByUrl.get(e);return n?Zu(Bk(n)):this._loadSvgIconFromConfig(new Nk(t)).pipe(Ud(t=>this._cachedIconsByUrl.set(e,t)),F(t=>Bk(t)))}getNamedSvgIcon(t,e=""){const n=Vk(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):jg(Pk(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?Zu(Bk(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Ud(e=>t.svgElement=e),F(t=>Bk(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Zu(n):Lw(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Cd(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(Xi.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),Zu(null)})))).pipe(F(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Pk(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgElement){const e=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(F(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?Zu(t.svgElement):this._fetchUrl(t.url).pipe(F(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(r),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(Xi.RESOURCE_URL,t);if(!e)throw Mk(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const i=this._httpClient.get(e,{responseType:"text"}).pipe(Wd(()=>this._inProgressUrlFetches.delete(e)),it());return this._inProgressUrlFetches.set(e,i),i}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(Vk(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275fac=function(e){return new(e||t)(Zt(LC,8),Zt(Wu),Zt(Eh,8),Zt(fi,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(LC,8),Zt(Wu),Zt(Eh,8),Zt(fi,8))},token:t,providedIn:"root"}),t})();function Bk(t){return t.cloneNode(!0)}function Vk(t,e){return t+":"+e}class zk{constructor(t){this._elementRef=t}}const jk=N_(zk),Hk=new jt("mat-icon-location",{providedIn:"root",factory:function(){const t=Qt(Eh),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Uk=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$k=Uk.map(t=>`[${t}]`).join(", "),qk=/^url\(['"]?#(.*?)['"]?\)$/;let Wk=(()=>{class t extends jk{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=ug(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(Ed(1)).subscribe(t=>this._setSvgElement(t),n=>{const i=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(i)):console.error(i)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll($k),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)Uk.forEach(t=>{const r=e[i],s=r.getAttribute(t),o=s?s.match(qk):null;if(o){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:o[1]})}})}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Fk),Ro("aria-hidden"),Ao(Hk,8),Ao(fi,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&ma("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[za,Wa],ngContentSelectors:Rk,decls:1,vars:0,template:function(t,e){1&t&&(Qo(),Jo(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),t})(),Gk=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[M_],M_]}),t})();const Yk=function(){return{color:"white"}};function Xk(t,e){if(1&t){const t=Ho();No(0,"div",4),Bo(1,"img",5),No(2,"mat-icon",6),qo("click",(function(){return Je(t),Ko().deleteImage()})),Da(3,"delete"),Fo(),Fo()}if(2&t){const t=Ko();_r(1),Mo("src",t.imagePreview,er),_r(1),Mo("ngStyle",Kl(2,Yk))}}let Kk=(()=>{class t{constructor(t){this.characterService=t,this.fileUploaded=new nc}ngOnInit(){}uploadFile(t){const e=t[0],n=new FileReader;n.readAsDataURL(e),n.onload=()=>{this.fileUploaded.emit(e),this.imagePreview=n.result}}deleteImage(){this.fileUploaded.emit(null),this.imagePreview=null}}return t.\u0275fac=function(e){return new(e||t)(Ao(JC))},t.\u0275cmp=ge({type:t,selectors:[["app-upload-file"]],outputs:{fileUploaded:"fileUploaded"},decls:4,vars:1,consts:[["appDragDrop","",1,"uploadfilecontainer",3,"click","onFileDropped"],["hidden","","type","file",3,"change"],["fileInput",""],["class","file-preview",4,"ngIf"],[1,"file-preview"],["height","120px",2,"height","150px","margin-right","16px",3,"src"],["aria-hidden","false","aria-label","Delte icon",1,"delete-file",3,"ngStyle","click"]],template:function(t,e){if(1&t){const t=Ho();No(0,"div",0),qo("click",(function(){return Je(t),Do(2).click()}))("onFileDropped",(function(t){return e.uploadFile(t)})),No(1,"input",1,2),qo("change",(function(t){return e.uploadFile(t.target.files)})),Fo(),Fo(),Oo(3,Xk,4,3,"div",3)}2&t&&(_r(3),Mo("ngIf",e.imagePreview))},directives:[Ak,Qh,Wk,su],styles:[".uploadfilecontainer[_ngcontent-%COMP%]{background-image:url(download.7849a491c3961ae70fe7.svg);background-repeat:no-repeat;background-size:50px;background-position:50%;background-color:#cdcddd;height:150px;width:50%;margin:20px auto;border:1px solid #17313a;border-radius:10px}.uploadfilecontainer[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#becbd2!important}.file-preview[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:80%;margin:10px auto;padding:5px}.file-preview[_ngcontent-%COMP%]   .delete-file[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer}.file-preview[_ngcontent-%COMP%]   .delete-file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}"]}),t})();const Zk=["thumbContainer"],Qk=["toggleBar"],Jk=["input"],tE=function(){return{enterDuration:150}},eE=["*"],nE=new jt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,disableDragValue:!1})});let iE=0;const rE={provide:Fw,useExisting:Et(()=>lE),multi:!0};class sE{constructor(t,e){this.source=t,this.checked=e}}class oE{constructor(t){this._elementRef=t}}const aE=B_(N_(F_(L_(oE)),"accent"));let lE=(()=>{class t extends aE{constructor(t,e,n,i,r,s,o,a){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._ngZone=r,this.defaults=s,this._animationMode=o,this._dir=a,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId=`mat-slide-toggle-${++iE}`,this._required=!1,this._checked=!1,this._dragging=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new nc,this.toggleChange=new nc,this.dragChange=new nc,this.tabIndex=parseInt(i)||0}get required(){return this._required}set required(t){this._required=ug(t)}get checked(){return this._checked}set checked(t){this._checked=ug(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this._dragging||this.toggleChange.emit(),this._dragging||this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new sE(this,this.checked))}_getDragPercentage(t){let e=t/this._thumbBarWidth*100;return this._previousChecked&&(e+=100),Math.max(0,Math.min(e,100))}_onDragStart(){if(!this.disabled&&!this._dragging){const t=this._thumbEl.nativeElement;this._thumbBarWidth=this._thumbBarEl.nativeElement.clientWidth-t.clientWidth,t.classList.add("mat-dragging"),this._previousChecked=this.checked,this._dragging=!0}}_onDrag(t){if(this._dragging){const e=this._dir&&"rtl"===this._dir.value?-1:1;this._dragPercentage=this._getDragPercentage(t.deltaX*e),this._thumbEl.nativeElement.style.transform=`translate3d(${this._dragPercentage/100*this._thumbBarWidth*e}px, 0, 0)`}}_onDragEnd(){if(this._dragging){const t=this._dragPercentage>50;t!==this.checked&&(this.dragChange.emit(),this.defaults.disableDragValue||(this.checked=t,this._emitChangeEvent())),this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._dragging&&(this._dragging=!1,this._thumbEl.nativeElement.classList.remove("mat-dragging"),this._thumbEl.nativeElement.style.transform="")}))}}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(uy),Ao(Xs),Ro("tabindex"),Ao(Yc),Ao(nE),Ao(x_,8),Ao(cg,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){var n;1&t&&(mc(Zk,!0),mc(Qk,!0),mc(Jk,!0)),2&t&&(pc(n=_c())&&(e._thumbEl=n.first),pc(n=_c())&&(e._thumbBarEl=n.first),pc(n=_c())&&(e._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&qo("focus",(function(){return e._inputElement.nativeElement.focus()})),2&t&&(Fa("id",e.id),Io("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),ma("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[nl([rE]),za],ngContentSelectors:eE,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container",3,"slidestart","slide","slideend"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(Qo(),No(0,"label",0,1),No(2,"div",2,3),No(4,"input",4,5),qo("change",(function(t){return e._onChangeEvent(t)}))("click",(function(t){return e._onInputClick(t)})),Fo(),No(6,"div",6,7),qo("slidestart",(function(){return e._onDragStart()}))("slide",(function(t){return e._onDrag(t)}))("slideend",(function(){return e._onDragEnd()})),Bo(8,"div",8),No(9,"div",9),Bo(10,"div",10),Fo(),Fo(),Fo(),No(11,"span",11,12),qo("cdkObserveContent",(function(){return e._onLabelTextChange()})),No(13,"span",13),Da(14,"\xa0"),Fo(),Jo(15),Fo(),Fo()),2&t){const t=Do(1),n=Do(12);Io("for",e.inputId),_r(2),ma("mat-slide-toggle-bar-no-side-margin",!n.textContent||!n.textContent.trim()),_r(2),Mo("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),Io("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),_r(5),Mo("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",Kl(17,tE))}},directives:[Q_,Wv],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px,0,0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px,0,0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}.mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-right:8px;margin-left:0}.mat-slide-toggle-label-before .mat-slide-toggle-bar,[dir=rtl] .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0,0,0);transition:all 80ms linear;transition-property:transform;cursor:-webkit-grab;cursor:grab}.mat-slide-toggle-thumb-container.mat-dragging{transition-duration:0s}.mat-slide-toggle-thumb-container:active{cursor:-webkit-grabbing;cursor:grabbing}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media (hover:none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}@media (-ms-high-contrast:active){.mat-slide-toggle-thumb{background:#fff;border:1px solid #000}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background:#000;border:1px solid #fff}.mat-slide-toggle-bar{background:#fff}.mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:1px dotted;outline-offset:5px}}@media (-ms-high-contrast:black-on-white){.mat-slide-toggle-bar{border:1px solid #000}}"],encapsulation:2,changeDetection:0}),t})(),cE=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),hE=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[{provide:Bu,useClass:q_}],imports:[[cE,J_,M_,Gv],cE,M_]}),t})();class uE{call(t,e){return e.subscribe(new dE(t))}}class dE extends N{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],i=L(this,e,e,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(t,e,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}function pE(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new fE(t,n))}}class fE{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new mE(t,this.observables,this.project))}}class mE extends N{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let r=0;r<i;r++){let t=e[r];this.add(L(this,t,t,r))}}notifyNext(t,e,n,i,r){this.values[n]=e;const s=this.toRespond;if(s.length>0){const t=s.indexOf(n);-1!==t&&s.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function gE(t,e=Tg){var n;const i=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new vE(i,e))}class vE{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new yE(t,this.delay,this.scheduler))}}class yE extends f{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(yE.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new bE(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification($g.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification($g.createComplete()),this.unsubscribe()}}class bE{constructor(t,e){this.time=t,this.notification=e}}$localize`:@@ngb.alert.close␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`;const _E=["*"];$localize`:@@ngb.carousel.previous␟680d5c75b7fd8d37961083608b9fcdc4167b4c43␟4452427314943113135:Previous`,$localize`:@@ngb.carousel.next␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`,$localize`:@@ngb.datepicker.previous-month␟c3b08b07b5ab98e7cdcf18df39355690ab7d3884␟8586908745456864217:Previous month`,$localize`:@@ngb.datepicker.previous-month␟c3b08b07b5ab98e7cdcf18df39355690ab7d3884␟8586908745456864217:Previous month`,$localize`:@@ngb.datepicker.next-month␟4bd046985cfe13040d5ef0cd881edce0968a111a␟3628374603023447227:Next month`,$localize`:@@ngb.datepicker.next-month␟4bd046985cfe13040d5ef0cd881edce0968a111a␟3628374603023447227:Next month`,$localize`:@@ngb.datepicker.select-month␟1dbc84807f35518112f62e5775d1daebd3d8462b␟2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-month␟1dbc84807f35518112f62e5775d1daebd3d8462b␟2253869508135064750:Select month`,$localize`:@@ngb.datepicker.select-year␟8ceb09d002bf0c5d1cac171dfbffe1805d2b3962␟8852264961585484321:Select year`,$localize`:@@ngb.datepicker.select-year␟8ceb09d002bf0c5d1cac171dfbffe1805d2b3962␟8852264961585484321:Select year`;const wE=["dialog"];function xE(t,e){1&t&&Da(0),2&t&&Aa(100===e.fill?"\u2605":"\u2606")}function CE(t,e){}function SE(t,e){if(1&t){const t=Ho();No(0,"span",2),Da(1),Fo(),No(2,"span",3),qo("mouseenter",(function(){Je(t);const n=e.index;return Ko().enter(n+1)}))("click",(function(){Je(t);const n=e.index;return Ko().handleClick(n+1)})),Oo(3,CE,0,0,"ng-template",4),Fo()}if(2&t){const t=e.index,n=Ko(),i=Do(1);_r(1),Ra("(",t<n.nextRate?"*":" ",")"),_r(1),fa("cursor",n.readonly||n.disabled?"default":"pointer"),_r(1),Mo("ngTemplateOutlet",n.starTemplate||n.starTemplateFromContent||i)("ngTemplateOutletContext",n.contexts[t])}}function kE(t){return null!=t}$localize`:@@ngb.pagination.first␟656506dfd46380956a655f919f1498d018f75ca0␟6867721956102594380:««`,$localize`:@@ngb.pagination.previous␟6e52b6ee77a4848d899dd21b591c6fd499e3aef3␟6479320895410098858:«`,$localize`:@@ngb.pagination.next␟ba9cbb4ff311464308a3627e4f1c3345d9fe6d7d␟5458177150283468089:»`,$localize`:@@ngb.pagination.last␟49f27a460bc97e7e00be5b37098bfa79884fc7d9␟5277020320267646988:»»`,$localize`:@@ngb.pagination.first-aria␟f2f852318759c6396b5d3d17031d53817d7b38cc␟2241508602425256033:First`,$localize`:@@ngb.pagination.previous-aria␟680d5c75b7fd8d37961083608b9fcdc4167b4c43␟4452427314943113135:Previous`,$localize`:@@ngb.pagination.next-aria␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`,$localize`:@@ngb.pagination.last-aria␟5c729788ba138508aca1bec050b610f7bf81db3e␟4882268002141858767:Last`,$localize`:@@ngb.progressbar.value␟04d611d19c117c60c9e14d0a04399a027184bc77␟5214781723415385277:${"\ufffd0\ufffd"}:INTERPOLATION:%`,$localize`:@@ngb.timepicker.HH␟ce676ab1d6d98f85c836381cf100a4a91ef95a1f␟4043638465245303811:HH`,$localize`:@@ngb.timepicker.hours␟3bbce5fef7e1151da052a4e529453edb340e3912␟8070396816726827304:Hours`,$localize`:@@ngb.timepicker.MM␟72c8edf6a50068a05bde70991e36b1e881f4ca54␟1647282246509919852:MM`,$localize`:@@ngb.timepicker.minutes␟41e62daa962947c0d23ded0981975d1bddf0bf38␟5531237363767747080:Minutes`,$localize`:@@ngb.timepicker.increment-hours␟cb74bc1d625a6c1742f0d7d47306cf495780c218␟5939278348542933629:Increment hours`,$localize`:@@ngb.timepicker.decrement-hours␟147c7a19429da7d999e247d22e33fee370b1691b␟3651829882940481818:Decrement hours`,$localize`:@@ngb.timepicker.increment-minutes␟f5a4a3bc05e053f6732475d0e74875ec01c3a348␟180147720391025024:Increment minutes`,$localize`:@@ngb.timepicker.decrement-minutes␟c1a6899e529c096da5b660385d4e77fe1f7ad271␟7447789825403243588:Decrement minutes`,$localize`:@@ngb.timepicker.SS␟ebe38d36a40a2383c5fefa9b4608ffbda08bd4a3␟3628127143071124194:SS`,$localize`:@@ngb.timepicker.seconds␟4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c␟8874012390997067175:Seconds`,$localize`:@@ngb.timepicker.increment-seconds␟912322ecee7d659d04dcf494a70e22e49d334b26␟5364772110539092174:Increment seconds`,$localize`:@@ngb.timepicker.decrement-seconds␟5db47ac104294243a70eb9124fbea9d0004ddf69␟753633511487974857:Decrement seconds`,$localize`:@@ngb.timepicker.PM␟8d6e691e10306c1b34c6b26805151aaea320ef7f␟3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.AM␟69a1f176a93998876952adac57c3bc3863b6105e␟4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.toast.close-aria␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`,"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let EE=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),IE=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),TE=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),OE=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),DE=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();const AE=function(){var t={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return t[t.Tab]="Tab",t[t.Enter]="Enter",t[t.Escape]="Escape",t[t.Space]="Space",t[t.PageUp]="PageUp",t[t.PageDown]="PageDown",t[t.End]="End",t[t.Home]="Home",t[t.ArrowLeft]="ArrowLeft",t[t.ArrowUp]="ArrowUp",t[t.ArrowRight]="ArrowRight",t[t.ArrowDown]="ArrowDown",t}(),RE=(t,e)=>!!e&&e.some(e=>e.contains(t)),PE=(t,e)=>!e||null!=function(t,e){return e?t.closest(e):null}(t,e),ME=(()=>"undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)))(),LE=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function NE(t){const e=Array.from(t.querySelectorAll(LE)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}class FE{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(i=this.offset(e,!1)),i.top+=e.clientTop,i.left+=e.clientLeft}return n.top-=i.top,n.bottom-=i.top,n.left-=i.left,n.right-=i.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,i){const[r="top",s="center"]=n.split("-"),o=i?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),l=parseFloat(a.marginTop),c=parseFloat(a.marginBottom),h=parseFloat(a.marginLeft),u=parseFloat(a.marginRight);let d=0,p=0;switch(r){case"top":d=o.top-(e.offsetHeight+l+c);break;case"bottom":d=o.top+o.height;break;case"left":p=o.left-(e.offsetWidth+h+u);break;case"right":p=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":p=o.left;break;case"right":p=o.left+o.width-e.offsetWidth;break;case"center":"top"===r||"bottom"===r?p=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(p)}px, ${Math.round(d)}px)`;const f=e.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,v=window.innerWidth||m.clientWidth;return f.left>=0&&f.top>=0&&f.right<=v&&f.bottom<=g}}const BE=/\s+/,VE=new FE;let zE=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,vC]]}),t})(),jE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["",8,"navbar"]]}),t})(),HE=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),UE=(()=>{class t{constructor(){this.backdrop=!0,this.keyboard=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();class $E{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}class qE{constructor(t,e,n,i,r,s){this._type=t,this._injector=e,this._viewContainerRef=n,this._renderer=i,this._componentFactoryResolver=r,this._applicationRef=s}open(t,e){return this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),0,this._injector,this._contentRef.nodes)),this._windowRef}close(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}_getContentRef(t,e){if(t){if(t instanceof Dl){const n=t.createEmbeddedView(e);return this._applicationRef.attachView(n),new $E([n.rootNodes],n)}return new $E([[this._renderer.createText(`${t}`)]])}return new $E([])}}const WE=()=>{};let GE=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):WE}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,i=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${i+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Eh))},token:t,providedIn:"root"}),t})(),YE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&va("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class XE{close(t){}dismiss(t){}}class KE{constructor(t,e,n,i){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=i,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}_dismiss(t){this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){const t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}const ZE=function(){var t={BACKDROP_CLICK:0,ESC:1};return t[t.BACKDROP_CLICK]="BACKDROP_CLICK",t[t.ESC]="ESC",t}();let QE=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new k,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new nc}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:t}=this._elRef;if(this._zone.runOutsideAngular(()=>{vg(t,"keydown").pipe(Lg(this._closed$),ld(t=>t.which===AE.Escape&&this.keyboard)).subscribe(t=>requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(ZE.ESC))}));let e=!1;vg(this._dialogEl.nativeElement,"mousedown").pipe(Lg(this._closed$),Ud(()=>e=!1),Rd(()=>vg(t,"mouseup").pipe(Lg(this._closed$),Ed(1))),ld(({target:e})=>t===e)).subscribe(()=>{e=!0}),vg(t,"click").pipe(Lg(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||t!==n||e||this._zone.run(()=>this.dismiss(ZE.BACKDROP_CLICK)),e=!1})}),!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=NE(t)[0];(e||n||t).focus()}}ngOnDestroy(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}}return t.\u0275fac=function(e){return new(e||t)(Ao(Eh),Ao(ol),Ao(Yc))},t.\u0275cmp=ge({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&fc(wE,!0),2&t&&pc(n=_c())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:4,hostBindings:function(t,e){2&t&&(Io("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy),va("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:_E,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(Qo(),No(0,"div",0,1),No(2,"div",2),Jo(3),Fo(),Fo()),2&t&&va("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),JE=(()=>{class t{constructor(t,e,n,i,r,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=r,this._ngZone=s,this._activeWindowCmptHasChanged=new k,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=vg(e,"focusin").pipe(Lg(n),F(t=>t.target));vg(e,"keydown").pipe(Lg(n),ld(t=>t.which===AE.Tab),pE(t)).subscribe(([t,n])=>{const[i,r]=NE(e);n!==i&&n!==e||!t.shiftKey||(r.focus(),t.preventDefault()),n!==r||t.shiftKey||(i.focus(),t.preventDefault())}),i&&vg(e,"click").pipe(Lg(n),pE(t),F(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,i){const r=i.container instanceof HTMLElement?i.container:kE(i.container)?this._document.querySelector(i.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!r)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);const l=new XE,c=this._getContentRef(t,i.injector||e,n,l,i);let h=!1!==i.backdrop?this._attachBackdrop(t,r):null,u=this._attachWindowComponent(t,r,c),d=new KE(u,c,h,i.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.result.then(o,o),d.result.then(a,a),l.close=t=>{d.close(t)},l.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(u.instance,i),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),h&&h.instance&&this._applyBackdropOptions(h.instance,i),d}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(YE).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let i=t.resolveComponentFactory(QE).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{kE(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{kE(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,r){return n?n instanceof Dl?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,r):new $E([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new $E([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new $E([[e]])}_createFromComponent(t,e,n,i,r){const s=t.resolveComponentFactory(n),o=uo.create({providers:[{provide:XE,useValue:i}],parent:e}),a=s.create(o),l=a.location.nativeElement;return r.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new $E([[l]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&this._modalRefs.splice(e,1)};this._modalRefs.push(t),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(Zt(fh),Zt(uo),Zt(Eh),Zt(GE),Zt(ll),Zt(Yc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(fh),Zt(Ht),Zt(Eh),Zt(GE),Zt(ll),Zt(Yc))},token:t,providedIn:"root"}),t})(),tI=(()=>{class t{constructor(t,e,n,i){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=i}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(Zt(sl),Zt(uo),Zt(JE),Zt(UE))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(sl),Zt(Ht),Zt(JE),Zt(UE))},token:t,providedIn:"root"}),t})(),eI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[tI]}),t})(),nI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),iI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})();class rI{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const sI={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},oI=t=>t>0?gE(t):t=>t;let aI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),lI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),cI=(()=>{class t{constructor(){this.max=10,this.readonly=!1,this.resettable=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const hI={provide:Fw,useExisting:Et(()=>uI),multi:!0};let uI=(()=>{class t{constructor(t,e){this._changeDetectorRef=e,this.contexts=[],this.disabled=!1,this.hover=new nc,this.leave=new nc,this.rateChange=new nc(!0),this.onChange=t=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly}ariaValueText(){return`${this.nextRate} out of ${this.max}`}enter(t){this.readonly||this.disabled||this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.readonly||this.disabled||this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case AE.ArrowDown:case AE.ArrowLeft:this.update(this.rate-1);break;case AE.ArrowUp:case AE.ArrowRight:this.update(this.rate+1);break;case AE.Home:this.update(0);break;case AE.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate)}ngOnInit(){this.contexts=Array.from({length:this.max},(t,e)=>({fill:0,index:e})),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,e=!0){const n=function(t,e,n=0){return Math.max(Math.min(t,e),n)}(t,this.max,0);this.readonly||this.disabled||this.rate===n||(this.rate=n,this.rateChange.emit(this.rate)),e&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_getFillValue(t){const e=this.nextRate-t;return e>=1?100:e<1&&e>0?parseInt((100*e).toFixed(2),10):0}_updateState(t){this.nextRate=t,this.contexts.forEach((t,e)=>t.fill=this._getFillValue(e))}}return t.\u0275fac=function(e){return new(e||t)(Ao(cI),Ao(Xs))},t.\u0275cmp=ge({type:t,selectors:[["ngb-rating"]],contentQueries:function(t,e,n){var i;1&t&&vc(n,Dl,!0),2&t&&pc(i=_c())&&(e.starTemplateFromContent=i.first)},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,e){1&t&&qo("blur",(function(){return e.handleBlur()}))("keydown",(function(t){return e.handleKeyDown(t)}))("mouseleave",(function(){return e.reset()})),2&t&&(Fa("tabindex",e.disabled?-1:0),Io("aria-valuemax",e.max)("aria-valuenow",e.nextRate)("aria-valuetext",e.ariaValueText())("aria-disabled",!!e.readonly||null))},inputs:{max:"max",readonly:"readonly",rate:"rate",resettable:"resettable",starTemplate:"starTemplate"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},features:[nl([hI]),Wa],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"sr-only"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(Oo(0,xE,1,1,"ng-template",null,0,Sc),Oo(2,SE,4,5,"ng-template",1)),2&t&&(_r(2),Mo("ngForOf",e.contexts))},directives:[Kh,ou],encapsulation:2,changeDetection:0}),t})(),dI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),pI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,nI]]}),t})(),fI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),mI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),gI=(()=>{class t{constructor(){this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),vI=0,yI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(t,e){2&t&&(Fa("id",e.id),va("tooltip show"+(e.tooltipClass?" "+e.tooltipClass:"")))},inputs:{id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:_E,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(t,e){1&t&&(Qo(),Bo(0,"div",0),No(1,"div",1),Jo(2),Fo())},styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],encapsulation:2,changeDetection:0}),t})(),bI=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c){this._elementRef=t,this._renderer=e,this._ngZone=o,this._document=a,this._changeDetector=l,this.shown=new nc,this.hidden=new nc,this._ngbTooltipWindowId=`ngb-tooltip-${vI++}`,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disableTooltip=s.disableTooltip,this.tooltipClass=s.tooltipClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new qE(yI,n,r,e,i,c),this._zoneSubscription=o.onStable.subscribe(()=>{this._windowRef&&function(t,e,n,i,r){let s=Array.isArray(n)?n:n.split(BE);const o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=e.classList,l=t=>{const[e,n]=t.split("-"),i=[];return i.push(`bs-tooltip-${e}`),n&&i.push(`bs-tooltip-${e}-${n}`),i.forEach(t=>{a.add(t)}),i};o.forEach(t=>{a.remove(`bs-tooltip-${t}`)});let c=s.findIndex(t=>"auto"===t);c>=0&&o.forEach((function(t){null==s.find(e=>-1!==e.search("^"+t))&&s.splice(c++,1,t)}));const h=e.style;let u;h.position="absolute",h.top="0",h.left="0",h["will-change"]="transform";let d=!1;for(u of s){let n=l(u);if(VE.positionElements(t,e,u,i)){d=!0;break}n.forEach(t=>{a.remove(t)})}d||(u=s[0],l(u),VE.positionElements(t,e,u,i))}(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){this._windowRef||!this._ngbTooltip||this.disableTooltip||(this._windowRef=this._popupService.open(this._ngbTooltip,t),this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(t,e,n,i,r,s,o,a){var c;n&&t.runOutsideAngular((c=()=>{const o=vg(e,"keydown").pipe(Lg(r),ld(t=>t.which===AE.Escape),Ud(t=>t.preventDefault())),a=vg(e,"mousedown").pipe(F(t=>{const e=t.target;return 2!==t.button&&!RE(e,void 0)&&("inside"===n?RE(e,s)&&PE(e,void 0):"outside"===n?!RE(e,s):PE(e,void 0)||!RE(e,s))}),Lg(r));(function(...t){if(1===t.length){if(!l(t[0]))return t[0];t=t[0]}return W(t,void 0).lift(new uE)})([o,vg(e,"mouseup").pipe(pE(a),ld(([t,e])=>e),gE(0),Lg(r))]).subscribe(()=>t.run(i))},ME?()=>setTimeout(()=>c(),100):c))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function(t,e,n,i,r,s,o=0,a=0){const l=function(t,e=sI){const n=(t||"").trim();if(0===n.length)return[];const i=n.split(/\s+/).map(t=>t.split(":")).map(t=>{let n=e[t[0]]||t;return new rI(n[0],n[1])}),r=i.filter(t=>t.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(n);if(1===l.length&&l[0].isManual())return()=>{};const c=function(t,e,n,i){return new _(r=>{const s=[],o=()=>r.next(!0),a=()=>r.next(!1),l=()=>r.next(!i());return n.forEach(n=>{n.open===n.close?s.push(t.listen(e,n.open,l)):s.push(t.listen(e,n.open,o),t.listen(e,n.close,a))}),()=>{s.forEach(t=>t())}})}(t,e,l,i).pipe(function(t,e,n){return i=>{let r=null;const s=i.pipe(F(t=>({open:t})),ld(t=>{const e=n();return e===t.open||r&&r.open!==e?(r&&r.open!==t.open&&(r=null),!1):(r=t,!0)}),it());return G(s.pipe(ld(t=>t.open),oI(t)),s.pipe(ld(t=>!t.open),oI(e))).pipe(ld(t=>t===r&&(r=null,t.open!==n())),F(t=>t.open))}}(o,a,i)).subscribe(t=>t?r():s());return()=>c.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(hl),Ao(uo),Ao(sl),Ao(Rl),Ao(gI),Ao(Yc),Ao(Eh),Ao(Xs),Ao(fh))},t.\u0275dir=xe({type:t,selectors:[["","ngbTooltip",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[Wa]}),t})(),_I=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),wI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})();const xI=[EE,IE,TE,OE,DE,zE,HE,eI,nI,iI,aI,lI,dI,pI,fI,mI,_I,wI];let CI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[xI,EE,IE,TE,OE,DE,zE,HE,eI,nI,iI,aI,lI,dI,pI,fI,mI,_I,wI]}),t})();const SI=["mat-button",""],kI=["*"],EI=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class II{constructor(t){this._elementRef=t}}const TI=N_(L_(F_(II)));let OI=(()=>{class t extends TI{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of EI)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(uy),Ao(x_,8))},t.\u0275cmp=ge({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&mc(Q_,!0),2&t&&pc(n=_c())&&(e.ripple=n.first)},hostVars:3,hostBindings:function(t,e){2&t&&(Io("disabled",e.disabled||null),ma("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[za],attrs:SI,ngContentSelectors:kI,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Qo(),No(0,"span",0),Jo(1),Fo(),Bo(2,"div",1),Bo(3,"div",2)),2&t&&(_r(2),ma("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Mo("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Q_],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0}),t})(),DI=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,J_,M_],M_]}),t})();const AI=["additionalFilter"];function RI(t,e){if(1&t&&(No(0,"mat-option",20),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Ra(" ",t," ")}}function PI(t,e){if(1&t&&(No(0,"mat-option",20),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Ra(" ",t," ")}}function MI(t,e){1&t&&(Bo(0,"span",22),tc(1,"translate")),2&t&&Mo("innerHTML",ec(1,1,"CHARACTER-SKILL-"+Ko(2).selected),Ji)}function LI(t,e){1&t&&(Bo(0,"span",22),tc(1,"translate")),2&t&&Mo("innerHTML",ec(1,1,"CHARACTER-SKILL-"+Ko(2).hovered),Ji)}function NI(t,e){if(1&t&&(No(0,"span"),Oo(1,MI,2,3,"span",21),Oo(2,LI,2,3,"span",21),Fo()),2&t){const t=Ko();_r(1),Mo("ngIf",t.selected>0&&-1===t.hovered),_r(1),Mo("ngIf",t.hovered>0)}}const FI=function(){return{color:"white",margin:"4%"}};function BI(t,e){if(1&t){const t=Ho();No(0,"div",23),No(1,"div"),Da(2),Fo(),No(3,"div"),No(4,"mat-icon",24),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().removeFilter(n)})),Da(5,"close "),Fo(),Fo(),Fo()}if(2&t){const t=e.$implicit;_r(2),Aa(t),_r(2),Mo("ngStyle",Kl(2,FI))}}let VI=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.formBuilder=n,this.characterService=i,this.weightList=["HEAVY","MEDIUM","LIGHT"],this.tiers=["S","A","B","C","D"],this.additionalFilters=new Array,this.selected=0,this.hovered=-1,t.disableClose=!0}ngOnInit(){this.editCharacterForm=this.formBuilder.group({characterName:[this.data.character.name,[ex.required]],tier:new zx(this.tiers[this.tiers.indexOf(this.data.character.tier)]),isFloaty:[this.data.character.floaty],characterWeight:new zx(this.weightList[this.weightList.indexOf(this.data.character.characterWeight)])}),this.additionalFilters=this.data.character.additionalFilters,this.selected=this.data.character.skillRating,this.image=this.data.character.image,this.icon=this.data.character.icon}addFilter(t){t&&(this.additionalFilters.push(t),this.additionalFilerView.nativeElement.value="")}removeFilter(t){const e=this.additionalFilters.indexOf(t,0);e>-1&&this.additionalFilters.splice(e,1)}onCancelClick(){this.dialogRef.close()}onConfirmClick(){this.image&&this.icon?this.characterService.editCharacterWithImage(this.data.character.name,this.image,this.icon,{id:null,name:this.editCharacterForm.get("characterName").value,characterWeight:this.editCharacterForm.get("characterWeight").value,floaty:this.editCharacterForm.get("isFloaty").value,image:null,icon:null,additionalFilters:this.additionalFilters,skillRating:this.selected,tier:this.editCharacterForm.get("tier").value,informations:this.data.character.informations,bestMoves:this.data.character.bestMoves,confirms:this.data.character.confirms,combos:this.data.character.combos,tierlists:this.data.character.tierlists}).subscribe(()=>{this.dialogRef.close(!0)}):this.characterService.updateCharacter(this.data.character.name,{id:null,name:this.editCharacterForm.get("characterName").value,characterWeight:this.editCharacterForm.get("characterWeight").value,floaty:this.editCharacterForm.get("isFloaty").value,image:null,icon:null,additionalFilters:this.additionalFilters,skillRating:this.selected,tier:this.editCharacterForm.get("tier").value,informations:this.data.character.informations,bestMoves:this.data.character.bestMoves,confirms:this.data.character.confirms,combos:this.data.character.combos,tierlists:this.data.character.tierlists}).subscribe(()=>{this.dialogRef.close(!0)})}onCharacterImageUploaded(t){this.image=t}onCharacterIconUploaded(t){this.icon=t}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(Cw),Ao(gC),Ao(JC))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-edit-character"]],viewQuery:function(t,e){var n;1&t&&mc(AI,!0),2&t&&pc(n=_c())&&(e.additionalFilerView=n.first)},decls:54,vars:8,consts:[[3,"formGroup"],["mat-dialog-title","","translate",""],["mat-dialog-content","",2,"display","flex","flex-direction","column"],["appearance","outline","color","accent",1,"w-100"],["translate",""],["matInput","","formControlName","characterName"],["formControlName","tier","name","tier"],[3,"value",4,"ngFor","ngForOf"],[3,"fileUploaded"],["color","accent","formControlName","isFloaty",2,"margin-right","10px","margin-left","10px","margin-bottom","16px"],["formControlName","characterWeight"],[4,"ngIf"],[3,"max","rate","rateChange","hover","leave"],["matInput","",3,"keyup.enter"],["additionalFilter",""],["mat-button","","type","button",3,"click"],["translate","",1,"text-uppercase"],["style","display: flex; flex-direction: row; align-items: center;",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","type","submit",3,"disabled","click"],[3,"value"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[2,"display","flex","flex-direction","row","align-items","center"],["aria-hidden","false","aria-label","Remove filter",3,"ngStyle","click"]],template:function(t,e){if(1&t){const t=Ho();No(0,"form",0),No(1,"h1",1),Da(2,"DIALOG-EDIT-CHARACTER-TITLE"),Fo(),No(3,"div",2),No(4,"mat-form-field",3),No(5,"mat-label",4),Da(6,"INPUT-CHARACTER-NAME"),Fo(),Bo(7,"input",5),Fo(),No(8,"mat-form-field",3),No(9,"mat-label",4),Da(10,"DIALOG-ADD-CHARACTER-TIER"),Fo(),No(11,"mat-select",6),No(12,"mat-option"),No(13,"span",4),Da(14,"DIALOG-ADD-CHARACTER-TIER-NONE"),Fo(),Fo(),Oo(15,RI,2,2,"mat-option",7),Fo(),Fo(),No(16,"span",4),Da(17,"CHARACTER-IMAGE-IMPORT"),Fo(),No(18,"app-upload-file",8),qo("fileUploaded",(function(t){return e.onCharacterImageUploaded(t)})),Fo(),No(19,"span",4),Da(20,"CHARACTER-ICON-IMPORT"),Fo(),No(21,"app-upload-file",8),qo("fileUploaded",(function(t){return e.onCharacterIconUploaded(t)})),Fo(),No(22,"mat-slide-toggle",9),No(23,"span",4),Da(24,"DIALOG-ADD-CHARACTER-FLOATY"),Fo(),Fo(),No(25,"mat-form-field",3),No(26,"mat-label",4),Da(27,"DIALOG-ADD-CHARACTER-WEIGHT"),Fo(),No(28,"mat-select",10),Oo(29,PI,2,2,"mat-option",7),Fo(),Fo(),No(30,"div"),No(31,"span",4),Da(32,"DIFFICULTY"),Fo(),Da(33," \xa0 "),Oo(34,NI,3,2,"span",11),Bo(35,"br"),No(36,"ngb-rating",12),qo("rateChange",(function(t){return e.selected=t}))("hover",(function(t){return e.hovered=t}))("leave",(function(){return e.hovered=-1})),Fo(),Fo(),No(37,"div"),No(38,"mat-form-field",3),No(39,"mat-label",4),Da(40,"DIALOG-INPUT-SPECIFIC-FILTER"),Fo(),No(41,"input",13,14),qo("keyup.enter",(function(){Je(t);const n=Do(42);return e.addFilter(n.value)})),Fo(),Fo(),No(43,"button",15),qo("click",(function(){Je(t);const n=Do(42);return e.addFilter(n.value)})),No(44,"span",16),Da(45,"ADD"),Fo(),Fo(),Fo(),Oo(46,BI,6,3,"div",17),Fo(),No(47,"div",18),No(48,"button",15),qo("click",(function(){return e.onCancelClick()})),No(49,"span",4),Da(50,"CANCEL"),Fo(),Fo(),No(51,"button",19),qo("click",(function(){return e.onConfirmClick()})),No(52,"span",4),Da(53,"CONFIRM"),Fo(),Fo(),Fo(),Fo()}2&t&&(Mo("formGroup",e.editCharacterForm),_r(15),Mo("ngForOf",e.tiers),_r(14),Mo("ngForOf",e.weightList),_r(5),Mo("ngIf",e.selected>0||e.hovered>0),_r(2),Mo("max",5)("rate",e.selected),_r(10),Mo("ngForOf",e.additionalFilters),_r(5),Mo("disabled",!e.editCharacterForm.valid||!e.image&&!e.data.character.image||!e.icon&&!e.data.character.icon))},directives:[tC,Kw,sC,Dw,bS,Aw,tk,WS,hk,Hw,Xw,dC,Ok,hw,Kh,Kk,lE,Qh,uI,OI,Rw,Wk,su],pipes:[_S],styles:[""]}),t})();const zI=["additionalFilter"];function jI(t,e){if(1&t&&(No(0,"mat-option",20),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Ra(" ",t," ")}}function HI(t,e){if(1&t&&(No(0,"mat-option",20),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Ra(" ",t," ")}}function UI(t,e){1&t&&(Bo(0,"span",22),tc(1,"translate")),2&t&&Mo("innerHTML",ec(1,1,"CHARACTER-SKILL-"+Ko(2).selected),Ji)}function $I(t,e){1&t&&(Bo(0,"span",22),tc(1,"translate")),2&t&&Mo("innerHTML",ec(1,1,"CHARACTER-SKILL-"+Ko(2).hovered),Ji)}function qI(t,e){if(1&t&&(No(0,"span"),Oo(1,UI,2,3,"span",21),Oo(2,$I,2,3,"span",21),Fo()),2&t){const t=Ko();_r(1),Mo("ngIf",t.selected>0&&-1===t.hovered),_r(1),Mo("ngIf",t.hovered>0)}}const WI=function(){return{color:"white",margin:"4%"}};function GI(t,e){if(1&t){const t=Ho();No(0,"div",23),No(1,"div"),Da(2),Fo(),No(3,"div"),No(4,"mat-icon",24),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().removeFilter(n)})),Da(5,"close "),Fo(),Fo(),Fo()}if(2&t){const t=e.$implicit;_r(2),Aa(t),_r(2),Mo("ngStyle",Kl(2,WI))}}let YI=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.formBuilder=e,this.characterService=n,this.weightList=["HEAVY","MEDIUM","LIGHT"],this.tiers=["S","A","B","C","D"],this.additionalFilters=new Array,this.addCharacterForm=this.formBuilder.group({characterName:[null,[ex.required]],tier:new zx(this.tiers[1]),isFloaty:[!1],characterWeight:new zx(this.weightList[1])}),this.selected=0,this.hovered=-1,t.disableClose=!0}ngOnInit(){}addFilter(t){t&&(this.additionalFilters.push(t),this.additionalFilerView.nativeElement.value="")}removeFilter(t){const e=this.additionalFilters.indexOf(t,0);e>-1&&this.additionalFilters.splice(e,1)}onCancelClick(){this.dialogRef.close()}onConfirmClick(){this.characterService.addCharacterWithImage(this.image,this.icon,{id:null,name:this.addCharacterForm.get("characterName").value,characterWeight:this.addCharacterForm.get("characterWeight").value,floaty:this.addCharacterForm.get("isFloaty").value,image:null,icon:null,additionalFilters:this.additionalFilters,skillRating:this.selected,tier:this.addCharacterForm.get("tier").value,informations:null,bestMoves:null,confirms:null,combos:null,tierlists:null}).subscribe(()=>{this.dialogRef.close(!0)})}onCharacterImageUploaded(t){this.image=t}onCharacterIconUploaded(t){this.icon=t}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(gC),Ao(JC))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-add-character"]],viewQuery:function(t,e){var n;1&t&&mc(zI,!0),2&t&&pc(n=_c())&&(e.additionalFilerView=n.first)},decls:54,vars:8,consts:[[3,"formGroup"],["mat-dialog-title","","translate",""],["mat-dialog-content","",2,"display","flex","flex-direction","column"],["appearance","outline","color","accent",1,"w-100"],["translate",""],["matInput","","formControlName","characterName"],["formControlName","tier","name","tier"],[3,"value",4,"ngFor","ngForOf"],[3,"fileUploaded"],["color","accent","formControlName","isFloaty",2,"margin-right","10px","margin-left","10px","margin-bottom","16px"],["formControlName","characterWeight"],[4,"ngIf"],[3,"max","rate","rateChange","hover","leave"],["matInput","",3,"keyup.enter"],["additionalFilter",""],["mat-button","","type","button",3,"click"],["translate","",1,"text-uppercase"],["style","display: flex; flex-direction: row; align-items: center;",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","type","submit",3,"disabled","click"],[3,"value"],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[2,"display","flex","flex-direction","row","align-items","center"],["aria-hidden","false","aria-label","Remove filter",3,"ngStyle","click"]],template:function(t,e){if(1&t){const t=Ho();No(0,"form",0),No(1,"h1",1),Da(2,"DIALOG-ADD-CHARACTER-TITLE"),Fo(),No(3,"div",2),No(4,"mat-form-field",3),No(5,"mat-label",4),Da(6,"INPUT-CHARACTER-NAME"),Fo(),Bo(7,"input",5),Fo(),No(8,"mat-form-field",3),No(9,"mat-label",4),Da(10,"DIALOG-ADD-CHARACTER-TIER"),Fo(),No(11,"mat-select",6),No(12,"mat-option"),No(13,"span",4),Da(14,"DIALOG-ADD-CHARACTER-TIER-NONE"),Fo(),Fo(),Oo(15,jI,2,2,"mat-option",7),Fo(),Fo(),No(16,"span",4),Da(17,"CHARACTER-IMAGE-IMPORT"),Fo(),No(18,"app-upload-file",8),qo("fileUploaded",(function(t){return e.onCharacterImageUploaded(t)})),Fo(),No(19,"span",4),Da(20,"CHARACTER-ICON-IMPORT"),Fo(),No(21,"app-upload-file",8),qo("fileUploaded",(function(t){return e.onCharacterIconUploaded(t)})),Fo(),No(22,"mat-slide-toggle",9),No(23,"span",4),Da(24,"DIALOG-ADD-CHARACTER-FLOATY"),Fo(),Fo(),No(25,"mat-form-field",3),No(26,"mat-label",4),Da(27,"DIALOG-ADD-CHARACTER-WEIGHT"),Fo(),No(28,"mat-select",10),Oo(29,HI,2,2,"mat-option",7),Fo(),Fo(),No(30,"div"),No(31,"span",4),Da(32,"DIFFICULTY"),Fo(),Da(33," \xa0 "),Oo(34,qI,3,2,"span",11),Bo(35,"br"),No(36,"ngb-rating",12),qo("rateChange",(function(t){return e.selected=t}))("hover",(function(t){return e.hovered=t}))("leave",(function(){return e.hovered=-1})),Fo(),Fo(),No(37,"div"),No(38,"mat-form-field",3),No(39,"mat-label",4),Da(40,"DIALOG-INPUT-SPECIFIC-FILTER"),Fo(),No(41,"input",13,14),qo("keyup.enter",(function(){Je(t);const n=Do(42);return e.addFilter(n.value)})),Fo(),Fo(),No(43,"button",15),qo("click",(function(){Je(t);const n=Do(42);return e.addFilter(n.value)})),No(44,"span",16),Da(45,"ADD"),Fo(),Fo(),Fo(),Oo(46,GI,6,3,"div",17),Fo(),No(47,"div",18),No(48,"button",15),qo("click",(function(){return e.onCancelClick()})),No(49,"span",4),Da(50,"CANCEL"),Fo(),Fo(),No(51,"button",19),qo("click",(function(){return e.onConfirmClick()})),No(52,"span",4),Da(53,"CONFIRM"),Fo(),Fo(),Fo(),Fo()}2&t&&(Mo("formGroup",e.addCharacterForm),_r(15),Mo("ngForOf",e.tiers),_r(14),Mo("ngForOf",e.weightList),_r(5),Mo("ngIf",e.selected>0||e.hovered>0),_r(2),Mo("max",5)("rate",e.selected),_r(10),Mo("ngForOf",e.additionalFilters),_r(5),Mo("disabled",!e.addCharacterForm.valid||!e.image||!e.icon))},directives:[tC,Kw,sC,Dw,bS,Aw,tk,WS,hk,Hw,Xw,dC,Ok,hw,Kh,Kk,lE,Qh,uI,OI,Rw,Wk,su],pipes:[_S],styles:[""]}),t})(),XI=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.characterService=n,t.disableClose=!0}ngOnInit(){}onCancelClick(){this.dialogRef.close()}onConfirmClick(){this.characterService.removeCharacter(this.data.name).subscribe(()=>{this.dialogRef.close(!0)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(Cw),Ao(JC))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-remove-character"]],decls:11,vars:0,consts:[["mat-dialog-title",""],["translate",""],["mat-dialog-content","",2,"display","flex","flex-direction","column"],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"],["mat-button","","type","submit",3,"click"]],template:function(t,e){1&t&&(No(0,"h1",0),No(1,"span",1),Da(2,"DELETE-CHARACTER"),Fo(),Fo(),No(3,"div",2),No(4,"span",1),Da(5,"DELETE-CHARACTER-CONTENT"),Fo(),Fo(),No(6,"div",3),No(7,"button",4),qo("click",(function(){return e.onCancelClick()})),Da(8,"Cancel"),Fo(),No(9,"button",5),qo("click",(function(){return e.onConfirmClick()})),Da(10,"Confirm"),Fo(),Fo())},directives:[Dw,bS,Aw,Rw,OI],styles:[""]}),t})();const KI=["*",[["mat-card-footer"]]],ZI=["*","mat-card-footer"];let QI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-card-content"]}),t})(),JI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),t})(),tT=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(Ao(x_,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card"],hostVars:2,hostBindings:function(t,e){2&t&&ma("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:ZI,decls:2,vars:0,template:function(t,e){1&t&&(Qo(KI),Jo(0),Jo(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}@media (-ms-high-contrast:active){.mat-card{outline:solid 1px}}.mat-card-actions,.mat-card-content,.mat-card-subtitle{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media (max-width:599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card-content>:first-child,.mat-card>:first-child{margin-top:0}.mat-card-content>:last-child:not(.mat-card-footer),.mat-card>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-subtitle:not(:first-child),.mat-card-title:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),t})(),eT=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[M_],M_]}),t})();var nT;class iT{constructor(t){var e;this.lazyLoad=!1,this.providers=new Map,this._ready=new Gg,(e=t)&&(e instanceof _||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t.pipe(Od()).subscribe(t=>{this.initialize(t)}):this.initialize(t)}initialize(t){for(let e=0;e<t.length;e++){let n=t[e];this.providers.set(n.id,n.provider),this.lazyLoad=this.lazyLoad||n.lazyLoad}this._ready.next(),this._ready.complete()}}let rT=(()=>{let t=nT=class{constructor(t){this._user=null,this._authState=new Gg(1),this._readyState=new Qu([]),this.initialized=!1,t._ready.subscribe(()=>{this.providers=t.providers,t.lazyLoad||this.initialize()})}get authState(){return this._authState.asObservable()}get readyState(){return this._readyState.asObservable()}initialize(){this.initialized=!0,this.providers.forEach((t,e)=>{t.initialize().then(()=>{let n=this._readyState.getValue();n.push(e),this._readyState.next(n),t.getLoginStatus().then(t=>{t.provider=e,this._user=t,this._authState.next(t)}).catch(t=>{this._authState.next(null)})})})}signIn(t,e){return this.initialized||this.initialize(),new Promise((n,i)=>{let r=this.providers.get(t);r?r.signIn(e).then(e=>{e.provider=t,n(e),this._user=e,this._authState.next(e)}).catch(t=>{i(t)}):i(nT.ERR_LOGIN_PROVIDER_NOT_FOUND)})}signOut(t=!1){return this.initialized||this.initialize(),new Promise((e,n)=>{if(this._user){let i=this.providers.get(this._user.provider);i?i.signOut(t).then(()=>{e(),this._user=null,this._authState.next(null)}).catch(t=>{n(t)}):n(nT.ERR_LOGIN_PROVIDER_NOT_FOUND)}else n(nT.ERR_NOT_LOGGED_IN)})}};return t.\u0275fac=function(e){return new(e||t)(Zt(iT))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t.ERR_LOGIN_PROVIDER_NOT_FOUND="Login provider not found",t.ERR_NOT_LOGGED_IN="Not logged in",t})();var sT;let oT=(()=>{let t=sT=class{constructor(t){if(t)throw new Error("SocialLoginModule is already loaded. Import it in the AppModule only")}static initialize(t){return{ngModule:sT,providers:[rT,{provide:iT,useValue:t}]}}};return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)(Zt(t,12))},providers:[rT],imports:[[fu]]}),t})();class aT{}class lT{constructor(){this._readyState=new Qu(!1)}onReady(){return new Promise((t,e)=>{this._readyState.subscribe(e=>{e&&t()})})}loadScript(t,e,n,i=!0,r=""){if("undefined"!=typeof document&&!document.getElementById(t)){let t=document.createElement("script");t.async=i,t.src=e,t.onload=n,document.head.appendChild(t)}}}let cT=(()=>{class t extends lT{constructor(t,e={scope:"email"}){super(),this.clientId=t,this.opt=e}initialize(){return new Promise((e,n)=>{this.loadScript(t.PROVIDER_ID,"https://apis.google.com/js/platform.js",()=>{gapi.load("auth2",()=>{this.auth2=gapi.auth2.init(Object.assign(Object.assign({},this.opt),{client_id:this.clientId})),this.auth2.then(()=>{this._readyState.next(!0),e()}).catch(t=>{n(t)})})})})}getLoginStatus(){return new Promise((t,e)=>{this.onReady().then(()=>{if(this.auth2.isSignedIn.get()){let e=new aT,n=this.auth2.currentUser.get().getBasicProfile(),i=this.auth2.currentUser.get().getAuthResponse(!0).access_token,r=this.auth2.currentUser.get().getAuthResponse(!0).id_token;e.id=n.getId(),e.name=n.getName(),e.email=n.getEmail(),e.photoUrl=n.getImageUrl(),e.firstName=n.getGivenName(),e.lastName=n.getFamilyName(),e.authToken=i,e.idToken=r,t(e)}else e("No user is currently logged in.")})})}signIn(t){return new Promise((e,n)=>{this.onReady().then(()=>{(t&&t.offline_access||this.opt&&this.opt.offline_access?this.auth2.grantOfflineAccess(t):this.auth2.signIn(t)).then(t=>{let n=new aT,i=this.auth2.currentUser.get().getBasicProfile(),r=this.auth2.currentUser.get().getAuthResponse(!0).access_token,s=this.auth2.currentUser.get().getAuthResponse(!0).id_token;n.id=i.getId(),n.name=i.getName(),n.email=i.getEmail(),n.photoUrl=i.getImageUrl(),n.firstName=i.getGivenName(),n.lastName=i.getFamilyName(),n.authToken=r,n.idToken=s,t&&t.code&&(n.authorizationCode=t.code),e(n)},t=>{n("User cancelled login or did not fully authorize.")}).catch(t=>{n(t)})})})}signOut(t){return new Promise((e,n)=>{this.onReady().then(()=>{let i;i=t?this.auth2.disconnect():this.auth2.signOut(),i.then(t=>{t?n(t):e()}).catch(t=>{n(t)})})})}}return t.PROVIDER_ID="GOOGLE",t})(),hT=(()=>{class t extends lT{constructor(t,e={scope:"email,public_profile"},n="en_US",i="name,email,picture,first_name,last_name",r="v4.0"){super(),this.clientId=t,this.opt=e,this.locale=n,this.fields=i,this.version=r}initialize(){return new Promise((e,n)=>{this.loadScript(t.PROVIDER_ID,`//connect.facebook.net/${this.locale}/sdk.js`,()=>{FB.init({appId:this.clientId,autoLogAppEvents:!0,cookie:!0,xfbml:!0,version:this.version}),this._readyState.next(!0),e()})})}getLoginStatus(){return new Promise((t,e)=>{this.onReady().then(()=>{FB.getLoginStatus(n=>{if("connected"===n.status){let e=n.authResponse;FB.api(`/me?fields=${this.fields}`,n=>{let i=new aT;i.id=n.id,i.name=n.name,i.email=n.email,i.photoUrl="https://graph.facebook.com/"+n.id+"/picture?type=normal",i.firstName=n.first_name,i.lastName=n.last_name,i.authToken=e.accessToken,i.facebook=n,t(i)})}else e("No user is currently logged in.")})})})}signIn(t){return new Promise((t,e)=>{this.onReady().then(()=>{FB.login(n=>{if(n.authResponse){let e=n.authResponse;FB.api(`/me?fields=${this.fields}`,n=>{let i=new aT;i.id=n.id,i.name=n.name,i.email=n.email,i.photoUrl="https://graph.facebook.com/"+n.id+"/picture?type=normal",i.firstName=n.first_name,i.lastName=n.last_name,i.authToken=e.accessToken,i.facebook=n,t(i)})}else e("User cancelled login or did not fully authorize.")},this.opt)})})}signOut(){return new Promise((t,e)=>{this.onReady().then(()=>{FB.logout(e=>{t()})})})}}return t.PROVIDER_ID="FACEBOOK",t})();class uT{constructor(t,e){this.email=t,this.approved=e}}let dT=(()=>{class t{constructor(t,e){this.authService=t,this.http=e,this.loggedInSubject=new k,this.authService.authState.subscribe(t=>{t?(this.user=t,sessionStorage.setItem("user",JSON.stringify(t)),this.login(t).subscribe(t=>{console.log(t),this.loggedInSubject.next(t.approved)})):(sessionStorage.setItem("user",null),this.loggedInSubject.next(!1),this.user&&(this.logout(this.user).subscribe(t=>console.log(t)),this.user=null))})}signInWithGoogle(){this.authService.signIn(cT.PROVIDER_ID)}signInWithFB(){this.authService.signIn(hT.PROVIDER_ID)}signOut(){this.authService.signOut()}login(t){return this.http.post(ZC+"/login",new uT(t.email),{headers:QC.headers})}logout(t){return this.http.post(ZC+"/logout",new uT(t.email),{headers:QC.headers})}getLoginObservable(){return this.loggedInSubject.asObservable()}}return t.\u0275fac=function(e){return new(e||t)(Zt(rT),Zt(LC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pT=(()=>{class t{constructor(t,e){this.loginService=e,JSON.parse(sessionStorage.getItem("user"))||(t.nativeElement.style.display="none"),this.loginService.getLoginObservable().subscribe(e=>t.nativeElement.style.display=e?"":"none")}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(dT))},t.\u0275dir=xe({type:t,selectors:[["","appLogin",""]]}),t})(),fT=(()=>{class t{constructor(){this.editClicked=new nc,this.removeClicked=new nc}ngOnInit(){}editButtonClicked(t){t.stopPropagation(),this.editClicked.emit()}removeButtonClick(t){t.stopPropagation(),this.removeClicked.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["app-edit-remove"]],inputs:{displayHorizontal:"displayHorizontal"},outputs:{editClicked:"editClicked",removeClicked:"removeClicked"},decls:5,vars:2,consts:[["appLogin","",1,"containerr"],["matRipple","","aria-hidden","false","aria-label","Edit icon",1,"clickable",3,"click"],["matRipple","","aria-hidden","false","aria-label","Remove icon",1,"clickable",3,"click"]],template:function(t,e){1&t&&(No(0,"div",0),No(1,"mat-icon",1),qo("click",(function(t){return e.editButtonClicked(t)})),Da(2," settings "),Fo(),No(3,"mat-icon",2),qo("click",(function(t){return e.removeButtonClick(t)})),Da(4," close "),Fo(),Fo()),2&t&&fa("flex-direction",e.displayHorizontal?"row":"column")},directives:[pT,Wk,Q_],styles:[".container[_ngcontent-%COMP%]{display:flex}.clickable[_ngcontent-%COMP%]{cursor:pointer}"]}),t})();function mT(t,e){if(1&t){const t=Ho();No(0,"mat-card",11),No(1,"div",12),No(2,"app-edit-remove",13),qo("editClicked",(function(){Je(t);const e=Ko().$implicit;return Ko().openEditDialog(e)}))("removeClicked",(function(){Je(t);const e=Ko().$implicit;return Ko().openRemoveDialog(e)})),Fo(),Fo(),No(3,"div",14),No(4,"div",15),Da(5),Fo(),Fo(),Fo()}if(2&t){const t=Ko().$implicit;_r(2),Mo("displayHorizontal",!1),_r(1),fa("background-image","url(data:image/png;base64,"+t.image+")",nr)("background-position","center 45%"),ea("routerLink","/character/",t.name,""),_r(2),Ra(" ",t.name," ")}}function gT(t,e){if(1&t&&(No(0,"div",9),Oo(1,mT,6,7,"mat-card",10),Fo()),2&t){const t=e.$implicit,n=Ko();_r(1),Mo("ngIf",!n.characterFilter||n.filterSearch(t.name))}}let vT=(()=>{class t{constructor(t,e){this.characterService=t,this.dialog=e}ngOnInit(){this.characterService.getAllCharacters().subscribe(t=>{this.characters=t},t=>{console.log(t),this.characters=[]})}filterSearch(t){return t.toLowerCase().includes(this.characterFilter.toLowerCase())}openAddDialog(){this.dialog.open(YI,{width:"700px"}).afterClosed().subscribe(t=>{console.log("The add dialog was closed"),t&&this.characterService.getAllCharacters().subscribe(t=>{this.characters=t},t=>{console.log(t),this.characters=[]})})}openRemoveDialog(t){this.dialog.open(XI,{width:"700px",data:{name:t.name}}).afterClosed().subscribe(t=>{console.log("The dialog was closed"),t&&this.characterService.getAllCharacters().subscribe(t=>{this.characters=t},t=>{console.log(t),this.characters=[]})})}openEditDialog(t){this.dialog.open(VI,{width:"700px",data:{character:t}}).afterClosed().subscribe(t=>{console.log("The dialog was closed"),t&&this.characterService.getAllCharacters().subscribe(t=>{this.characters=t},t=>{console.log(t),this.characters=[]})})}}return t.\u0275fac=function(e){return new(e||t)(Ao(JC),Ao(Iw))},t.\u0275cmp=ge({type:t,selectors:[["app-moveset"]],decls:12,vars:5,consts:[[2,"display","flex","flex-direction","column"],[1,"filter-bar"],[2,"width","60%"],["matInput","",3,"placeholder","ngModel","ngModelChange"],["matSuffix",""],["mat-raised-button","","color","primary","appLogin","",3,"click"],["translate",""],[1,"character-list"],["class","character-card",4,"ngFor","ngForOf"],[1,"character-card"],["class","mat-elevation-z4",4,"ngIf"],[1,"mat-elevation-z4"],[2,"position","absolute","top","10%","right","5%"],[3,"displayHorizontal","editClicked","removeClicked"],[1,"character-div",3,"routerLink"],[1,"character-text"]],template:function(t,e){1&t&&(No(0,"div",0),No(1,"div",1),No(2,"mat-form-field",2),No(3,"input",3),qo("ngModelChange",(function(t){return e.characterFilter=t})),tc(4,"translate"),Fo(),No(5,"mat-icon",4),Da(6,"search"),Fo(),Fo(),No(7,"button",5),qo("click",(function(){return e.openAddDialog()})),No(8,"span",6),Da(9,"ADD-CHARACTER"),Fo(),Fo(),Fo(),No(10,"div",7),Oo(11,gT,2,1,"div",8),Fo(),Fo()),2&t&&(_r(3),ta("placeholder",ec(4,3,"SEARCH-CHARACTER-NAME")),Mo("ngModel",e.characterFilter),_r(8),Mo("ngForOf",e.characters))},directives:[tk,hk,Hw,Xw,Jx,Wk,XS,OI,pT,bS,Kh,Qh,tT,fT,dm],pipes:[_S],styles:[".filter-bar[_ngcontent-%COMP%]{align-items:center;margin-left:10%;width:80%}.character-list[_ngcontent-%COMP%], .filter-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.character-list[_ngcontent-%COMP%]{flex-wrap:wrap}.character-text[_ngcontent-%COMP%]{color:#fff;font-size:40px}.character-div[_ngcontent-%COMP%]{height:150px;background-size:contain;background-repeat:no-repeat;display:flex;justify-content:center;align-items:center}.mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);background-color:#5e5e5e}.character-card[_ngcontent-%COMP%]{margin:1%;cursor:pointer;max-width:400px}@media only screen and (max-width:600px){.character-card[_ngcontent-%COMP%]{width:90%}}@media only screen and (min-width:600px){.character-card[_ngcontent-%COMP%]{width:90%}}@media only screen and (min-width:768px){.character-card[_ngcontent-%COMP%]{width:70%}}@media only screen and (min-width:992px){.character-card[_ngcontent-%COMP%]{width:50%}}@media only screen and (min-width:1200px){.character-card[_ngcontent-%COMP%]{width:30%}}"]}),t})();var yT=function(t){return t[t.ADVANTAGE=0]="ADVANTAGE",t[t.DISADVANTAGE=1]="DISADVANTAGE",t[t.PRO=2]="PRO",t[t.CON=3]="CON",t[t.GENERAL_DESCRIPTION=4]="GENERAL_DESCRIPTION",t}({});function bT(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"mat-form-field",9),No(2,"mat-label",7),Da(3,"DESCRIPTION"),Fo(),No(4,"textarea",10),qo("ngModelChange",(function(e){return Je(t),Ko().data.description=e})),Fo(),Fo(),Fo()}if(2&t){const t=Ko();_r(4),Mo("ngModel",t.data.description)}}function _T(t,e){if(1&t&&(Bo(0,"span",11),tc(1,"translate")),2&t){const t=Ko();Mo("innerHTML",ec(1,1,"DIALOG-DELETE-"+t.InformationType[t.data.informationType]+"-CONTENT"),Ji)}}let wT=(()=>{class t{constructor(t,e){this.dialogRef=t,this.inputData=e,this.InformationType=yT,t.disableClose=!0,this.data=Object.assign({},e),this.action=this.data.action}doAction(){this.dialogRef.close({event:this.action,data:this.data})}closeDialog(){this.dialogRef.close({event:"Cancel"})}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(Cw,8))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-information"]],decls:15,vars:7,consts:[["informationForm","ngForm"],["mat-dialog-title","",3,"innerHTML"],["mat-dialog-content",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-dialog-actions",""],["mat-button","","mat-flat-button","","color","warn",3,"click"],["translate",""],["mat-button","",3,"disabled","click"],["appearance","outline","color","accent",1,"w-100"],["matInput","","name","description","required","",3,"ngModel","ngModelChange"],[3,"innerHTML"]],template:function(t,e){if(1&t&&(No(0,"form",null,0),Bo(2,"h1",1),tc(3,"translate"),No(4,"div",2),Oo(5,bT,5,1,"div",3),Oo(6,_T,2,3,"ng-template",null,4,Sc),Fo(),No(8,"div",5),No(9,"button",6),qo("click",(function(){return e.closeDialog()})),No(10,"span",7),Da(11,"CANCEL"),Fo(),Fo(),No(12,"button",8),qo("click",(function(){return e.doAction()})),No(13,"span",7),Da(14),Fo(),Fo(),Fo(),Fo()),2&t){const t=Do(1),n=Do(7);_r(2),Mo("innerHTML",ec(3,5,"DIALOG-"+e.action+"-"+e.InformationType[e.data.informationType]+"-TITLE"),Ji),_r(3),Mo("ngIf","Delete"!=e.action)("ngIfElse",n),_r(7),Mo("disabled",!t.form.valid),_r(2),Aa(e.action)}},directives:[tC,Kw,qx,Dw,Aw,Qh,Rw,OI,bS,tk,WS,hk,Hw,fC,Xw,Jx],pipes:[_S],styles:[""]}),t})(),xT=(()=>{class t{constructor(t){this.http=t}getAllTierlists(t){const e=(new SC).set("characterId",""+t);return this.http.get(ZC+"/getTierlistsByCharacterId",{params:e,headers:QC.headers})}addTierlist(t,e){const n=(new SC).set("characterId",""+t);return this.http.post(ZC+"/addTierlist",e,{params:n,headers:QC.headers})}editTierlist(t,e){const n=(new SC).set("id",""+t);return this.http.put(ZC+"/editTierlist",e,{params:n,headers:QC.headers})}removeTierlist(t){const e=(new SC).set("id",""+t);return this.http.delete(ZC+"/removeTierlist",{params:e,headers:QC.headers})}}return t.\u0275fac=function(e){return new(e||t)(Zt(LC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),CT=(()=>{class t{constructor(t){this.http=t}getInformationByCharacterIdAndInformationType(t,e){const n=(new SC).set("characterId",""+t).set("informationType",yT[e]);return this.http.get(ZC+"/getInformationByCharacterIdAndInformationType",{params:n,headers:QC.headers})}getInformationByCharacterIdAndTargetId(t,e){const n=(new SC).set("characterId",""+t).set("targetId",""+e);return this.http.get(ZC+"/getInformationCharacterIdAndTargetId",{params:n,headers:QC.headers})}addInformation(t,e){const n=(new SC).set("characterId",""+t);return this.http.post(ZC+"/addInformation",e,{params:n,headers:QC.headers})}editInformation(t){return this.http.put(ZC+"/editInformation",t,{headers:QC.headers})}editInformationById(t,e){const n=(new SC).set("id",""+e);return this.http.put(ZC+"/editInformationById",t,{params:n,headers:QC.headers})}removeInformation(t){const e=(new SC).set("id",""+t);return this.http.delete(ZC+"/removeInformation",{params:e,headers:QC.headers})}}return t.\u0275fac=function(e){return new(e||t)(Zt(LC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ST(t,e){if(1&t&&(Sn(),Bo(0,"circle",3)),2&t){const t=Ko();fa("animation-name","mat-progress-spinner-stroke-rotate-"+t.diameter)("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),Io("r",t._circleRadius)}}function kT(t,e){if(1&t&&(Sn(),Bo(0,"circle",3)),2&t){const t=Ko();fa("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),Io("r",t._circleRadius)}}function ET(t,e){if(1&t&&(Sn(),Bo(0,"circle",3)),2&t){const t=Ko();fa("animation-name","mat-progress-spinner-stroke-rotate-"+t.diameter)("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),Io("r",t._circleRadius)}}function IT(t,e){if(1&t&&(Sn(),Bo(0,"circle",3)),2&t){const t=Ko();fa("stroke-dashoffset",t._strokeDashOffset,"px")("stroke-dasharray",t._strokeCircumference,"px")("stroke-width",t._circleStrokeWidth,"%"),Io("r",t._circleRadius)}}class TT{constructor(t){this._elementRef=t}}const OT=N_(TT,"primary"),DT=new jt("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});let AT=(()=>{class t extends OT{constructor(e,n,i,r,s){super(e),this._elementRef=e,this._document=i,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const o=t._diameters;o.has(i.head)||o.set(i.head,new Set([100])),this._fallbackAnimation=n.EDGE||n.TRIDENT,this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=dg(t),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=dg(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,dg(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=function(t,e){if("undefined"!=typeof window){const n=e.head;if(n&&(n.createShadowRoot||n.attachShadow)){const e=t.getRootNode?t.getRootNode():null;if(e instanceof window.ShadowRoot)return e}}return null}(t,this._document)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}get _circleRadius(){return(this.diameter-10)/2}get _viewBox(){const t=2*this._circleRadius+this.strokeWidth;return`0 0 ${t} ${t}`}get _strokeCircumference(){return 2*Math.PI*this._circleRadius}get _strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._strokeCircumference:null}get _circleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,n=this._diameter,i=t._diameters;let r=i.get(e);if(!r||!r.has(n)){const t=this._document.createElement("style");t.setAttribute("mat-spinner-animation",n+""),t.textContent=this._getAnimationText(),e.appendChild(t),r||(r=new Set,i.set(e,r)),r.add(n)}}_getAnimationText(){return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,`${.95*this._strokeCircumference}`).replace(/END_VALUE/g,`${.2*this._strokeCircumference}`).replace(/DIAMETER/g,`${this.diameter}`)}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Kg),Ao(Eh,8),Ao(x_,8),Ao(DT))},t.\u0275cmp=ge({type:t,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(Io("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),fa("width",e.diameter,"px")("height",e.diameter,"px"),ma("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[za],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(Sn(),No(0,"svg",0),Oo(1,ST,1,9,"circle",1),Oo(2,kT,1,7,"circle",2),Fo()),2&t&&(fa("width",e.diameter,"px")("height",e.diameter,"px"),Mo("ngSwitch","indeterminate"===e.mode),Io("viewBox",e._viewBox),_r(1),Mo("ngSwitchCase",!0),_r(1),Mo("ngSwitchCase",!1))},directives:[nu,iu],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],encapsulation:2,changeDetection:0}),t._diameters=new WeakMap,t})(),RT=(()=>{class t extends AT{constructor(t,e,n,i,r){super(t,e,n,i,r),this.mode="indeterminate"}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Kg),Ao(Eh,8),Ao(x_,8),Ao(DT))},t.\u0275cmp=ge({type:t,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(fa("width",e.diameter,"px")("height",e.diameter,"px"),ma("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[za],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(Sn(),No(0,"svg",0),Oo(1,ET,1,9,"circle",1),Oo(2,IT,1,7,"circle",2),Fo()),2&t&&(fa("width",e.diameter,"px")("height",e.diameter,"px"),Mo("ngSwitch","indeterminate"===e.mode),Io("viewBox",e._viewBox),_r(1),Mo("ngSwitchCase",!0),_r(1),Mo("ngSwitchCase",!1))},directives:[nu,iu],styles:[".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2s linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4s;animation-timing-function:cubic-bezier(.35,0,.25,1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10s cubic-bezier(.87,.03,.33,1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.60617px;transform:rotate(0)}12.5%{stroke-dashoffset:56.54867px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.60617px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.54867px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.60617px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.54867px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.60617px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.54867px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.54867px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.60617px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}"],encapsulation:2,changeDetection:0}),t})(),PT=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[M_,fu],M_]}),t})(),MT=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["app-loading"]],decls:5,vars:0,consts:[[1,"flex-center","p-3","m-1",2,"flex-direction","column"],["translate","",2,"margin-bottom","8px","font-size","large"]],template:function(t,e){1&t&&(No(0,"div",0),No(1,"div",1),Da(2,"LOADING"),Fo(),No(3,"div"),Bo(4,"mat-spinner"),Fo(),Fo())},directives:[bS,RT],styles:[""]}),t})(),LT=(()=>{class t{constructor(t,e,n){this.templateRef=t,this.vcRef=e,this.componentFactoryResolver=n,this.loadingFactory=this.componentFactoryResolver.resolveComponentFactory(MT)}set appLoading(t){this.vcRef.clear(),t?this.loadingComponent=this.vcRef.createComponent(this.loadingFactory):this.vcRef.createEmbeddedView(this.templateRef)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Dl),Ao(Rl),Ao(sl))},t.\u0275dir=xe({type:t,selectors:[["","appLoading",""]],inputs:{appLoading:"appLoading"}}),t})(),NT=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["app-character-icon"]],inputs:{base64Image:"base64Image"},decls:2,vars:1,consts:[[1,"character-wrapper"],["alt","Character picture",1,"img-fluid",3,"src"]],template:function(t,e){1&t&&(No(0,"div",0),Bo(1,"img",1),Fo()),2&t&&(_r(1),ta("src","data:image/jpg;base64,"+e.base64Image,er))},styles:[".character-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:110px;height:110px;border-radius:200px;overflow:hidden;border:2px solid #959da9}"]}),t})(),FT=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=ug(t)}get inset(){return this._inset}set inset(t){this._inset=ug(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(Io("aria-orientation",e.vertical?"vertical":"horizontal"),ma("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),t})(),BT=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[M_,fu],M_]}),t})();function VT(t,e){1&t&&Jo(0)}const zT=["*"];function jT(t,e){}const HT=function(t){return{animationDuration:t}},UT=function(t,e){return{value:t,params:e}},$T=["tabBodyWrapper"],qT=["tabHeader"];function WT(t,e){}function GT(t,e){1&t&&Oo(0,WT,0,0,"ng-template",9),2&t&&Mo("cdkPortalOutlet",Ko().$implicit.templateLabel)}function XT(t,e){1&t&&Da(0),2&t&&Aa(Ko().$implicit.textLabel)}function KT(t,e){if(1&t){const t=Ho();No(0,"div",6),qo("click",(function(){Je(t);const n=e.$implicit,i=e.index,r=Ko(),s=Do(1);return r._handleClick(n,s,i)})),No(1,"div",7),Oo(2,GT,1,1,"ng-template",8),Oo(3,XT,1,1,"ng-template",8),Fo(),Fo()}if(2&t){const t=e.$implicit,n=e.index,i=Ko();ma("mat-tab-label-active",i.selectedIndex==n),Mo("id",i._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||i.disableRipple),Io("tabIndex",i._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),_r(2),Mo("ngIf",t.templateLabel),_r(1),Mo("ngIf",!t.templateLabel)}}function ZT(t,e){if(1&t){const t=Ho();No(0,"mat-tab-body",10),qo("_onCentered",(function(){return Je(t),Ko()._removeTabBodyWrapperHeight()}))("_onCentering",(function(e){return Je(t),Ko()._setTabBodyWrapperHeight(e)})),Fo()}if(2&t){const t=e.$implicit,n=e.index,i=Ko();ma("mat-tab-body-active",i.selectedIndex==n),Mo("id",i._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),Io("aria-labelledby",i._getTabLabelId(n))}}const QT=["tabListContainer"],JT=["tabList"],tO=["nextPaginator"],eO=["previousPaginator"],nO=new jt("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let iO=(()=>{class t{constructor(t,e,n,i){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=i}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Yc),Ao(nO),Ao(x_,8))},t.\u0275dir=xe({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&ma("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})(),rO=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Ao(Dl))},t.\u0275dir=xe({type:t,selectors:[["","matTabContent",""]]}),t})(),sO=(()=>{class t extends eg{}return t.\u0275fac=function(e){return oO(e||t)},t.\u0275dir=xe({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[za]}),t})();const oO=hi(sO);class aO{}const lO=L_(aO);let cO=(()=>{class t extends lO{constructor(t){super(),this._viewContainerRef=t,this.textLabel="",this._contentPortal=null,this._stateChanges=new k,this.position=null,this.origin=null,this.isActive=!1}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Qm(this._explicitContent||this._implicitContent,this._viewContainerRef)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rl))},t.\u0275cmp=ge({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){var i;1&t&&(vc(n,sO,!0),yc(n,rO,!0,Dl)),2&t&&(pc(i=_c())&&(e.templateLabel=i.first),pc(i=_c())&&(e._explicitContent=i.first))},viewQuery:function(t,e){var n;1&t&&fc(Dl,!0),2&t&&pc(n=_c())&&(e._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[za,Wa],ngContentSelectors:zT,decls:1,vars:0,template:function(t,e){1&t&&(Qo(),Oo(0,VT,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),t})();const hO={translateTab:Nm("translateTab",[jm("center, void, left-origin-center, right-origin-center",zm({transform:"none"})),jm("left",zm({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),jm("right",zm({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Um("* => left, * => right, left => center, right => center",Fm("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Um("void => left-origin-center",[zm({transform:"translate3d(-100%, 0, 0)"}),Fm("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Um("void => right-origin-center",[zm({transform:"translate3d(100%, 0, 0)"}),Fm("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let uO=(()=>{class t extends ng{constructor(t,e,n){super(t,e),this._host=n,this._centeringSub=u.EMPTY,this._leavingSub=u.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Nd(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(Ao(sl),Ao(Rl),Ao(Et(()=>pO)))},t.\u0275dir=xe({type:t,selectors:[["","matTabBodyHost",""]],features:[za]}),t})(),dO=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=u.EMPTY,this._translateTabComplete=new k,this._onCentering=new nc,this._beforeCentering=new nc,this._afterLeavingCenter=new nc,this._onCentered=new nc(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(kg((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin())}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(){const t=this._getLayoutDirection();return"ltr"==t&&this.origin<=0||"rtl"==t&&this.origin>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(cg,8),Ao(Xs))},t.\u0275dir=xe({type:t,selectors:[["do-not-use-abstract-mat-tab-body-base"]],inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),pO=(()=>{class t extends dO{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(cg,8),Ao(Xs))},t.\u0275cmp=ge({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var n;1&t&&mc(ig,!0),2&t&&pc(n=_c())&&(e._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[za],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){var n,i;1&t&&(No(0,"div",0,1),qo("@translateTab.start",(function(t){return e._onTranslateTabStarted(t)}))("@translateTab.done",(function(t){return e._translateTabComplete.next(t)})),Oo(2,jT,0,0,"ng-template",2),Fo()),2&t&&Mo("@translateTab",Zl(3,UT,e._position,(1,n=HT,i=e.animationDuration,Jl(Ze(),an(),1,n,i,void 0))))},directives:[uO],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}"],encapsulation:2,data:{animation:[hO.translateTab]},changeDetection:0}),t})(),fO=0;class mO{}const gO=new jt("MAT_TABS_CONFIG");class vO{constructor(t){this._elementRef=t}}const yO=N_(F_(vO),"primary");let bO=(()=>{class t extends yO{constructor(t,e,n,i){super(t),this._changeDetectorRef=e,this._animationMode=i,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=u.EMPTY,this._tabLabelSubscription=u.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new nc,this.focusChange=new nc,this.animationDone=new nc,this.selectedTabChange=new nc(!0),this._groupId=fO++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms"}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=ug(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=dg(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._subscribeToTabLabels(),this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new mO;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=G(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Xs),Ao(gO,8),Ao(x_,8))},t.\u0275dir=xe({type:t,selectors:[["do-not-use-abstract-mat-tab-group-base"]],inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[za]}),t})(),_O=(()=>{class t extends bO{constructor(t,e,n,i){super(t,e,n,i)}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Xs),Ao(gO,8),Ao(x_,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){var i;1&t&&vc(n,cO,!1),2&t&&pc(i=_c())&&(e._tabs=i)},viewQuery:function(t,e){var n;1&t&&(mc($T,!0),mc(qT,!0)),2&t&&(pc(n=_c())&&(e._tabBodyWrapper=n.first),pc(n=_c())&&(e._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&ma("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[za],decls:6,vars:6,consts:[[3,"selectedIndex","disableRipple","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(No(0,"mat-tab-header",0,1),qo("indexFocused",(function(t){return e._focusChanged(t)}))("selectFocusedIndex",(function(t){return e.selectedIndex=t})),Oo(2,KT,4,14,"div",2),Fo(),No(3,"div",3,4),Oo(5,ZT,1,8,"mat-tab-body",5),Fo()),2&t&&(Mo("selectedIndex",e.selectedIndex)("disableRipple",e.disableRipple),_r(2),Mo("ngForOf",e._tabs),_r(1),ma("_mat-animation-noopable","NoopAnimations"===e._animationMode),_r(2),Mo("ngForOf",e._tabs))},directives:function(){return[IO,Kh,CO,Q_,dy,Qh,ng,pO]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{padding:0 12px}}@media (max-width:959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height .5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2,changeDetection:0}),t})();class wO{}const xO=L_(wO);let CO=(()=>{class t extends xO{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(Io("aria-disabled",!!e.disabled),ma("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[za]}),t})();const SO=nv({passive:!0});let kO=(()=>{class t{constructor(t,e,n,i,r,s,o){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=r,this._platform=s,this._animationMode=o,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new k,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new k,this._selectedIndex=0,this.selectFocusedIndex=new nc,this.indexFocused=new nc,r.runOutsideAngular(()=>{vg(t.nativeElement,"mouseleave").pipe(Lg(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=dg(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItemIndex(t))}ngAfterViewInit(){vg(this._previousPaginator.nativeElement,"touchstart",SO).pipe(Lg(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),vg(this._nextPaginator.nativeElement,"touchstart",SO).pipe(Lg(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Zu(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ey(this._items).withHorizontalOrientation(this._getLayoutDirection()).withWrap(),this._keyManager.updateActiveItem(0),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),G(t,e,this._items.changes).pipe(Lg(this._destroyed)).subscribe(()=>{n(),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Lg(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!ag(t))switch(t.keyCode){case 36:this._keyManager.setFirstItemActive(),t.preventDefault();break;case 35:this._keyManager.setLastItemActive(),t.preventDefault();break;case 13:case 32:this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t);break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){const t=this.scrollDistance,e=this._platform,n="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:i,offsetWidth:r}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=i,o=s+r):(o=this._tabList.nativeElement.offsetWidth-i,s=o-r);const a=this.scrollDistance,l=this.scrollDistance+n;s<a?this.scrollDistance-=a-s+60:o>l&&(this.scrollDistance+=o-l+60)}_checkPaginationEnabled(){const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}_checkScrollingControls(){this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck()}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t){this._stopInterval(),Rg(650,100).pipe(Lg(G(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()})}_scrollTo(t){const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Xs),Ao(cv),Ao(cg,8),Ao(Yc),Ao(Kg),Ao(x_,8))},t.\u0275dir=xe({type:t,selectors:[["do-not-use-abstract-mat-paginated-tab-header"]]}),t})(),EO=(()=>{class t extends kO{constructor(t,e,n,i,r,s,o){super(t,e,n,i,r,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ug(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Xs),Ao(cv),Ao(cg,8),Ao(Yc),Ao(Kg),Ao(x_,8))},t.\u0275dir=xe({type:t,selectors:[["do-not-use-abstract-mat-tab-header-base"]],inputs:{disableRipple:"disableRipple"},features:[za]}),t})(),IO=(()=>{class t extends EO{constructor(t,e,n,i,r,s,o){super(t,e,n,i,r,s,o)}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Xs),Ao(cv),Ao(cg,8),Ao(Yc),Ao(Kg),Ao(x_,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){var i;1&t&&vc(n,CO,!1),2&t&&pc(i=_c())&&(e._items=i)},viewQuery:function(t,e){var n;1&t&&(fc(iO,!0),fc(QT,!0),fc(JT,!0),mc(tO,!0),mc(eO,!0)),2&t&&(pc(n=_c())&&(e._inkBar=n.first),pc(n=_c())&&(e._tabListContainer=n.first),pc(n=_c())&&(e._tabList=n.first),pc(n=_c())&&(e._nextPaginator=n.first),pc(n=_c())&&(e._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&ma("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[za],ngContentSelectors:zT,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(Qo(),No(0,"div",0,1),qo("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(){return e._handlePaginatorPress("before")}))("touchend",(function(){return e._stopInterval()})),Bo(2,"div",2),Fo(),No(3,"div",3,4),qo("keydown",(function(t){return e._handleKeydown(t)})),No(5,"div",5,6),qo("cdkObserveContent",(function(){return e._onContentChanges()})),No(7,"div",7),Jo(8),Fo(),Bo(9,"mat-ink-bar"),Fo(),Fo(),No(10,"div",8,9),qo("mousedown",(function(){return e._handlePaginatorPress("after")}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),Bo(12,"div",2),Fo()),2&t&&(ma("mat-tab-header-pagination-disabled",e._disableScrollBefore),Mo("matRippleDisabled",e._disableScrollBefore||e.disableRipple),_r(5),ma("_mat-animation-noopable","NoopAnimations"===e._animationMode),_r(5),ma("mat-tab-header-pagination-disabled",e._disableScrollAfter),Mo("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[Q_,Wv,iO],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-pagination-after,.mat-tab-header-rtl .mat-tab-header-pagination-before{padding-right:4px}.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:'';height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform .5s cubic-bezier(.35,0,.25,1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:.5s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}@media (-ms-high-contrast:active){.mat-ink-bar{outline:solid 2px;height:0}}.mat-tab-labels{display:flex}[mat-align-tabs=center] .mat-tab-labels{justify-content:center}[mat-align-tabs=end] .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:0}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}@media (-ms-high-contrast:active){.mat-tab-label:focus{outline:dotted 2px}}.mat-tab-label.mat-tab-disabled{cursor:default}@media (-ms-high-contrast:active){.mat-tab-label.mat-tab-disabled{opacity:.5}}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}@media (-ms-high-contrast:active){.mat-tab-label{opacity:1}}@media (max-width:599px){.mat-tab-label{min-width:72px}}"],encapsulation:2,changeDetection:0}),t})(),TO=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,M_,sg,J_,Gv,py],M_]}),t})();function OO(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"mat-form-field",10),No(2,"mat-label",8),Da(3,"DIALOG-BEST-MOVES-INPUT-MOVE-NAME"),Fo(),No(4,"input",11),qo("ngModelChange",(function(e){return Je(t),Ko().data.name=e})),Fo(),Fo(),No(5,"mat-form-field",10),No(6,"mat-label",8),Da(7,"DIALOG-BEST-MOVES-INPUT-VIDEO"),Fo(),No(8,"input",12),qo("ngModelChange",(function(e){return Je(t),Ko().data.videoUrl=e})),Fo(),Fo(),No(9,"mat-form-field",10),No(10,"mat-label",8),Da(11,"DESCRIPTION"),Fo(),No(12,"input",13),qo("ngModelChange",(function(e){return Je(t),Ko().data.description=e})),Fo(),Fo(),Fo()}if(2&t){const t=Ko();_r(4),Mo("ngModel",t.data.name),_r(4),Mo("ngModel",t.data.videoUrl),_r(4),Mo("ngModel",t.data.description)}}function DO(t,e){if(1&t&&(No(0,"span",8),Da(1,"DIALOG-DELETE-DESCRIPTION"),Fo(),Da(2," : "),No(3,"b"),Da(4),Fo()),2&t){const t=Ko();_r(4),Aa(t.data.name)}}let AO=(()=>{class t{constructor(t,e){this.dialogRef=t,this.inputData=e,t.disableClose=!0,this.data=Object.assign({},e),this.action=this.data.action,"Update"===this.action&&(this.previousBestMoveName=this.data.name)}doAction(){this.dialogRef.close({event:this.action,data:this.data,previousBestMoveName:this.previousBestMoveName})}closeDialog(){this.dialogRef.close({event:"Cancel"})}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(Cw,8))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-best-move"]],decls:16,vars:7,consts:[["moveForm","ngForm"],["mat-dialog-title",""],[3,"innerHTML"],["mat-dialog-content",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-dialog-actions",""],["mat-button","","mat-flat-button","","color","warn",3,"click"],["translate",""],["mat-button","",3,"disabled","click"],["appearance","outline","color","accent",1,"w-100"],["matInput","","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","name","videoUrl","required","",3,"ngModel","ngModelChange"],["matInput","","name","description","required","",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(No(0,"form",null,0),No(2,"h1",1),Bo(3,"span",2),tc(4,"translate"),Fo(),No(5,"div",3),Oo(6,OO,13,3,"div",4),Oo(7,DO,5,1,"ng-template",null,5,Sc),Fo(),No(9,"div",6),No(10,"button",7),qo("click",(function(){return e.closeDialog()})),No(11,"span",8),Da(12,"CANCEL"),Fo(),Fo(),No(13,"button",9),qo("click",(function(){return e.doAction()})),No(14,"span",8),Da(15),Fo(),Fo(),Fo(),Fo()),2&t){const t=Do(1),n=Do(8);_r(3),Mo("innerHTML",ec(4,5,"DIALOG-"+e.action+"-BEST-MOVES"),Ji),_r(3),Mo("ngIf","Delete"!=e.action)("ngIfElse",n),_r(7),Mo("disabled",!t.form.valid),_r(2),Aa(e.action)}},directives:[tC,Kw,qx,Dw,Aw,Qh,Rw,OI,bS,tk,WS,hk,Hw,fC,Xw,Jx],pipes:[_S],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})(),RO=(()=>{class t{constructor(t){this.http=t}getBestMovesByCharacterId(t){const e=(new SC).set("characterId",""+t);return this.http.get(ZC+"/getBestMovesByCharacterId",{params:e,headers:QC.headers})}addBestMove(t,e){const n=(new SC).set("characterId",""+t);return this.http.post(ZC+"/addBestMove",e,{params:n,headers:QC.headers})}editBestMove(t,e){const n=(new SC).set("id",""+t);return this.http.put(ZC+"/editBestMove",e,{params:n,headers:QC.headers})}removeBestMove(t){const e=(new SC).set("id",""+t);return this.http.delete(ZC+"/removeBestMove",{params:e,headers:QC.headers})}}return t.\u0275fac=function(e){return new(e||t)(Zt(LC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class PO{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new MO(t,this.predicate))}}class MO extends f{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}const LO=["youtubeContainer"];let NO=(()=>{class t{constructor(t,e){this._ngZone=t,this._videoId=new Qu(void 0),this._height=new Qu(390),this._width=new Qu(640),this._startSeconds=new Qu(void 0),this._endSeconds=new Qu(void 0),this._suggestedQuality=new Qu(void 0),this.ready=new nc,this.stateChange=new nc,this.error=new nc,this.apiChange=new nc,this.playbackQualityChange=new nc,this.playbackRateChange=new nc,this._youtubeContainer=new k,this._destroyed=new k,this._isBrowser=e?mu(e):"object"==typeof window&&!!window}get videoId(){return this._videoId.value}set videoId(t){this._videoId.next(t)}get height(){return this._height.value}set height(t){this._height.next(t||390)}get width(){return this._width.value}set width(t){this._width.next(t||640)}set startSeconds(t){this._startSeconds.next(t)}set endSeconds(t){this._endSeconds.next(t)}set suggestedQuality(t){this._suggestedQuality.next(t)}ngOnInit(){if(!this._isBrowser)return;let t=Zu(!0);if(!window.YT){if(this.showBeforeIframeApiLoads)throw new Error("Namespace YT not found, cannot construct embedded youtube player. Please install the YouTube Player API Reference for iframe Embeds: https://developers.google.com/youtube/iframe_api_reference");const e=new k;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>e.next(!0))},t=e.pipe(Ed(1),Nd(!1))}const e=function(t,e,n,i,r,s,o){const a=e.pipe(pE(ed([i,r])),F(([t,[e,n]])=>t?{videoId:t,width:e,height:n,events:s}:void 0));return ed([t,a,Zu(o)]).pipe(y(function(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0].slice()),n=>n.lift.call(j([n,...t]),new nd(e))}(n),(c=([t,e])=>!e,t=>t.lift(new PO(c))),F(([t])=>t)),Fd(FO,void 0),kg());var c}(this._youtubeContainer,this._videoId,t,this._width,this._height,this.createEventsBoundInZone(),this._ngZone).pipe((n=t=>{BO(t)||t.destroy()},H(t=>t?BO(t)?Zu(t):new _(e=>{let i=!1,r=!1;const s=t=>{r=!0,i||(t.target.removeEventListener("onReady",s),e.next(t.target))};return t.addEventListener("onReady",s),()=>{i=!0,r||n(t)}}).pipe(Ed(1),Nd(void 0)):Zu(void 0))),Lg(this._destroyed),tt(new k));var n;e.subscribe(t=>{this._player=t,t&&this._pendingPlayerState&&this._initializePlayer(t,this._pendingPlayerState),this._pendingPlayerState=void 0}),function(t,e,n){ed([t,e,n]).subscribe(([t,e,n])=>t&&t.setSize(e,n))}(e,this._width,this._height),function(t,e){ed([t,e]).subscribe(([t,e])=>t&&e&&t.setPlaybackQuality(e))}(e,this._suggestedQuality),function(t,e,n,i,r,s){const o=ed([n,i]).pipe(F(([t,e])=>({startSeconds:t,endSeconds:e}))),a=o.pipe(VO(t,t=>!!t&&!function(t){const e=t.getPlayerState();return-1!==e&&5!==e}(t))),l=e.pipe(VO(t,(t,e)=>!!t&&t.videoId!==e));G(t.pipe(VO(ed([e,o]),([t,e],n)=>!(!n||t==n.videoId&&!e.startSeconds&&!e.endSeconds))),l,a).pipe(pE(ed([t,e,o,r])),F(([t,e])=>e),Lg(s)).subscribe(([t,e,n,i])=>{e&&t&&(t.videoId=e,t.cueVideoById(Object.assign({videoId:e,suggestedQuality:i},n)))})}(e,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),e.connect()}createEventsBoundInZone(){const t={};return new Map([["onReady",this.ready],["onStateChange",this.stateChange],["onPlaybackQualityChange",this.playbackQualityChange],["onPlaybackRateChange",this.playbackRateChange],["onError",this.error],["onApiChange",this.apiChange]]).forEach((e,n)=>{e.observers.length&&(t[n]=this._runInZone(t=>e.emit(t)))}),t}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._destroyed.next(),this._destroyed.complete()}_runInZone(t){return(...e)=>this._ngZone.run(()=>t(...e))}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=1}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=2}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=5}seekTo(t,e){this._player?this._player.seekTo(t,e):this._getPendingState().seek={seconds:t,allowSeekAhead:e}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:-1}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(t,e){const{playbackState:n,playbackRate:i,volume:r,muted:s,seek:o}=e;switch(n){case 1:t.playVideo();break;case 2:t.pauseVideo();break;case 5:t.stopVideo()}null!=i&&t.setPlaybackRate(i),null!=r&&t.setVolume(r),null!=s&&(s?t.mute():t.unMute()),null!=o&&t.seekTo(o.seconds,o.allowSeekAhead)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Yc),Ao(Rc,8))},t.\u0275cmp=ge({type:t,selectors:[["youtube-player"]],viewQuery:function(t,e){var n;1&t&&mc(LO,!0),2&t&&pc(n=_c())&&(e.youtubeContainer=n.first)},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(t,e){1&t&&Bo(0,"div",null,0)},encapsulation:2,changeDetection:0}),t})();function FO(t,[e,n,i]){if(!n)return void(t&&t.destroy());if(t)return t;const r=i.runOutsideAngular(()=>new YT.Player(e,n));return r.videoId=n.videoId,r}function BO(t){return"getPlayerStatus"in t}function VO(t,e){return y(pE(t),ld(([t,n])=>e(n,t)),F(([t])=>t))}let zO=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();function jO(t,e){if(1&t&&Bo(0,"div",3),2&t){const t=Ko();fa("margin-top",t.displayHorizontal?"0":"8px")("margin-left",t.displayHorizontal?"8px":"0"),Mo("translate",t.message)}}let HO=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["app-empty-layout"]],inputs:{hideBackground:"hideBackground",displayHorizontal:"displayHorizontal",message:"message",iconFontSize:"iconFontSize"},decls:4,vars:11,consts:[[1,"flex-center","bg-third",2,"border-radius","24px"],["aria-hidden","false","aria-label","Empty layout icon",2,"height","auto","width","auto"],[3,"margin-top","margin-left","translate",4,"ngIf"],[3,"translate"]],template:function(t,e){1&t&&(No(0,"div",0),No(1,"mat-icon",1),Da(2," error_outline "),Fo(),Oo(3,jO,1,5,"div",2),Fo()),2&t&&(fa("flex-direction",e.displayHorizontal?"row":"column")("background-color",e.hideBackground?"transparent":"")("padding",e.hideBackground?"0px":"1rem")("margin",e.hideBackground?"0px":"0.5rem"),_r(1),fa("font-size",e.iconFontSize?e.iconFontSize+"px":"24px"),_r(2),Mo("ngIf",e.message))},directives:[Wk,Qh,bS],styles:[""]}),t})(),UO=(()=>{class t{constructor(){this.CLASSIC_URL_STRING="v=",this.EMBED_URL_STRING="embed/",this.ID_SIZE=11}transform(t){const e=t.indexOf(this.CLASSIC_URL_STRING);return e>-1?t.substring(e+this.CLASSIC_URL_STRING.length,e+this.CLASSIC_URL_STRING.length+this.ID_SIZE+1):t.indexOf(this.EMBED_URL_STRING)>-1?t.substring(t.length-this.ID_SIZE,t.length):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Ce({name:"youtubeId",type:t,pure:!0}),t})();function $O(t,e){if(1&t&&(No(0,"div"),Bo(1,"img",15),Fo()),2&t){const t=Ko().$implicit;_r(1),Mo("src",t.videoUrl,er)}}function qO(t,e){if(1&t&&(Bo(0,"youtube-player",16),tc(1,"youtubeId")),2&t){const t=Ko().$implicit;Mo("width",350)("height",210)("videoId",ec(1,3,t.videoUrl))}}function WO(t,e){1&t&&Bo(0,"mat-divider")}function GO(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"div",10),Da(2),No(3,"app-edit-remove",11),qo("editClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).openBestMoveDialog("Update",n)}))("removeClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).openBestMoveDialog("Delete",n)})),Fo(),Fo(),Oo(4,$O,2,1,"div",12),Oo(5,qO,2,5,"ng-template",null,7,Sc),No(7,"div",13),Da(8),Fo(),Oo(9,WO,1,0,"mat-divider",14),Fo()}if(2&t){const t=e.$implicit,n=e.last,i=Do(6);_r(2),Ra(" ",t.name," "),_r(1),Mo("displayHorizontal",!0),_r(1),Mo("ngIf",t.videoUrl.toLowerCase().indexOf(".png")>-1||t.videoUrl.toLowerCase().indexOf(".jpg")>-1||t.videoUrl.toLowerCase().indexOf(".jpeg")>-1||t.videoUrl.toLowerCase().indexOf(".gif")>-1)("ngIfElse",i),_r(4),Ra(" ",t.description," "),_r(1),Mo("ngIf",!n)}}function YO(t,e){if(1&t&&(No(0,"mat-card",8),No(1,"mat-card-content"),Oo(2,GO,10,6,"div",9),Fo(),Fo()),2&t){const t=Ko();_r(2),Mo("ngForOf",t.bestMoves)}}function XO(t,e){1&t&&Bo(0,"app-empty-layout",17),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-TAB-BEST-MOVE")}let KO=(()=>{class t{constructor(t,e){this.bestMoveService=t,this.dialog=e,this.bestMoves=new Array}ngOnInit(){this.bestMoveService.getBestMovesByCharacterId(this.characterId).subscribe(t=>{t&&(this.bestMoves=t)})}openBestMoveDialog(t,e){e.action=t,this.dialog.open(AO,{width:"400px",data:e}).afterClosed().subscribe(t=>{"Add"===t.event?this.bestMoveService.addBestMove(this.characterId,t.data).subscribe(t=>{this.refreshBestMoves()}):"Update"===t.event?this.bestMoveService.editBestMove(t.data.id,t.data).subscribe(t=>{this.refreshBestMoves()}):"Delete"===t.event&&this.bestMoveService.removeBestMove(t.data.id).subscribe(t=>{this.refreshBestMoves()})})}refreshBestMoves(){this.bestMoveService.getBestMovesByCharacterId(this.characterId).subscribe(t=>{t&&(this.bestMoves=t)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(RO),Ao(Iw))},t.\u0275cmp=ge({type:t,selectors:[["app-best-moves"]],inputs:{characterId:"characterId"},decls:10,vars:2,consts:[[1,"container","character-portrait"],[1,"row","justify-content-center",2,"margin","16px"],["appLogin","","mat-raised-button","","color","primary",3,"click"],["translate",""],[1,"row","justify-content-center"],[1,"col-md-12","col-sm-12"],["class","mat-elevation-z4",4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"mat-elevation-z4"],[4,"ngFor","ngForOf"],[1,"move-name"],[2,"margin-left","16px",3,"displayHorizontal","editClicked","removeClicked"],[4,"ngIf","ngIfElse"],[1,"description"],[4,"ngIf"],["alt","Responsive Hitbox image",1,"img-fluid",3,"src"],[3,"width","height","videoId"],[3,"iconFontSize","displayHorizontal","message"]],template:function(t,e){if(1&t&&(No(0,"div",0),No(1,"div",1),No(2,"button",2),qo("click",(function(){return e.openBestMoveDialog("Add",{})})),No(3,"span",3),Da(4,"ADD-BEST-MOVE"),Fo(),Fo(),Fo(),No(5,"div",4),No(6,"div",5),Oo(7,YO,3,1,"mat-card",6),Oo(8,XO,1,3,"ng-template",null,7,Sc),Fo(),Fo(),Fo()),2&t){const t=Do(9);_r(7),Mo("ngIf",e.bestMoves.length>0)("ngIfElse",t)}},directives:[OI,pT,bS,Qh,tT,QI,Kh,fT,NO,FT,HO],pipes:[UO],styles:[".move-name[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:2rem;font-weight:500;margin-bottom:8px}.description[_ngcontent-%COMP%]{margin-top:16px;margin-left:8px}"]}),t})();class ZO{constructor(t,e,n,i,r,s){this.name=t,this.videoUrl=e,this.additionalFilters=n,this.minPercent=i,this.maxPercent=r,this.id=s}}class QO{constructor(t){this.inputs=t}}let JO=(()=>{class t{constructor(t){this.http=t}getCombosByCharacterId(t){const e=(new SC).set("characterId",""+t);return this.http.get(ZC+"/getCombosByCharacterId",{params:e,headers:QC.headers})}addCombo(t,e){const n=(new SC).set("characterId",""+t);return this.http.post(ZC+"/addCombo",e,{params:n,headers:QC.headers})}updateCombo(t,e){const n=(new SC).set("id",""+t);return this.http.put(ZC+"/editCombo",e,{params:n,headers:QC.headers})}removeCombo(t){const e=(new SC).set("id",""+t);return this.http.delete(ZC+"/removeCombo",{params:e,headers:QC.headers})}}return t.\u0275fac=function(e){return new(e||t)(Zt(LC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const tD=["input"],eD=function(){return{enterDuration:150}},nD=["*"],iD=new jt("mat-checkbox-click-action");let rD=0;const sD={provide:Fw,useExisting:Et(()=>hD),multi:!0},oD=function(){var t={Init:0,Checked:1,Unchecked:2,Indeterminate:3};return t[t.Init]="Init",t[t.Checked]="Checked",t[t.Unchecked]="Unchecked",t[t.Indeterminate]="Indeterminate",t}();class aD{}class lD{constructor(t){this._elementRef=t}}const cD=B_(N_(F_(L_(lD)),"accent"));let hD=(()=>{class t extends cD{constructor(t,e,n,i,r,s,o){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._clickAction=s,this._animationMode=o,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId=`mat-checkbox-${++rD}`,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new nc,this.indeterminateChange=new nc,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=oD.Init,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this.tabIndex=parseInt(r)||0,this._focusMonitor.monitor(t,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),e.markForCheck()})})}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=ug(t)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=ug(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=t,e&&(this._transitionCheckState(this._indeterminate?oD.Indeterminate:this.checked?oD.Checked:oD.Unchecked),this.indeterminateChange.emit(this._indeterminate))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new aD;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?oD.Checked:oD.Unchecked),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case oD.Init:if(e===oD.Checked)n="unchecked-checked";else{if(e!=oD.Indeterminate)return"";n="unchecked-indeterminate"}break;case oD.Unchecked:n=e===oD.Checked?"unchecked-checked":"unchecked-indeterminate";break;case oD.Checked:n=e===oD.Unchecked?"checked-unchecked":"checked-indeterminate";break;case oD.Indeterminate:n=e===oD.Checked?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Xs),Ao(uy),Ao(Yc),Ro("tabindex"),Ao(iD,8),Ao(x_,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){var n;1&t&&(mc(tD,!0),mc(Q_,!0)),2&t&&(pc(n=_c())&&(e._inputElement=n.first),pc(n=_c())&&(e.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(Fa("id",e.id),Io("tabindex",null),ma("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[nl([sD]),za],ngContentSelectors:nD,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","indeterminate","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(Qo(),No(0,"label",0,1),No(2,"div",2),No(3,"input",3,4),qo("change",(function(t){return e._onInteractionEvent(t)}))("click",(function(t){return e._onInputClick(t)})),Fo(),No(5,"div",5),Bo(6,"div",6),Fo(),Bo(7,"div",7),No(8,"div",8),Sn(),No(9,"svg",9),Bo(10,"path",10),Fo(),kn(),Bo(11,"div",11),Fo(),Fo(),No(12,"span",12,13),qo("cdkObserveContent",(function(){return e._onLabelTextChange()})),No(14,"span",14),Da(15,"\xa0"),Fo(),Jo(16),Fo(),Fo()),2&t){const t=Do(1),n=Do(13);Io("for",e.inputId),_r(2),ma("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),_r(1),Mo("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("indeterminate",e.indeterminate),Io("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked()),_r(2),Mo("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Kl(19,eD))}},directives:[Q_,Wv],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.91026}50%{animation-timing-function:cubic-bezier(0,0,.2,.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0,0,0,1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(.4,0,1,1);stroke-dashoffset:0}to{stroke-dashoffset:-22.91026}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0,0,.2,.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(.14,0,0,1);opacity:1;transform:rotate(0)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}100%,32.8%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0,0,.2,.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}@media (-ms-high-contrast:active){.mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0,0,.2,.1),opacity 90ms cubic-bezier(0,0,.2,.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media (hover:none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.91026;stroke-dasharray:22.91026;stroke-width:2.13333px}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0);border-radius:2px}@media (-ms-high-contrast:active){.mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0s mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0s mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0s mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:.5s linear 0s mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0s mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:.3s linear 0s mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}"],encapsulation:2,changeDetection:0}),t})(),uD=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),dD=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,J_,M_,Gv,uD],M_,uD]}),t})();const pD=["test"];function fD(t,e){if(1&t){const t=Ho();No(0,"span",21),No(1,"img",22),qo("click",(function(){Je(t);const n=e.$implicit;return Ko(2).addInput(n)})),Fo(),Fo()}if(2&t){const t=e.$implicit;_r(1),Mo("src","../../assets/images/inputs/"+t+".png",er)}}function mD(t,e){if(1&t&&(No(0,"div"),Oo(1,fD,2,1,"span",20),Fo()),2&t){const t=e.$implicit;_r(1),Mo("ngForOf",t)}}function gD(t,e){if(1&t&&(No(0,"span",21),Bo(1,"img",26),tc(2,"lowercase"),Fo()),2&t){const t=e.$implicit;_r(1),Mo("src","../../assets/images/inputs/"+ec(2,1,t)+".png",er)}}function vD(t,e){if(1&t){const t=Ho();No(0,"div",23),No(1,"p"),No(2,"span",2),Da(3,"DIALOG-COMBO-INPUTS"),Fo(),Fo(),Oo(4,gD,3,3,"span",20),No(5,"div",null,24),No(7,"button",25),qo("click",(function(){return Je(t),Ko().removeLastInput()})),No(8,"span",2),Da(9,"DIALOG-COMBO-REMOVE-LAST-INPUT"),Fo(),Fo(),Fo(),Fo()}if(2&t){const t=Ko();_r(4),Mo("ngForOf",t.selectedInputs)}}function yD(t,e){1&t&&(No(0,"span",27),Da(1,"FILTER-ADDITIONAL-FILTERS"),Fo())}function bD(t,e){if(1&t&&(No(0,"mat-checkbox",28),Da(1),Fo()),2&t){const t=e.$implicit;ta("formControlName",t),_r(1),Ra("",t," ")}}let _D=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.formBuilder=n,this.comboService=i,this.inputs=[["sh","fh","ff","rising","falling"],["u","ur","r","dr","d","dl","l","ul"],["a","up-tilt","f-tilt","down-tilt","up-smash","f-smash","d-smash"],["nair","up-air","fair","dair","bair"],["b","up-b","side-b","down-b"],["up","up-right","right","down-right","down","down-left","left","up-left"],["grab","zair"],["shield","air-dodge","s-dodge","roll"]],this.colors=["#9e9e9e","#ffffff","#4caf50","#4caf50","#c22630","#e5d221","#6a3eb8","#1a78f2"],this.selectedInputs=new Array,this.comboAdditionalFilters=new Array,this.addForm=this.formBuilder.group({name:[null,[ex.required]],videoUrl:[null],description:[null],minPercent:[null],maxPercent:[null]}),t.disableClose=!0;for(const r of this.data.additionalFilters)this.addForm.addControl(r,new zx(!1))}onCancelClick(){this.dialogRef.close()}onAddClick(){this.comboService.addCombo(this.data.characterId,this.inputsToCombo()).subscribe(()=>{this.dialogRef.close(!0)})}addInput(t){this.selectedInputs.push(t),this.test.nativeElement.scrollIntoView({behavior:"smooth",block:"end"})}inputsToCombo(){for(const e of this.data.additionalFilters)this.addForm.get(e).value&&this.comboAdditionalFilters.push(e);const t=new ZO(this.addForm.get("name").value,this.addForm.get("videoUrl").value,this.comboAdditionalFilters,this.addForm.get("minPercent").value,this.addForm.get("maxPercent").value);return t.description=this.addForm.get("description").value,t.moves=new Array(new QO([])),this.selectedInputs.forEach(e=>{"slash-white"===e?t.moves.push(new QO([])):t.moves[t.moves.length-1].inputs.push(e)}),t}removeLastInput(){this.selectedInputs.pop()}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(Cw),Ao(gC),Ao(JO))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-add-combo"]],viewQuery:function(t,e){var n;1&t&&mc(pD,!0),2&t&&pc(n=_c())&&(e.test=n.first)},decls:42,vars:6,consts:[[3,"formGroup"],["mat-dialog-title",""],["translate",""],["mat-dialog-content","",2,"display","flex","flex-direction","column"],["appearance","outline","color","accent",1,"w-100"],["matInput","","formControlName","name"],["matInput","","formControlName","videoUrl"],["type","number","matInput","","autocomplete","off","formControlName","minPercent"],["type","number","matInput","","autocomplete","off","formControlName","maxPercent"],[1,"move-list"],[4,"ngFor","ngForOf"],["width","56px","src","../../assets/images/inputs/slash-white.png","alt","no image",3,"click"],["style","margin-top: 20px",4,"ngIf"],["matInput","","formControlName","description"],["style","margin-top: 20px;","translate","",4,"ngIf"],[2,"display","flex","flex-direction","row"],["style","margin-right: 10px;",3,"formControlName",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"],["mat-button","","type","submit",3,"disabled","click"],["style","margin-right: 5px;",4,"ngFor","ngForOf"],[2,"margin-right","5px"],["width","56px","alt","no image",3,"src","click"],[2,"margin-top","20px"],["test",""],["type","button","mat-stroked-button","",2,"margin","0.5rem 0",3,"click"],["width","56px","alt","no image",3,"src"],["translate","",2,"margin-top","20px"],[2,"margin-right","10px",3,"formControlName"]],template:function(t,e){1&t&&(No(0,"form",0),No(1,"h1",1),No(2,"span",2),Da(3,"DIALOG-ADD-COMBO-TITLE"),Fo(),Fo(),No(4,"div",3),No(5,"mat-form-field",4),No(6,"mat-label",2),Da(7,"DIALOG-COMBO-NAME"),Fo(),Bo(8,"input",5),Fo(),No(9,"mat-form-field",4),No(10,"mat-label",2),Da(11,"DIALOG-COMBO-URL"),Fo(),Bo(12,"input",6),Fo(),No(13,"mat-form-field",4),No(14,"mat-label",2),Da(15,"DIALOG-COMBO-MIN-PERCENT"),Fo(),Bo(16,"input",7),Fo(),No(17,"mat-form-field",4),No(18,"mat-label",2),Da(19,"DIALOG-COMBO-MAX-PERCENT"),Fo(),Bo(20,"input",8),Fo(),No(21,"p"),No(22,"span",2),Da(23,"DIALOG-COMBO-ADD-INPUT"),Fo(),Fo(),No(24,"div",9),Oo(25,mD,2,1,"div",10),No(26,"img",11),qo("click",(function(){return e.addInput("slash-white")})),Fo(),Fo(),Oo(27,vD,10,1,"div",12),No(28,"mat-form-field",4),No(29,"mat-label",2),Da(30,"DESCRIPTION"),Fo(),Bo(31,"input",13),Fo(),Oo(32,yD,2,0,"span",14),No(33,"div",15),Oo(34,bD,2,2,"mat-checkbox",16),Fo(),Fo(),No(35,"div",17),No(36,"button",18),qo("click",(function(){return e.onCancelClick()})),No(37,"span",2),Da(38,"CANCEL"),Fo(),Fo(),No(39,"button",19),qo("click",(function(){return e.onAddClick()})),No(40,"span",2),Da(41,"ADD"),Fo(),Fo(),Fo(),Fo()),2&t&&(Mo("formGroup",e.addForm),_r(25),Mo("ngForOf",e.inputs),_r(2),Mo("ngIf",e.selectedInputs.length>0),_r(5),Mo("ngIf",e.data.additionalFilters.length>0),_r(2),Mo("ngForOf",e.data.additionalFilters),_r(5),Mo("disabled",!e.addForm.valid||0===e.selectedInputs.length))},directives:[tC,Kw,sC,Dw,bS,Aw,tk,WS,hk,Hw,Xw,dC,lx,Kh,Qh,Rw,OI,hD],pipes:[pu],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})(),wD=(()=>{class t{constructor(t,e,n){this.dialogRef=t,this.data=e,this.comboService=n,t.disableClose=!0}ngOnInit(){}onCancelClick(){this.dialogRef.close()}onConfirmClick(){this.comboService.removeCombo(this.data.id).subscribe(()=>{this.dialogRef.close(!0)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(Cw),Ao(JO))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-remove-combo"]],decls:11,vars:0,consts:[["mat-dialog-title",""],["translate",""],["mat-dialog-content","",2,"display","flex","flex-direction","column"],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"],["mat-button","","type","submit",3,"click"]],template:function(t,e){1&t&&(No(0,"h1",0),No(1,"span",1),Da(2,"DELETE-COMBO"),Fo(),Fo(),No(3,"div",2),No(4,"span",1),Da(5,"DELETE-COMBO-CONTENT"),Fo(),Fo(),No(6,"div",3),No(7,"button",4),qo("click",(function(){return e.onCancelClick()})),Da(8,"Cancel"),Fo(),No(9,"button",5),qo("click",(function(){return e.onConfirmClick()})),Da(10,"Confirm"),Fo(),Fo())},directives:[Dw,bS,Aw,Rw,OI],styles:[""]}),t})();function xD(t,e){if(1&t){const t=Ho();No(0,"span",21),No(1,"img",22),qo("click",(function(){Je(t);const n=e.$implicit;return Ko(2).addInput(n)})),Fo(),Fo()}if(2&t){const t=e.$implicit;_r(1),Mo("src","../../assets/images/inputs/"+t+".png",er)}}function CD(t,e){if(1&t&&(No(0,"div"),Oo(1,xD,2,1,"span",20),Fo()),2&t){const t=e.$implicit;_r(1),Mo("ngForOf",t)}}function SD(t,e){if(1&t&&(No(0,"span",21),Bo(1,"img",25),tc(2,"lowercase"),Fo()),2&t){const t=e.$implicit;_r(1),Mo("src","../../assets/images/inputs/"+ec(2,1,t)+".png",er)}}function kD(t,e){if(1&t){const t=Ho();No(0,"div",23),No(1,"p"),No(2,"span",2),Da(3,"DIALOG-COMBO-INPUTS"),Fo(),Fo(),Oo(4,SD,3,3,"span",20),No(5,"div"),No(6,"button",24),qo("click",(function(){return Je(t),Ko().removeLastInput()})),No(7,"span",2),Da(8,"DIALOG-COMBO-REMOVE-LAST-INPUT"),Fo(),Fo(),Fo(),Fo()}if(2&t){const t=Ko();_r(4),Mo("ngForOf",t.selectedInputs)}}function ED(t,e){1&t&&(No(0,"span",26),Da(1,"FILTER-ADDITIONAL-FILTERS"),Fo())}function ID(t,e){if(1&t&&(No(0,"mat-checkbox",27),Da(1),Fo()),2&t){const t=e.$implicit;ta("formControlName",t),_r(1),Ra("",t," ")}}let TD=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.formBuilder=e,this.data=n,this.comboService=i,this.inputs=[["sh","fh","ff","rising","falling"],["u","ur","r","dr","d","dl","l","ul"],["a","up-tilt","f-tilt","down-tilt","up-smash","f-smash","d-smash"],["nair","up-air","fair","dair","bair"],["b","up-b","side-b","down-b"],["up","up-right","right","down-right","down","down-left","left","up-left"],["grab","zair"],["shield","air-dodge","s-dodge","roll"]],this.colors=["#9e9e9e","#ffffff","#4caf50","#4caf50","#c22630","#e5d221","#6a3eb8","#1a78f2"],this.selectedInputs=new Array,this.comboAdditionalFilters=new Array,this.editForm=this.formBuilder.group({name:[this.data.combo.name,[ex.required]],videoUrl:[this.data.combo.videoUrl],description:[this.data.combo.description],minPercent:[this.data.combo.minPercent],maxPercent:[this.data.combo.maxPercent]}),t.disableClose=!0;for(const r of this.data.additionalFilters)this.editForm.addControl(r,new zx(this.data.combo.additionalFilters.indexOf(r)>-1));this.previousComboName=this.data.combo.name}ngOnInit(){const t=this.data.combo.moves;for(let e=0;e<t.length;e++)t[e].inputs.forEach(t=>this.selectedInputs.push(t)),e!==this.data.combo.moves.length-1&&this.selectedInputs.push("slash-white")}onCancelClick(){this.dialogRef.close()}onEditClick(){this.comboService.updateCombo(this.data.combo.id,this.inputsToCombo()).subscribe(()=>{this.dialogRef.close(!0)})}addInput(t){this.selectedInputs.push(t)}inputsToCombo(){for(const e of this.data.additionalFilters)this.editForm.get(e).value&&this.comboAdditionalFilters.push(e);const t=new ZO(this.editForm.get("name").value,this.editForm.get("videoUrl").value,this.comboAdditionalFilters,this.editForm.get("minPercent").value,this.editForm.get("maxPercent").value,this.data.combo.id);return t.description=this.editForm.get("description").value,t.moves=new Array(new QO([])),this.selectedInputs.forEach(e=>{"slash-white"===e?t.moves.push(new QO([])):t.moves[t.moves.length-1].inputs.push(e)}),t}removeLastInput(){this.selectedInputs.pop()}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(gC),Ao(Cw),Ao(JO))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-edit-combo"]],decls:42,vars:6,consts:[[3,"formGroup"],["mat-dialog-title",""],["translate",""],["mat-dialog-content","",2,"display","flex","flex-direction","column"],["appearance","outline","color","accent",1,"w-100"],["matInput","","formControlName","name"],["matInput","","formControlName","videoUrl"],["type","number","matInput","","autocomplete","off","formControlName","minPercent"],["type","number","matInput","","autocomplete","off","formControlName","maxPercent"],[1,"move-list"],[4,"ngFor","ngForOf"],["width","56px","src","../../assets/images/inputs/slash-white.png","alt","no image",3,"click"],["style","margin-top: 20px",4,"ngIf"],["matInput","","formControlName","description"],["style","margin-top: 20px;","translate","",4,"ngIf"],[2,"display","flex","flex-direction","row"],["style","margin-right: 10px;",3,"formControlName",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"],["mat-button","","type","submit",3,"disabled","click"],["style","margin-right: 5px;",4,"ngFor","ngForOf"],[2,"margin-right","5px"],["width","56px","alt","no image",3,"src","click"],[2,"margin-top","20px"],["type","button","mat-stroked-button","",2,"margin","0.5rem 0",3,"click"],["width","56px","alt","no image",3,"src"],["translate","",2,"margin-top","20px"],[2,"margin-right","10px",3,"formControlName"]],template:function(t,e){1&t&&(No(0,"form",0),No(1,"h1",1),No(2,"span",2),Da(3,"DIALOG-EDIT-COMBO-TITLE"),Fo(),Fo(),No(4,"div",3),No(5,"mat-form-field",4),No(6,"mat-label",2),Da(7,"DIALOG-COMBO-NAME"),Fo(),Bo(8,"input",5),Fo(),No(9,"mat-form-field",4),No(10,"mat-label",2),Da(11,"DIALOG-COMBO-URL"),Fo(),Bo(12,"input",6),Fo(),No(13,"mat-form-field",4),No(14,"mat-label",2),Da(15,"DIALOG-COMBO-MIN-PERCENT"),Fo(),Bo(16,"input",7),Fo(),No(17,"mat-form-field",4),No(18,"mat-label",2),Da(19,"DIALOG-COMBO-MAX-PERCENT"),Fo(),Bo(20,"input",8),Fo(),No(21,"p"),No(22,"span",2),Da(23,"DIALOG-COMBO-ADD-INPUT"),Fo(),Fo(),No(24,"div",9),Oo(25,CD,2,1,"div",10),No(26,"img",11),qo("click",(function(){return e.addInput("slash-white")})),Fo(),Fo(),Oo(27,kD,9,1,"div",12),No(28,"mat-form-field",4),No(29,"mat-label",2),Da(30,"DESCRIPTION"),Fo(),Bo(31,"input",13),Fo(),Oo(32,ED,2,0,"span",14),No(33,"div",15),Oo(34,ID,2,2,"mat-checkbox",16),Fo(),Fo(),No(35,"div",17),No(36,"button",18),qo("click",(function(){return e.onCancelClick()})),No(37,"span",2),Da(38,"CANCEL"),Fo(),Fo(),No(39,"button",19),qo("click",(function(){return e.onEditClick()})),No(40,"span",2),Da(41,"CONFIRM"),Fo(),Fo(),Fo(),Fo()),2&t&&(Mo("formGroup",e.editForm),_r(25),Mo("ngForOf",e.inputs),_r(2),Mo("ngIf",e.selectedInputs.length>0),_r(5),Mo("ngIf",e.data.additionalFilters.length>0),_r(2),Mo("ngForOf",e.data.additionalFilters),_r(5),Mo("disabled",!e.editForm.valid||0===e.selectedInputs.length))},directives:[tC,Kw,sC,Dw,bS,Aw,tk,WS,hk,Hw,Xw,dC,lx,Kh,Qh,Rw,OI,hD],pipes:[pu],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})();function OD(t,e){if(1&t&&(No(0,"mat-option",21),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Ra(" ",t,"")}}function DD(t,e){if(1&t&&(No(0,"span",22),Da(1),Fo()),2&t){const t=Ko();_r(1),Pa(" (+",t.containingMovesFormControl.value.length-1," ",2===(null==t.containingMovesFormControl.value?null:t.containingMovesFormControl.value.length)?"other":"others",") ")}}function AD(t,e){if(1&t&&(No(0,"mat-option",21),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Aa(t)}}function RD(t,e){if(1&t&&(No(0,"mat-option",21),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Ra("",t," ")}}function PD(t,e){if(1&t&&(No(0,"mat-option",21),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Aa(t)}}function MD(t,e){if(1&t&&(No(0,"span",22),Da(1),Fo()),2&t){const t=Ko(2);_r(1),Pa(" (+",t.additionalFiltersFormControl.value.length-1," ",2===(null==t.additionalFiltersFormControl.value?null:t.additionalFiltersFormControl.value.length)?"other":"others",") ")}}function LD(t,e){if(1&t&&(No(0,"mat-option",21),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Ra(" ",t,"")}}function ND(t,e){if(1&t&&(No(0,"div"),No(1,"mat-form-field",8),No(2,"mat-label",6),Da(3,"FILTER-ADDITIONAL-FILTERS"),Fo(),No(4,"mat-select",11),No(5,"mat-select-trigger"),Da(6),Oo(7,MD,2,2,"span",12),Fo(),Oo(8,LD,2,2,"mat-option",10),Fo(),Fo(),Fo()),2&t){const t=Ko();_r(4),Mo("formControl",t.additionalFiltersFormControl),_r(2),Ra(" ",t.additionalFiltersFormControl.value?t.additionalFiltersFormControl.value[0]:""," "),_r(1),Mo("ngIf",(null==t.additionalFiltersFormControl.value?null:t.additionalFiltersFormControl.value.length)>1),_r(1),Mo("ngForOf",t.additionalFilters)}}function FD(t,e){if(1&t&&(No(0,"div",35),Bo(1,"youtube-player",36),tc(2,"youtubeId"),Fo()),2&t){const t=Ko().$implicit;_r(1),Mo("width",420)("height",236)("videoId",ec(2,3,t.videoUrl))}}function BD(t,e){if(1&t&&(No(0,"span"),Bo(1,"img",38),tc(2,"lowercase"),Fo()),2&t){const t=e.$implicit;_r(1),Mo("src","../../assets/images/inputs/"+ec(2,1,t)+".png",er)}}function VD(t,e){1&t&&Bo(0,"img",39)}function zD(t,e){if(1&t&&(No(0,"span"),Oo(1,BD,3,3,"span",30),Oo(2,VD,1,0,"img",37),Fo()),2&t){const t=e.$implicit,n=e.last;_r(1),Mo("ngForOf",t.inputs),_r(1),Mo("ngIf",!n)}}function jD(t,e){if(1&t&&(No(0,"div"),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),Ra(" Min percent : ",t.minPercent,"%")}}function HD(t,e){if(1&t&&(No(0,"div"),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),Ra(" Max percent : ",t.maxPercent,"%")}}function UD(t,e){if(1&t&&(No(0,"div",40),Da(1),Fo()),2&t){const t=e.$implicit;_r(1),Ra(" ",t," ")}}function $D(t,e){if(1&t){const t=Ho();No(0,"div",23),No(1,"mat-card",24),No(2,"div",25),No(3,"app-edit-remove",26),qo("editClicked",(function(){Je(t);const n=e.$implicit;return Ko().openEditComboDialog(n)}))("removeClicked",(function(){Je(t);const n=e.$implicit;return Ko().openRemoveComboDialog(n)})),Fo(),Fo(),No(4,"div"),No(5,"h2",27),Da(6),Fo(),Fo(),Oo(7,FD,3,5,"div",28),No(8,"div",29),Oo(9,zD,3,2,"span",30),Fo(),No(10,"div",31),Da(11),Fo(),No(12,"div",32),Oo(13,jD,2,1,"div",13),Oo(14,HD,2,1,"div",13),Fo(),No(15,"div",33),Oo(16,UD,2,1,"div",34),Fo(),Fo(),Fo()}if(2&t){const t=e.$implicit;_r(3),Mo("displayHorizontal",!0),_r(3),Ra(" ",t.name,""),_r(1),Mo("ngIf",t.videoUrl),_r(2),Mo("ngForOf",t.moves),_r(2),Ra(" ",t.description," "),_r(2),Mo("ngIf",t.minPercent),_r(1),Mo("ngIf",t.maxPercent),_r(2),Mo("ngForOf",t.additionalFilters)}}function qD(t,e){1&t&&Bo(0,"app-empty-layout",41),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-TAB-COMBO")}function WD(t,e){1&t&&Bo(0,"app-empty-layout",41),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-FILTERED-COMBO-LIST")}function GD(t,e){if(1&t&&Oo(0,WD,1,3,"app-empty-layout",42),2&t){const t=Ko();Mo("ngIf",!t.filteredCombos||0===t.filteredCombos.length)}}let YD=(()=>{class t{constructor(t,e,n){this.characterService=t,this.comboService=e,this.dialog=n,this.combos=new Array,this.filteredCombos=new Array,this.containingMovesFormControl=new zx,this.containingMoves=["sh","fh","ff","rising","falling","u","ur","r","dr","d","dl","l","ul","a","up-tilt","f-tilt","down-tilt","up-smash","f-smash","d-smash","nair","up-air","fair","dair","bair","b","up-b","side-b","down-b","up","up-right","right","down-right","down","down-left","left","up-left","grab","zair","shield","air-dodge","s-dodge","roll"],this.additionalFiltersFormControl=new zx,this.additionalFilters=new Array,this.NAME_ASC="Nom : A-Z",this.NAME_DESC="Nom : Z-A",this.PERCENT_ASC="Min % : 0-999",this.PERCENT_DESC="Min % : 999-0",this.PERCENT_ASC2="Max % : 0-999",this.PERCENT_DESC2="Max % : 999-0",this.orderList=[this.NAME_ASC,this.NAME_DESC,this.PERCENT_ASC,this.PERCENT_DESC,this.PERCENT_ASC2,this.PERCENT_DESC2],this.currentComboOrder=this.PERCENT_ASC}ngOnInit(){this.getHero(),this.comboService.getCombosByCharacterId(this.character.id).subscribe(t=>{t&&(this.combos=t,this.orderBy(),this.filteredCombos=t.map(t=>Object.assign({},t)))}),this.additionalFiltersFormControl.valueChanges.subscribe(()=>this.refreshComboList()),this.containingMovesFormControl.valueChanges.subscribe(()=>this.refreshComboList())}getHero(){this.characterService.getCharacterByName(this.character.name).subscribe(t=>{this.additionalFilters=t.additionalFilters})}clearForm(){this.startMove=void 0,this.endMove=void 0,this.additionalFiltersFormControl.reset(),this.containingMovesFormControl.reset()}orderBy(){switch(this.currentComboOrder){case this.NAME_ASC:this.combos.sort((t,e)=>t.name.toLowerCase().localeCompare(e.name.toLowerCase()));break;case this.NAME_DESC:this.combos.sort((t,e)=>t.name.toLowerCase().localeCompare(e.name.toLowerCase())).reverse();break;case this.PERCENT_ASC:this.combos.sort((t,e)=>t.minPercent?e.minPercent?t.minPercent-e.minPercent:-1:1);break;case this.PERCENT_DESC:this.combos.sort((t,e)=>t.minPercent?e.minPercent?e.minPercent-t.minPercent:-1:1);break;case this.PERCENT_ASC2:this.combos.sort((t,e)=>t.maxPercent?e.maxPercent?t.maxPercent-e.maxPercent:-1:1);break;case this.PERCENT_DESC2:this.combos.sort((t,e)=>t.maxPercent?e.maxPercent?e.maxPercent-t.maxPercent:-1:1)}this.refreshComboList()}refreshComboList(){this.filteredCombos.length=0;for(const t of this.combos)this.compareMoves(t)&&this.filteredCombos.push(t)}compareMoves(t){let e=!1,n=!1,i=!1,r=!1;if(!(null!==this.containingMovesFormControl.value&&0!==this.containingMovesFormControl.value.length||null!==this.additionalFiltersFormControl.value&&0!==this.additionalFiltersFormControl.value.length||void 0!==this.startMove||void 0!==this.endMove))return!0;if(void 0!==this.startMove&&void 0!==this.endMove?this.startMove===t.moves[0].inputs[0]&&this.endMove===t.moves[t.moves.length-1].inputs[t.moves[t.moves.length-1].inputs.length-1]&&(e=!0,n=!0):(this.startMove===t.moves[0].inputs[0]&&(e=!0),this.endMove===t.moves[t.moves.length-1].inputs[t.moves[t.moves.length-1].inputs.length-1]&&(n=!0)),null!==this.containingMovesFormControl.value){let e=new Array;t.moves.forEach(t=>e=e.concat(t.inputs)),i=this.containingMovesFormControl.value.every(t=>e.includes(t))}return null!==this.additionalFiltersFormControl.value&&(r=this.additionalFiltersFormControl.value.every(e=>t.additionalFilters.includes(e))),(e||void 0===this.startMove)&&(n||void 0===this.endMove)&&(i||null===this.containingMovesFormControl.value||0===this.containingMovesFormControl.value.length)&&(r||null===this.additionalFiltersFormControl.value||0===this.additionalFiltersFormControl.value.length)}openDialog(){this.dialog.open(_D,{width:"700px",data:{name:this.character.name,additionalFilters:this.additionalFilters,characterId:this.character.id}}).afterClosed().subscribe(t=>{t&&this.comboService.getCombosByCharacterId(this.character.id).subscribe(t=>{this.combos=t,this.orderBy()})})}openRemoveComboDialog(t){this.dialog.open(wD,{width:"700px",data:t}).afterClosed().subscribe(t=>{t&&this.comboService.getCombosByCharacterId(this.character.id).subscribe(t=>{this.combos=t,this.orderBy()})})}openEditComboDialog(t){this.dialog.open(TD,{width:"700px",data:{combo:t,additionalFilters:this.additionalFilters}}).afterClosed().subscribe(t=>{t&&this.comboService.getCombosByCharacterId(this.character.id).subscribe(t=>{this.combos=t,this.orderBy()})})}}return t.\u0275fac=function(e){return new(e||t)(Ao(JC),Ao(JO),Ao(Iw))},t.\u0275cmp=ge({type:t,selectors:[["app-combo-list"]],inputs:{character:"character"},decls:55,vars:14,consts:[[1,"container-fluid"],[1,"row","justify-content-center",2,"margin-top","16px"],[1,"col-md-4"],[2,"display","flex","align-items","center"],["translate","",2,"font-weight","500","font-size","1.3rem","flex-grow","1"],["mat-stroked-button","",3,"click"],["translate",""],[2,"margin","16px 0"],["appearance","outline","color","accent",1,"w-100"],[3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],["multiple","",3,"formControl"],["class","example-additional-selection",4,"ngIf"],[4,"ngIf"],["appLogin","",1,"flex-center"],["mat-raised-button","","color","primary",3,"click"],[1,"col-md-8"],[1,"row","justify-content-center"],["class","combo col-md-6",4,"ngFor","ngForOf"],[3,"iconFontSize","displayHorizontal","message",4,"ngIf","ngIfElse"],["otherEmptyTemplate",""],[3,"value"],[1,"example-additional-selection"],[1,"combo","col-md-6"],[1,"mat-elevation-z4",2,"display","flex","flex-direction","column","align-items","center","word-break","break-all"],[2,"display","flex","flex-direction","row","top","10%","right","5%"],[3,"displayHorizontal","editClicked","removeClicked"],[1,"text-center"],["class","clip",4,"ngIf"],[1,"move-list"],[4,"ngFor","ngForOf"],[1,"description"],[1,"working-percent"],[1,"additional-filters"],["style","border: 1px dashed white;",4,"ngFor","ngForOf"],[1,"clip"],[3,"width","height","videoId"],["width","56px","src","../../assets/images/inputs/slash-white.png","alt","no image",4,"ngIf"],["width","56px","alt","no image",3,"src"],["width","56px","src","../../assets/images/inputs/slash-white.png","alt","no image"],[2,"border","1px dashed white"],[3,"iconFontSize","displayHorizontal","message"],[3,"iconFontSize","displayHorizontal","message",4,"ngIf"]],template:function(t,e){if(1&t&&(No(0,"div",0),No(1,"div",1),No(2,"div",2),No(3,"div",3),No(4,"span",4),Da(5," FILTERS "),Fo(),No(6,"button",5),qo("click",(function(){return e.clearForm()})),No(7,"span",6),Da(8,"CLEAR-FILTERS"),Fo(),Fo(),Fo(),Bo(9,"mat-divider",7),No(10,"div"),No(11,"mat-form-field",8),No(12,"mat-label",6),Da(13,"FILTER-ORDER-BY"),Fo(),No(14,"mat-select",9),qo("selectionChange",(function(){return e.orderBy()}))("valueChange",(function(t){return e.currentComboOrder=t})),Oo(15,OD,2,2,"mat-option",10),Fo(),Fo(),Fo(),No(16,"div"),No(17,"mat-form-field",8),No(18,"mat-label",6),Da(19,"FILTER-MOVES-CONTAINED"),Fo(),No(20,"mat-select",11),No(21,"mat-select-trigger"),Da(22),Oo(23,DD,2,2,"span",12),Fo(),Oo(24,AD,2,2,"mat-option",10),Fo(),Fo(),Fo(),No(25,"div"),No(26,"mat-form-field",8),No(27,"mat-label",6),Da(28,"FILTER-START-MOVE"),Fo(),No(29,"mat-select",9),qo("selectionChange",(function(){return e.refreshComboList()}))("valueChange",(function(t){return e.startMove=t})),No(30,"mat-option"),No(31,"span",6),Da(32,"FILTER-CATEGORY-ANY-MOVE"),Fo(),Fo(),Oo(33,RD,2,2,"mat-option",10),Fo(),Fo(),Fo(),No(34,"div"),No(35,"mat-form-field",8),No(36,"mat-label",6),Da(37,"FILTER-END-MOVE"),Fo(),No(38,"mat-select",9),qo("selectionChange",(function(){return e.refreshComboList()}))("valueChange",(function(t){return e.endMove=t})),No(39,"mat-option"),No(40,"span",6),Da(41,"FILTER-CATEGORY-ANY-MOVE"),Fo(),Fo(),Oo(42,PD,2,2,"mat-option",10),Fo(),Fo(),Fo(),Oo(43,ND,9,4,"div",13),No(44,"div",14),No(45,"button",15),qo("click",(function(){return e.openDialog()})),No(46,"span",6),Da(47,"ADD-COMBO"),Fo(),Fo(),Fo(),Fo(),No(48,"div",16),No(49,"div",0),No(50,"div",17),Oo(51,$D,17,8,"div",18),Fo(),Oo(52,qD,1,3,"app-empty-layout",19),Oo(53,GD,1,1,"ng-template",null,20,Sc),Fo(),Fo(),Fo(),Fo()),2&t){const t=Do(54);_r(14),Mo("value",e.currentComboOrder),_r(1),Mo("ngForOf",e.orderList),_r(5),Mo("formControl",e.containingMovesFormControl),_r(2),Ra(" ",e.containingMovesFormControl.value?e.containingMovesFormControl.value[0]:""," "),_r(1),Mo("ngIf",(null==e.containingMovesFormControl.value?null:e.containingMovesFormControl.value.length)>1),_r(1),Mo("ngForOf",e.containingMoves),_r(5),Mo("value",e.startMove),_r(4),Mo("ngForOf",e.containingMoves),_r(5),Mo("value",e.endMove),_r(4),Mo("ngForOf",e.containingMoves),_r(1),Mo("ngIf",e.additionalFilters.length>0),_r(8),Mo("ngForOf",e.filteredCombos),_r(1),Mo("ngIf",!e.combos||0===e.combos.length)("ngIfElse",t)}},directives:[bS,OI,FT,tk,WS,Ok,Kh,Xw,iC,Tk,Qh,hw,pT,tT,fT,NO,HO],pipes:[UO,pu],styles:[".combo-list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.move-list[_ngcontent-%COMP%]{text-align:center}.combo[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{margin-top:8px}.combo[_ngcontent-%COMP%]{margin-bottom:8px}.working-percent[_ngcontent-%COMP%]{margin-top:16px}"]}),t})();function XD(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"mat-form-field",10),No(2,"mat-label",8),Da(3,"DIALOG-CONFIRM-NAME"),Fo(),No(4,"input",11),qo("ngModelChange",(function(e){return Je(t),Ko().data.name=e})),Fo(),Fo(),No(5,"mat-form-field",10),No(6,"mat-label",8),Da(7,"DIALOG-CONFIRM-DESCRIPTION"),Fo(),No(8,"textarea",12),qo("ngModelChange",(function(e){return Je(t),Ko().data.description=e})),Fo(),Fo(),No(9,"mat-form-field",10),No(10,"mat-label",8),Da(11,"DIALOG-CONFIRM-COMMENT"),Fo(),No(12,"textarea",13),qo("ngModelChange",(function(e){return Je(t),Ko().data.comment=e})),Fo(),Fo(),Fo()}if(2&t){const t=Ko();_r(4),Mo("ngModel",t.data.name),_r(4),Mo("ngModel",t.data.description),_r(4),Mo("ngModel",t.data.comment)}}function KD(t,e){1&t&&(No(0,"span",8),Da(1,"DIALOG-DELETE-CONFIRM-CONTENT"),Fo())}let ZD=(()=>{class t{constructor(t,e){this.dialogRef=t,this.inputData=e,t.disableClose=!0,this.data=Object.assign({},e),this.action=this.data.action,"Update"===this.action&&(this.previousConfirmName=this.data.name)}doAction(){this.dialogRef.close({event:this.action,data:this.data,previousConfirmName:this.previousConfirmName})}closeDialog(){this.dialogRef.close({event:"Cancel"})}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(Cw,8))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-confirm"]],decls:16,vars:7,consts:[["confirmForm","ngForm"],["mat-dialog-title",""],[3,"innerHTML"],["mat-dialog-content",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-dialog-actions",""],["mat-button","","mat-flat-button","","color","warn",3,"click"],["translate",""],["mat-button","",3,"disabled","click"],["appearance","outline","color","accent",1,"w-100"],["matInput","","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","name","description",3,"ngModel","ngModelChange"],["matInput","","name","comment",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(No(0,"form",null,0),No(2,"h1",1),Bo(3,"span",2),tc(4,"translate"),Fo(),No(5,"div",3),Oo(6,XD,13,3,"div",4),Oo(7,KD,2,0,"ng-template",null,5,Sc),Fo(),No(9,"div",6),No(10,"button",7),qo("click",(function(){return e.closeDialog()})),No(11,"span",8),Da(12,"CANCEL"),Fo(),Fo(),No(13,"button",9),qo("click",(function(){return e.doAction()})),No(14,"span",8),Da(15),Fo(),Fo(),Fo(),Fo()),2&t){const t=Do(1),n=Do(8);_r(3),Mo("innerHTML",ec(4,5,"DIALOG-"+e.action+"-CONFIRM-TITLE"),Ji),_r(3),Mo("ngIf","Delete"!=e.action)("ngIfElse",n),_r(7),Mo("disabled",!t.form.valid),_r(2),Ra(" ",e.action,"")}},directives:[tC,Kw,qx,Dw,Aw,Qh,Rw,OI,bS,tk,WS,hk,Hw,fC,Xw,Jx],pipes:[_S],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})(),QD=(()=>{class t{constructor(t){this.http=t}getConfirmsByCharacterId(t){const e=(new SC).set("characterId",""+t);return this.http.get(ZC+"/getConfirmsByCharacterId",{params:e,headers:QC.headers})}addConfirm(t,e){const n=(new SC).set("characterId",""+t);return this.http.post(ZC+"/addConfirm",e,{params:n,headers:QC.headers})}addConfirmDetails(t,e){const n=(new SC).set("confirmId",""+t);return this.http.post(ZC+"/addConfirmDetails",e,{params:n,headers:QC.headers})}editConfirmDetails(t,e,n){const i=(new SC).set("confirmId",""+t).set("confirmDetailsId",""+e);return this.http.put(ZC+"/editConfirmDetails",n,{params:i,headers:QC.headers})}editConfirm(t,e){const n=(new SC).set("id",""+t);return this.http.put(ZC+"/editConfirm",e,{params:n,headers:QC.headers})}removeConfirmDetails(t,e){const n=(new SC).set("confirmId",""+t).set("confirmDetailsId",""+e);return this.http.delete(ZC+"/removeConfirmDetails",{params:n,headers:QC.headers})}removeConfirm(t){const e=(new SC).set("id",""+t);return this.http.delete(ZC+"/removeConfirm",{params:e,headers:QC.headers})}}return t.\u0275fac=function(e){return new(e||t)(Zt(LC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),JD=0,tA=(()=>{class t{constructor(){this._stateChanges=new k,this._openCloseAllActions=new k,this.id=`cdk-accordion-${JD++}`,this._multi=!1}get multi(){return this._multi}set multi(t){this._multi=ug(t)}openAll(){this._openCloseAll(!0)}closeAll(){this._openCloseAll(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete()}_openCloseAll(t){this.multi&&this._openCloseAllActions.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Wa]}),t})(),eA=0,nA=(()=>{class t{constructor(t,e,n){this.accordion=t,this._changeDetectorRef=e,this._expansionDispatcher=n,this._openCloseAllSubscription=u.EMPTY,this.closed=new nc,this.opened=new nc,this.destroyed=new nc,this.expandedChange=new nc,this.id=`cdk-accordion-child-${eA++}`,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=n.listen((t,e)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===e&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(t){t=ug(t),this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){this._disabled=ug(t)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(tA,12),Ao(Xs),Ao(ov))},t.\u0275dir=xe({type:t,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[nl([{provide:tA,useValue:void 0}])]}),t})(),iA=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();const rA=["body"];function sA(t,e){}const oA=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],aA=["mat-expansion-panel-header","*","mat-action-row"],lA=function(t,e){return{collapsedHeight:t,expandedHeight:e}},cA=function(t,e){return{value:t,params:e}};function hA(t,e){1&t&&Bo(0,"span",2),2&t&&Mo("@indicatorRotate",Ko()._getExpandedState())}const uA=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],dA=["mat-panel-title","mat-panel-description","*"],pA=new jt("MAT_ACCORDION"),fA={indicatorRotate:Nm("indicatorRotate",[jm("collapsed, void",zm({transform:"rotate(0deg)"})),jm("expanded",zm({transform:"rotate(180deg)"})),Um("expanded <=> collapsed, void => collapsed",Fm("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),expansionHeaderHeight:Nm("expansionHeight",[jm("collapsed, void",zm({height:"{{collapsedHeight}}"}),{params:{collapsedHeight:"48px"}}),jm("expanded",zm({height:"{{expandedHeight}}"}),{params:{expandedHeight:"64px"}}),Um("expanded <=> collapsed, void => collapsed",Bm([qm("@indicatorRotate",$m(),{optional:!0}),Fm("225ms cubic-bezier(0.4,0.0,0.2,1)")]))]),bodyExpansion:Nm("bodyExpansion",[jm("collapsed, void",zm({height:"0px",visibility:"hidden"})),jm("expanded",zm({height:"*",visibility:"visible"})),Um("expanded <=> collapsed, void => collapsed",Fm("225ms cubic-bezier(0.4,0.0,0.2,1)"))])};let mA=(()=>{class t{constructor(t){this._template=t}}return t.\u0275fac=function(e){return new(e||t)(Ao(Dl))},t.\u0275dir=xe({type:t,selectors:[["ng-template","matExpansionPanelContent",""]]}),t})(),gA=0;const vA=new jt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let yA=(()=>{class t extends nA{constructor(t,e,n,i,r,s,o){super(t,e,n),this._viewContainerRef=i,this._animationMode=s,this._hideToggle=!1,this.afterExpand=new nc,this.afterCollapse=new nc,this._inputChanges=new k,this._headerId=`mat-expansion-panel-header-${gA++}`,this._bodyAnimationDone=new k,this.accordion=t,this._document=r,this._bodyAnimationDone.pipe(kg((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{"void"!==t.fromState&&("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit())}),o&&(this.hideToggle=o.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=ug(t)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_hasSpacing(){return!!this.accordion&&"default"===(this.expanded?this.accordion.displayMode:this._getExpandedState())}_getExpandedState(){return this.expanded?"expanded":"collapsed"}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Nd(null),ld(()=>this.expanded&&!this._portal),Ed(1)).subscribe(()=>{this._portal=new Qm(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,e=this._body.nativeElement;return t===e||e.contains(t)}return!1}}return t.\u0275fac=function(e){return new(e||t)(Ao(pA,12),Ao(Xs),Ao(ov),Ao(Rl),Ao(Eh),Ao(x_,8),Ao(vA,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-expansion-panel"]],contentQueries:function(t,e,n){var i;1&t&&vc(n,mA,!0),2&t&&pc(i=_c())&&(e._lazyContent=i.first)},viewQuery:function(t,e){var n;1&t&&mc(rA,!0),2&t&&pc(n=_c())&&(e._body=n.first)},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(t,e){2&t&&ma("mat-expanded",e.expanded)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-expansion-panel-spacing",e._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[nl([{provide:pA,useValue:void 0}]),za,Wa],ngContentSelectors:aA,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(t,e){1&t&&(Qo(oA),Jo(0),No(1,"div",0,1),qo("@bodyExpansion.done",(function(t){return e._bodyAnimationDone.next(t)})),No(3,"div",2),Jo(4,1),Oo(5,sA,0,0,"ng-template",3),Fo(),Jo(6,2),Fo()),2&t&&(_r(1),Mo("@bodyExpansion",e._getExpandedState())("id",e.id),Io("aria-labelledby",e._headerId),_r(4),Mo("cdkPortalOutlet",e._portal))},directives:[ng],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(.4,0,.2,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (-ms-high-contrast:active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel._mat-animation-noopable,.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[fA.bodyExpansion]},changeDetection:0}),t})(),bA=(()=>{class t{constructor(t,e,n,i,r){this.panel=t,this._element=e,this._focusMonitor=n,this._changeDetectorRef=i,this._parentChangeSubscription=u.EMPTY,this._animationsDisabled=!0;const s=t.accordion?t.accordion._stateChanges.pipe(ld(t=>!(!t.hideToggle&&!t.togglePosition))):rd;this._parentChangeSubscription=G(t.opened,t.closed,s,t._inputChanges.pipe(ld(t=>!!(t.hideToggle||t.disabled||t.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(ld(()=>t._containsFocus())).subscribe(()=>n.focusVia(e,"program")),n.monitor(e).subscribe(e=>{e&&t.accordion&&t.accordion._handleHeaderFocus(this)}),r&&(this.expandedHeight=r.expandedHeight,this.collapsedHeight=r.collapsedHeight)}_animationStarted(){this._animationsDisabled=!1}get disabled(){return this.panel.disabled}_toggle(){this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_keydown(t){switch(t.keyCode){case 32:case 13:ag(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t="program",e){this._focusMonitor.focusVia(this._element,t,e)}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return t.\u0275fac=function(e){return new(e||t)(Ao(yA,1),Ao(ol),Ao(uy),Ao(Xs),Ao(vA,8))},t.\u0275cmp=ge({type:t,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header"],hostVars:19,hostBindings:function(t,e){1&t&&(Wo("@expansionHeight.start",(function(){return e._animationStarted()})),qo("click",(function(){return e._toggle()}))("keydown",(function(t){return e._keydown(t)}))),2&t&&(Io("id",e.panel._headerId)("tabindex",e.disabled?-1:0)("aria-controls",e._getPanelId())("aria-expanded",e._isExpanded())("aria-disabled",e.panel.disabled),Ba("@.disabled",e._animationsDisabled)("@expansionHeight",Zl(16,cA,e._getExpandedState(),Zl(13,lA,e.collapsedHeight,e.expandedHeight))),ma("mat-expanded",e._isExpanded())("mat-expansion-toggle-indicator-after","after"===e._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===e._getTogglePosition()))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:dA,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(t,e){1&t&&(Qo(uA),No(0,"span",0),Jo(1),Jo(2,1),Jo(3,2),Fo(),Oo(4,hA,1,1,"span",1)),2&t&&(_r(4),Mo("ngIf",e._showToggle()))},directives:[Qh],styles:[".mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-description,.mat-expansion-panel-header-title{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-description,[dir=rtl] .mat-expansion-panel-header-title{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:'';display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}"],encapsulation:2,data:{animation:[fA.indicatorRotate,fA.expansionHeaderHeight]},changeDetection:0}),t})(),_A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),t})(),wA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=xe({type:t,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),t})(),xA=(()=>{class t extends tA{constructor(){super(...arguments),this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(t){this._hideToggle=ug(t)}ngAfterContentInit(){this._keyManager=new ey(this._headers).withWrap()}_handleHeaderKeydown(t){const{keyCode:e}=t,n=this._keyManager;36===e?ag(t)||(n.setFirstItemActive(),t.preventDefault()):35===e?ag(t)||(n.setLastItemActive(),t.preventDefault()):this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}}return t.\u0275fac=function(e){return CA(e||t)},t.\u0275dir=xe({type:t,selectors:[["mat-accordion"]],contentQueries:function(t,e,n){var i;1&t&&vc(n,bA,!0),2&t&&pc(i=_c())&&(e._headers=i)},hostAttrs:[1,"mat-accordion"],inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[nl([{provide:pA,useExisting:t}]),za]}),t})();const CA=hi(xA);let SA=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,iA,sg]]}),t})();class kA{constructor(t,e=-1,n=-1,i=-1,r=-1,s,o){this.targetId=t,this.killPercentRage0=e,this.killPercentRage50=n,this.killPercentRage100=i,this.killPercentRage150=r,this.comment=s,this.id=o}}class EA{constructor(t){this.total=t}call(t,e){return e.subscribe(new IA(t,this.total))}}class IA extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const TA=new Set;let OA,DA=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):AA}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!TA.has(t))try{OA||(OA=document.createElement("style"),OA.setAttribute("type","text/css"),document.head.appendChild(OA)),OA.sheet&&(OA.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),TA.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Kg))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Kg))},token:t,providedIn:"root"}),t})();function AA(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let RA=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new k}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return PA(fg(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=ed(PA(fg(t)).map(t=>this._registerQuery(t).observable));return e=Ld(e.pipe(Ed(1)),e.pipe(t=>t.lift(new EA(1)),zv(0))),e.pipe(F(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new _(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Nd(e),F(e=>({query:t,matches:e.matches})),Lg(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(Zt(DA),Zt(Yc))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(DA),Zt(Yc))},token:t,providedIn:"root"}),t})();function PA(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const MA={tooltipState:Nm("state",[jm("initial, void, hidden",zm({opacity:0,transform:"scale(0)"})),jm("visible",zm({transform:"scale(1)"})),Um("* => visible",Fm("200ms cubic-bezier(0, 0, 0.2, 1)",Hm([zm({opacity:0,transform:"scale(0)",offset:0}),zm({opacity:.5,transform:"scale(0.99)",offset:.5}),zm({opacity:1,transform:"scale(1)",offset:1})]))),Um("* => hidden",Fm("100ms cubic-bezier(0, 0, 0.2, 1)",zm({opacity:0})))])};function LA(t){return Error(`Tooltip position "${t}" is invalid.`)}const NA=new jt("mat-tooltip-scroll-strategy"),FA={provide:NA,deps:[Rv],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},BA=new jt("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let VA=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c,h,u){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._ariaDescriber=o,this._focusMonitor=a,this._dir=c,this._defaultOptions=h,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this._message="",this._manualListeners=new Map,this._destroyed=new k,this._scrollStrategy=l;const d=e.nativeElement,p="undefined"==typeof window||window.Hammer||u;s.IOS||s.ANDROID?p||this._manualListeners.set("touchstart",()=>this.show()):this._manualListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide()),this._manualListeners.forEach((t,e)=>d.addEventListener(e,t)),a.monitor(e).pipe(Lg(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&r.run(()=>this.show()):r.run(()=>this.hide(0))}),h&&h.position&&(this.position=h.position)}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=ug(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?`${t}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){const t=this._elementRef.nativeElement,e=t.style;"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||(e.webkitUserSelect=e.userSelect=e.msUserSelect=""),t.draggable&&"none"===e.webkitUserDrag&&(e.webkitUserDrag="")}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._manualListeners.forEach((t,e)=>{this._elementRef.nativeElement.removeEventListener(e,t)}),this._manualListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.message),this._focusMonitor.stopMonitoring(this._elementRef)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new Zm(zA,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Lg(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_handleKeydown(t){this._isTooltipVisible()&&27===t.keyCode&&!ag(t)&&(t.preventDefault(),t.stopPropagation(),this.hide(0))}_handleTouchend(){this.hide(this._defaultOptions.touchendHideDelay)}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(Lg(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Lg(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign({},e.main,n.main),Object.assign({},e.fallback,n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e||"below"==e)n={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw LA(e);n={originX:"end",originY:"center"}}const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e)n={overlayX:"center",overlayY:"bottom"};else if("below"==e)n={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw LA(e);n={overlayX:"start",overlayY:"center"}}const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Ed(1),Lg(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rv),Ao(ol),Ao(av),Ao(Rl),Ao(Yc),Ao(Kg),Ao(Qv),Ao(uy),Ao(NA),Ao(cg,8),Ao(BA,8),Ao(Vu,8))},t.\u0275dir=xe({type:t,selectors:[["","matTooltip",""]],hostBindings:function(t,e){1&t&&qo("longpress",(function(){return e.show()}))("keydown",(function(t){return e._handleKeydown(t)}))("touchend",(function(){return e._handleTouchend()}))},inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),zA=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new k,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(Ao(Xs),Ao(RA))},t.\u0275cmp=ge({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&qo("click",(function(){return e._handleBodyInteraction()}),!1,Wn),2&t&&fa("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){var n;1&t&&(No(0,"div",0),qo("@state.start",(function(){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),tc(1,"async"),Da(2),Fo()),2&t&&(ma("mat-tooltip-handset",null==(n=ec(1,5,e._isHandset))?null:n.matches),Mo("ngClass",e.tooltipClass)("@state",e._visibility),_r(2),Aa(e.message))},directives:[Yh],pipes:[du],styles:[".mat-tooltip-panel{pointer-events:none!important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}@media (-ms-high-contrast:active){.mat-tooltip{outline:solid 1px}}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}"],encapsulation:2,data:{animation:[MA.tooltipState]},changeDetection:0}),t})(),jA=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[FA,{provide:Bu,useClass:q_}],imports:[[py,fu,Bv,M_],M_]}),t})();function HA(t,e){if(1&t&&(No(0,"mat-option",19),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Aa(t)}}function UA(t,e){if(1&t){const t=Ho();No(0,"mat-form-field",16),No(1,"mat-select",17),qo("selectionChange",(function(e){return Je(t),Ko(2)._changePageSize(e.value)})),Oo(2,HA,2,2,"mat-option",18),Fo(),Fo()}if(2&t){const t=Ko(2);Mo("color",t.color),_r(1),Mo("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),_r(1),Mo("ngForOf",t._displayedPageSizeOptions)}}function $A(t,e){if(1&t&&(No(0,"div"),Da(1),Fo()),2&t){const t=Ko(2);_r(1),Aa(t.pageSize)}}function qA(t,e){if(1&t&&(No(0,"div",12),No(1,"div",13),Da(2),Fo(),Oo(3,UA,3,5,"mat-form-field",14),Oo(4,$A,2,1,"div",15),Fo()),2&t){const t=Ko();_r(2),Aa(t._intl.itemsPerPageLabel),_r(1),Mo("ngIf",t._displayedPageSizeOptions.length>1),_r(1),Mo("ngIf",t._displayedPageSizeOptions.length<=1)}}function WA(t,e){if(1&t){const t=Ho();No(0,"button",20),qo("click",(function(){return Je(t),Ko().firstPage()})),Sn(),No(1,"svg",7),Bo(2,"path",21),Fo(),Fo()}if(2&t){const t=Ko();Mo("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),Io("aria-label",t._intl.firstPageLabel)}}function GA(t,e){if(1&t){const t=Ho();Sn(),kn(),No(0,"button",22),qo("click",(function(){return Je(t),Ko().lastPage()})),Sn(),No(1,"svg",7),Bo(2,"path",23),Fo(),Fo()}if(2&t){const t=Ko();Mo("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),Io("aria-label",t._intl.lastPageLabel)}}let YA=(()=>{class t{constructor(){this.changes=new k,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const i=t*e;return`${i+1} \u2013 ${i<(n=Math.max(n,0))?Math.min(i+e,n):i+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const XA={provide:YA,deps:[[new at,new ct,YA]],useFactory:function(t){return t||new YA}};class KA{}const ZA=L_(z_(KA));let QA=(()=>{class t extends ZA{constructor(t,e){super(),this._intl=t,this._changeDetectorRef=e,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new nc,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck())}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(dg(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=dg(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(dg(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(t=>dg(t)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=ug(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=ug(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const e=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(e)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(Ao(YA),Ao(Xs))},t.\u0275cmp=ge({type:t,selectors:[["mat-paginator"]],hostAttrs:[1,"mat-paginator"],inputs:{disabled:"disabled",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},exportAs:["matPaginator"],features:[za],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"color",4,"ngIf"],[4,"ngIf"],[1,"mat-paginator-page-size-select",3,"color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,e){1&t&&(No(0,"div",0),No(1,"div",1),Oo(2,qA,5,3,"div",2),No(3,"div",3),No(4,"div",4),Da(5),Fo(),Oo(6,WA,3,5,"button",5),No(7,"button",6),qo("click",(function(){return e.previousPage()})),Sn(),No(8,"svg",7),Bo(9,"path",8),Fo(),Fo(),kn(),No(10,"button",9),qo("click",(function(){return e.nextPage()})),Sn(),No(11,"svg",7),Bo(12,"path",10),Fo(),Fo(),Oo(13,GA,3,5,"button",11),Fo(),Fo(),Fo()),2&t&&(_r(2),Mo("ngIf",!e.hidePageSize),_r(3),Aa(e._intl.getRangeLabel(e.pageIndex,e.pageSize,e.length)),_r(1),Mo("ngIf",e.showFirstLastButtons),_r(1),Mo("matTooltip",e._intl.previousPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),Io("aria-label",e._intl.previousPageLabel),_r(3),Mo("matTooltip",e._intl.nextPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),Io("aria-label",e._intl.nextPageLabel),_r(3),Mo("ngIf",e.showFirstLastButtons))},directives:[Qh,OI,VA,tk,Ok,Kh,hw],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}"],encapsulation:2,changeDetection:0}),t})(),JA=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[XA],imports:[[fu,DI,Dk,jA]]}),t})();const tR=["mat-sort-header",""];function eR(t,e){if(1&t){const t=Ho();No(0,"div",3),qo("@arrowPosition.start",(function(){return Je(t),Ko()._disableViewStateAnimation=!0}))("@arrowPosition.done",(function(){return Je(t),Ko()._disableViewStateAnimation=!1})),Bo(1,"div",4),No(2,"div",5),Bo(3,"div",6),Bo(4,"div",7),Bo(5,"div",8),Fo(),Fo()}if(2&t){const t=Ko();Mo("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),_r(2),Mo("@indicator",t._getArrowDirectionState()),_r(1),Mo("@leftPointer",t._getArrowDirectionState()),_r(1),Mo("@rightPointer",t._getArrowDirectionState())}}const nR=["*"];class iR{}const rR=z_(L_(iR));let sR=(()=>{class t extends rR{constructor(){super(...arguments),this.sortables=new Map,this._stateChanges=new k,this.start="asc",this._direction="",this.sortChange=new nc}get direction(){return this._direction}set direction(t){if(Ei()&&t&&"asc"!==t&&"desc"!==t)throw function(t){return Error(`${t} is not a valid sort direction ('asc' or 'desc').`)}(t);this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=ug(t)}register(t){if(!t.id)throw Error("MatSortHeader must be provided with a unique id.");if(this.sortables.has(t.id))throw Error(`Cannot have two MatSortables with the same id (${t.id}).`);this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let e=function(t,e){let n=["asc","desc"];return"desc"==t&&n.reverse(),e||n.push(""),n}(t.start||this.start,null!=t.disableClear?t.disableClear:this.disableClear),n=e.indexOf(this.direction)+1;return n>=e.length&&(n=0),e[n]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return oR(e||t)},t.\u0275dir=xe({type:t,selectors:[["","matSort",""]],inputs:{disabled:["matSortDisabled","disabled"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"],active:["matSortActive","active"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[za,Wa]}),t})();const oR=hi(sR),aR=D_.ENTERING+" "+O_.STANDARD_CURVE,lR={indicator:Nm("indicator",[jm("active-asc, asc",zm({transform:"translateY(0px)"})),jm("active-desc, desc",zm({transform:"translateY(10px)"})),Um("active-asc <=> active-desc",Fm(aR))]),leftPointer:Nm("leftPointer",[jm("active-asc, asc",zm({transform:"rotate(-45deg)"})),jm("active-desc, desc",zm({transform:"rotate(45deg)"})),Um("active-asc <=> active-desc",Fm(aR))]),rightPointer:Nm("rightPointer",[jm("active-asc, asc",zm({transform:"rotate(45deg)"})),jm("active-desc, desc",zm({transform:"rotate(-45deg)"})),Um("active-asc <=> active-desc",Fm(aR))]),arrowOpacity:Nm("arrowOpacity",[jm("desc-to-active, asc-to-active, active",zm({opacity:1})),jm("desc-to-hint, asc-to-hint, hint",zm({opacity:.54})),jm("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",zm({opacity:0})),Um("* => asc, * => desc, * => active, * => hint, * => void",Fm("0ms")),Um("* <=> *",Fm(aR))]),arrowPosition:Nm("arrowPosition",[Um("* => desc-to-hint, * => desc-to-active",Fm(aR,Hm([zm({transform:"translateY(-25%)"}),zm({transform:"translateY(0)"})]))),Um("* => hint-to-desc, * => active-to-desc",Fm(aR,Hm([zm({transform:"translateY(0)"}),zm({transform:"translateY(25%)"})]))),Um("* => asc-to-hint, * => asc-to-active",Fm(aR,Hm([zm({transform:"translateY(25%)"}),zm({transform:"translateY(0)"})]))),Um("* => hint-to-asc, * => active-to-asc",Fm(aR,Hm([zm({transform:"translateY(0)"}),zm({transform:"translateY(-25%)"})]))),jm("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",zm({transform:"translateY(0)"})),jm("hint-to-desc, active-to-desc, desc",zm({transform:"translateY(-25%)"})),jm("hint-to-asc, active-to-asc, asc",zm({transform:"translateY(25%)"}))]),allowChildren:Nm("allowChildren",[Um("* <=> *",[qm("@*",$m(),{optional:!0})])])};let cR=(()=>{class t{constructor(){this.changes=new k,this.sortButtonLabel=t=>`Change sorting for ${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t},token:t,providedIn:"root"}),t})();const hR={provide:cR,deps:[[new at,new ct,cR]],useFactory:function(t){return t||new cR}};class uR{}const dR=L_(uR);let pR=(()=>{class t extends dR{constructor(t,e,n,i){if(super(),this._intl=t,this._sort=n,this._columnDef=i,this._showIndicatorHint=!1,this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",!n)throw Error("MatSortHeader must be placed within a parent element with the MatSort directive.");this._rerenderSubscription=G(n.sortChange,n._stateChanges,t.changes).subscribe(()=>{this._isSorted()&&this._updateArrowDirection(),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),e.markForCheck()})}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=ug(t)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this)}ngOnDestroy(){this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t,this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_handleClick(){if(this._isDisabled())return;this._sort.sort(this),"hint"!==this._viewState.toState&&"active"!==this._viewState.toState||(this._disableViewStateAnimation=!0);const t=this._isSorted()?{fromState:this._arrowDirection,toState:"active"}:{fromState:"active",toState:this._arrowDirection};this._setAnimationTransitionState(t),this._showIndicatorHint=!1}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":null}_renderArrow(){return!this._isDisabled()||this._isSorted()}}return t.\u0275fac=function(e){return new(e||t)(Ao(cR),Ao(Xs),Ao(sR,8),Ao("MAT_SORT_HEADER_COLUMN_DEF",8))},t.\u0275cmp=ge({type:t,selectors:[["","mat-sort-header",""]],hostVars:3,hostBindings:function(t,e){1&t&&qo("click",(function(){return e._handleClick()}))("mouseenter",(function(){return e._setIndicatorHintVisible(!0)}))("mouseleave",(function(){return e._setIndicatorHintVisible(!1)})),2&t&&(Io("aria-sort",e._getAriaSortAttribute()),ma("mat-sort-header-disabled",e._isDisabled()))},inputs:{disabled:"disabled",arrowPosition:"arrowPosition",disableClear:"disableClear",id:["mat-sort-header","id"],start:"start"},exportAs:["matSortHeader"],features:[za],attrs:tR,ngContentSelectors:nR,decls:4,vars:7,consts:[[1,"mat-sort-header-container"],["type","button",1,"mat-sort-header-button",3,"focus","blur"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(t,e){1&t&&(Qo(),No(0,"div",0),No(1,"button",1),qo("focus",(function(){return e._setIndicatorHintVisible(!0)}))("blur",(function(){return e._setIndicatorHintVisible(!1)})),Jo(2),Fo(),Oo(3,eR,6,6,"div",2),Fo()),2&t&&(ma("mat-sort-header-sorted",e._isSorted())("mat-sort-header-position-before","before"==e.arrowPosition),_r(1),Io("disabled",e._isDisabled()||null)("aria-label",e._intl.sortButtonLabel(e.id)),_r(2),Mo("ngIf",e._renderArrow()))},directives:[Qh],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-button{border:none;background:0 0;display:flex;align-items:center;padding:0;cursor:inherit;outline:0;font:inherit;color:currentColor}.mat-sort-header-button::-moz-focus-inner{border:0}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}@media (-ms-high-contrast:active){.mat-sort-header-stem{width:0;border-left:solid 2px}}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}@media (-ms-high-contrast:active){.mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}@media (-ms-high-contrast:active){.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[lR.indicator,lR.leftPointer,lR.rightPointer,lR.arrowOpacity,lR.arrowPosition,lR.allowChildren]},changeDetection:0}),t})(),fR=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[hR],imports:[[fu]]}),t})();const mR=[[["caption"]]],gR=["caption"];function vR(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=ug(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}let yR=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Ao(Dl))},t.\u0275dir=xe({type:t,selectors:[["","cdkCellDef",""]]}),t})(),bR=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Ao(Dl))},t.\u0275dir=xe({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),_R=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(Ao(Dl))},t.\u0275dir=xe({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class wR{}const xR=vR(wR);let CR=(()=>{class t extends xR{constructor(){super(...arguments),this._stickyEnd=!1}get name(){return this._name}set name(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"))}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=ug(t),this._hasStickyChanged=e!==this._stickyEnd}}return t.\u0275fac=function(e){return SR(e||t)},t.\u0275dir=xe({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var i;1&t&&(vc(n,yR,!0),vc(n,bR,!0),vc(n,_R,!0)),2&t&&(pc(i=_c())&&(e.cell=i.first),pc(i=_c())&&(e.headerCell=i.first),pc(i=_c())&&(e.footerCell=i.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[nl([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),za]}),t})();const SR=hi(CR);class kR{constructor(t,e){e.nativeElement.classList.add(`cdk-column-${t.cssClassFriendlyName}`)}}let ER=(()=>{class t extends kR{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(Ao(CR),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[za]}),t})(),IR=(()=>{class t extends kR{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(Ao(CR),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[za]}),t})(),TR=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof AR?t.headerCell.template:this instanceof MR?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(t){Po()},t.\u0275dir=xe({type:t,features:[Wa]}),t})();class OR extends TR{}const DR=vR(OR);let AR=(()=>{class t extends DR{constructor(t,e){super(t,e)}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Dl),Ao(kl))},t.\u0275dir=xe({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[za,Wa]}),t})();class RR extends TR{}const PR=vR(RR);let MR=(()=>{class t extends PR{constructor(t,e){super(t,e)}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Dl),Ao(kl))},t.\u0275dir=xe({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[za,Wa]}),t})(),LR=(()=>{class t extends TR{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Dl),Ao(kl))},t.\u0275dir=xe({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[za]}),t})(),NR=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rl))},t.\u0275dir=xe({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),FR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&jo(0,0)},directives:[NR],encapsulation:2}),t})(),BR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&jo(0,0)},directives:[NR],encapsulation:2}),t})();const VR=["top","bottom","left","right"];class zR{constructor(t,e,n,i=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._isBrowser=i}clearStickyPositioning(t,e){for(const n of t)if(n.nodeType===n.ELEMENT_NODE){this._removeStickyStyle(n,e);for(let t=0;t<n.children.length;t++)this._removeStickyStyle(n.children[t],e)}}updateStickyColumns(t,e,n){const i=e.some(t=>t)||n.some(t=>t);if(!t.length||!i||!this._isBrowser)return;const r=t[0],s=r.children.length,o=this._getCellWidths(r),a=this._getStickyStartColumnPositions(o,e),l=this._getStickyEndColumnPositions(o,n),c="rtl"===this.direction;for(const h of t)for(let t=0;t<s;t++){const i=h.children[t];e[t]&&this._addStickyStyle(i,c?"right":"left",a[t]),n[t]&&this._addStickyStyle(i,c?"left":"right",l[t])}}stickRows(t,e,n){if(!this._isBrowser)return;const i="bottom"===n?t.reverse():t;let r=0;for(let s=0;s<i.length;s++){if(!e[s])continue;const t=i[s];if(this._isNativeHtmlTable)for(let e=0;e<t.children.length;e++)this._addStickyStyle(t.children[e],n,r);else this._addStickyStyle(t,n,r);if(s===i.length-1)return;r+=t.getBoundingClientRect().height}}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";t.style.zIndex=this._getCalculatedZIndex(t),VR.some(e=>!!t.style[e])||(t.style.position="",t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=`${n}px`,t.style.cssText+="position: -webkit-sticky; position: sticky; ",t.style.zIndex=this._getCalculatedZIndex(t)}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const i of VR)t.style[i]&&(n+=e[i]);return n?`${n}`:""}_getCellWidths(t){const e=[],n=t.children;for(let i=0;i<n.length;i++)e.push(n[i].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let i=0;for(let r=0;r<t.length;r++)e[r]&&(n[r]=i,i+=t[r]);return n}_getStickyEndColumnPositions(t,e){const n=[];let i=0;for(let r=t.length;r>0;r--)e[r]&&(n[r]=i,i+=t[r]);return n}}function jR(t){return Error(`Could not find column with id "${t}".`)}let HR=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rl),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["","rowOutlet",""]]}),t})(),UR=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rl),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),$R=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(Ao(Rl),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),qR=(()=>{class t{constructor(t,e,n,i,r,s,o){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=r,this._platform=o,this._onDestroy=new k,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new Qu({start:0,end:Number.MAX_VALUE}),i||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){Ei()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=ug(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),rv(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return;const e=this._rowOutlet.viewContainer;t.forEachOperation((t,n,i)=>{if(null==t.previousIndex)this._insertRow(t.item,i);else if(null==i)e.remove(n);else{const t=e.get(n);e.move(t,i)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this.updateStickyColumnStyles()}setHeaderRowDef(t){this._customHeaderRowDefs=new Set([t]),this._headerRowDefChanged=!0}setFooterRowDef(t){this._customFooterRowDefs=new Set([t]),this._footerRowDefChanged=!0}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let i=0;i<e.length;i++)this._renderRows[i].rowDef===t&&n.push(e[i]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const r=this._getRenderRowsForData(i,n,e.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let e=0;e<r.length;e++){let n=r[e];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(i=>{const r=n&&n.has(i)?n.get(i):[];if(r.length){const t=r.shift();return t.dataIndex=e,t}return{data:t,rowDef:i,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),WR(this._contentColumnDefs,this._customColumnDefs).forEach(t=>{if(this._columnDefsByName.has(t.name))throw Error(`Duplicate column definition name provided: "${t.name}".`);this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=WR(this._contentHeaderRowDefs,this._customHeaderRowDefs),this._footerRowDefs=WR(this._contentFooterRowDefs,this._customFooterRowDefs),this._rowDefs=WR(this._contentRowDefs,this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);if(!this.multiTemplateDataRows&&t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff();this._rowDefs.reduce(t,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(t,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(t,!1)&&this._forceRenderFooterRows()}_switchDataSource(t){this._data=[],rv(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;if(rv(this.dataSource)?t=this.dataSource.connect(this):this.dataSource instanceof _?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Zu(this.dataSource)),void 0===t)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=t.pipe(Lg(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>{const e=this._columnDefsByName.get(t);if(!e)throw jR(t);return e}),i=n.map(t=>t.sticky),r=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,i,r)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const i=t.viewContainer.get(n);e.push(i.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let i=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;i&&n.push(i)}if(!n.length)throw function(t){return Error("Could not find a matching row definition for the"+`provided row data: ${JSON.stringify(t)}`)}(t);return n}_insertRow(t,e){this._renderRow(this._rowOutlet,t.rowDef,e,{$implicit:t.data})}_renderRow(t,e,n,i={}){t.viewContainer.createEmbeddedView(e.template,i,n);for(let r of this._getCellTemplates(e))NR.mostRecentCellOutlet&&NR.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const i=t.get(e).context;i.count=n,i.first=0===e,i.last=e===n-1,i.even=e%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[e].dataIndex,i.renderIndex=e):i.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);if(!n)throw jR(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup"),e.appendChild(n.outlet.elementRef.nativeElement),t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new zR(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._platform.isBrowser),(this._dir?this._dir.change:Zu()).pipe(Lg(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}}return t.\u0275fac=function(e){return new(e||t)(Ao(kl),Ao(Xs),Ao(ol),Ro("role"),Ao(cg,8),Ao(Eh),Ao(Kg))},t.\u0275cmp=ge({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var i;1&t&&(vc(n,CR,!1),vc(n,LR,!1),vc(n,AR,!1),vc(n,MR,!1)),2&t&&(pc(i=_c())&&(e._contentColumnDefs=i),pc(i=_c())&&(e._contentRowDefs=i),pc(i=_c())&&(e._contentHeaderRowDefs=i),pc(i=_c())&&(e._contentFooterRowDefs=i))},viewQuery:function(t,e){var n;1&t&&(fc(HR,!0),fc(UR,!0),fc($R,!0)),2&t&&(pc(n=_c())&&(e._rowOutlet=n.first),pc(n=_c())&&(e._headerRowOutlet=n.first),pc(n=_c())&&(e._footerRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],ngContentSelectors:gR,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(Qo(mR),Jo(0),jo(1,0),jo(2,1),jo(3,2))},directives:[UR,HR,$R],encapsulation:2}),t})();function WR(t,e){return t.toArray().concat(Array.from(e))}let GR=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})();const YR=[[["caption"]]],XR=["caption"];let KR=(()=>{class t extends qR{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky"}}return t.\u0275fac=function(e){return ZR(e||t)},t.\u0275cmp=ge({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[nl([{provide:qR,useExisting:t}]),za],ngContentSelectors:XR,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(Qo(YR),Jo(0),jo(1,0),jo(2,1),jo(3,2))},directives:[UR,HR,$R],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-footer-row,mat-row{min-height:48px}mat-footer-row,mat-header-row,mat-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-footer-row::after,mat-header-row::after,mat-row::after{display:inline-block;min-height:inherit;content:''}mat-cell:first-of-type,mat-footer-cell:first-of-type,mat-header-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-footer-cell:last-of-type,mat-header-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-footer-cell,mat-header-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-footer-row,tr.mat-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}td.mat-cell,td.mat-footer-cell,th.mat-header-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type,th.mat-header-cell:first-of-type{padding-left:24px}[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type,[dir=rtl] th.mat-header-cell:first-of-type{padding-left:0;padding-right:24px}td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type,th.mat-header-cell:last-of-type{padding-right:24px}[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type,[dir=rtl] th.mat-header-cell:last-of-type{padding-right:0;padding-left:24px}"],encapsulation:2}),t})();const ZR=hi(KR);let QR=(()=>{class t extends yR{}return t.\u0275fac=function(e){return JR(e||t)},t.\u0275dir=xe({type:t,selectors:[["","matCellDef",""]],features:[nl([{provide:yR,useExisting:t}]),za]}),t})();const JR=hi(QR);let tP=(()=>{class t extends bR{}return t.\u0275fac=function(e){return eP(e||t)},t.\u0275dir=xe({type:t,selectors:[["","matHeaderCellDef",""]],features:[nl([{provide:bR,useExisting:t}]),za]}),t})();const eP=hi(tP);let nP=(()=>{class t extends CR{}return t.\u0275fac=function(e){return iP(e||t)},t.\u0275dir=xe({type:t,selectors:[["","matColumnDef",""]],inputs:{name:["matColumnDef","name"],sticky:"sticky",stickyEnd:"stickyEnd"},features:[nl([{provide:CR,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),za]}),t})();const iP=hi(nP);let rP=(()=>{class t extends ER{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return new(e||t)(Ao(CR),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[za]}),t})(),sP=(()=>{class t extends IR{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return new(e||t)(Ao(CR),Ao(ol))},t.\u0275dir=xe({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[za]}),t})(),oP=(()=>{class t extends AR{}return t.\u0275fac=function(e){return aP(e||t)},t.\u0275dir=xe({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[nl([{provide:AR,useExisting:t}]),za]}),t})();const aP=hi(oP);let lP=(()=>{class t extends LR{}return t.\u0275fac=function(e){return cP(e||t)},t.\u0275dir=xe({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[nl([{provide:LR,useExisting:t}]),za]}),t})();const cP=hi(lP);let hP=(()=>{class t extends FR{}return t.\u0275fac=function(e){return uP(e||t)},t.\u0275cmp=ge({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[nl([{provide:FR,useExisting:t}]),za],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&jo(0,0)},directives:[NR],encapsulation:2}),t})();const uP=hi(hP);let dP=(()=>{class t extends BR{}return t.\u0275fac=function(e){return pP(e||t)},t.\u0275cmp=ge({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[nl([{provide:BR,useExisting:t}]),za],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&jo(0,0)},directives:[NR],encapsulation:2}),t})();const pP=hi(dP);let fP=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[GR,fu,M_]]}),t})();class mP extends class{}{constructor(t=[]){super(),this._renderData=new Qu([]),this._filter=new Qu(""),this._internalPageChanges=new k,this._renderChangesSubscription=u.EMPTY,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(pg(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,i=e.direction;return n&&""!=i?t.sort((t,e)=>{let r=this.sortingDataAccessor(t,n),s=this.sortingDataAccessor(e,n),o=0;return null!=r&&null!=s?r>s?o=1:r<s&&(o=-1):null!=r?o=1:null!=s&&(o=-1),o*("asc"==i?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),i=e.trim().toLowerCase();return-1!=n.indexOf(i)},this._data=new Qu(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?G(this._sort.sortChange,this._sort.initialized):Zu(null),e=this._paginator?G(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Zu(null),n=ed([this._data,this._filter]).pipe(F(([t])=>this._filterData(t))),i=ed([n,t]).pipe(F(([t])=>this._orderData(t))),r=ed([i,e]).pipe(F(([t])=>this._pageData(t)));this._renderChangesSubscription.unsubscribe(),this._renderChangesSubscription=r.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=this.filter?t.filter(t=>this.filterPredicate(t,this.filter)):t,this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderData}disconnect(){}}const gP=["panel"];function vP(t,e){if(1&t&&(No(0,"div",0,1),Jo(2),Fo()),2&t){const t=Ko();Mo("id",t.id)("ngClass",t._classList)}}const yP=["*"];let bP=0;class _P{constructor(t,e){this.source=t,this.option=e}}class wP{}const xP=F_(wP),CP=new jt("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let SP=(()=>{class t extends xP{constructor(t,e,n){super(),this._changeDetectorRef=t,this._elementRef=e,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new nc,this.opened=new nc,this.closed=new nc,this._classList={},this.id=`mat-autocomplete-${bP++}`,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=ug(t)}set classList(t){this._classList=t&&t.length?t.split(" ").reduce((t,e)=>(t[e.trim()]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new ty(this.options).withWrap(),this._setVisibility()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new _P(this,t);this.optionSelected.emit(e)}_setVisibilityClasses(t){t["mat-autocomplete-visible"]=this.showPanel,t["mat-autocomplete-hidden"]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(Ao(Xs),Ao(ol),Ao(CP))},t.\u0275cmp=ge({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){var i;1&t&&(vc(n,hw,!0),vc(n,sw,!1)),2&t&&(pc(i=_c())&&(e.options=i),pc(i=_c())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(fc(Dl,!0),mc(gP,!0)),2&t&&(pc(n=_c())&&(e.template=n.first),pc(n=_c())&&(e.panel=n.first))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple",displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed"},exportAs:["matAutocomplete"],features:[nl([{provide:cw,useExisting:t}]),za],ngContentSelectors:yP,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(Qo(),Oo(0,vP,3,2,"ng-template"))},directives:[Yh],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}@media (-ms-high-contrast:active){.mat-autocomplete-panel{outline:solid 1px}}"],encapsulation:2,changeDetection:0}),t})();const kP=new jt("mat-autocomplete-scroll-strategy"),EP={provide:kP,deps:[Rv],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},IP={provide:Fw,useExisting:Et(()=>TP),multi:!0};let TP=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=i,this._changeDetectorRef=r,this._dir=o,this._formField=a,this._document=l,this._viewportRuler=c,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=u.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new k,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=od(()=>this.autocomplete&&this.autocomplete.options?G(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.asObservable().pipe(Ed(1),Rd(()=>this.optionSelections))),this._scrollStrategy=s}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=ug(t)}ngAfterViewInit(){if("undefined"!=typeof window&&(this._zone.runOutsideAngular(()=>{window.addEventListener("blur",this._windowBlurHandler)}),iv())){const t=this._element.nativeElement,e=t.getRootNode?t.getRootNode():null;this._isInsideShadowRoot=e instanceof window.ShadowRoot}}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){"undefined"!=typeof window&&window.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return G(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(ld(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(ld(()=>this._overlayAttached)):Zu()).pipe(F(t=>t instanceof lw?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return G(vg(this._document,"click"),vg(this._document,"touchend")).pipe(ld(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,n=this._formField?this._formField._elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(27===e&&t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,i=38===e||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption()}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_scrollToOption(){const t=this.autocomplete._keyManager.activeItemIndex||0,e=uw(t,this.autocomplete.options,this.autocomplete.optionGroups);if(0===t&&1===e)this.autocomplete._setScrollTop(0);else{const n=dw(t+e,48,this.autocomplete._getScrollTop(),256);this.autocomplete._setScrollTop(n)}}_subscribeToClosingActions(){return G(this._zone.onStable.asObservable().pipe(Ed(1)),this.autocomplete.options.changes.pipe(Ud(()=>this._positionStrategy.reapplyLastPosition()),gE(0))).pipe(Rd(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),Ed(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!=t&&e.selected&&e.deselect()})}_attachOverlay(){if(!this.autocomplete)throw Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.");let t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new Qm(this.autocomplete.template,this._viewContainerRef),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe(t=>{(27===t.keyCode||38===t.keyCode&&t.altKey)&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportRuler&&(this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&t&&t.updateSize({width:this._getPanelWidth()})}))),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const e=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&e!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){return new yv({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e={originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},n={originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-autocomplete-panel-above"};let i;i="above"===this.position?[n]:"below"===this.position?[e]:[e,n],t.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(Rv),Ao(Rl),Ao(Yc),Ao(Xs),Ao(kP),Ao(cg,8),Ao(tk,9),Ao(Eh,8),Ao(cv))},t.\u0275dir=xe({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&qo("focusin",(function(){return e._handleFocus()}))("blur",(function(){return e._onTouched()}))("input",(function(t){return e._handleInput(t)}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&Io("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},exportAs:["matAutocompleteTrigger"],features:[nl([IP]),Wa]}),t})(),OP=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[EP],imports:[[pw,Bv,M_,fu],pw,M_]}),t})();function DP(t,e){if(1&t&&(No(0,"mat-option",19),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Ra(" ",t," ")}}function AP(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"form"),No(2,"mat-form-field",10),No(3,"mat-label",8),Da(4,"DIALOG-CONFIRM-DETAILS-TARGET-NAME"),Fo(),Bo(5,"input",11),No(6,"mat-autocomplete",null,12),Oo(8,DP,2,2,"mat-option",13),tc(9,"async"),Fo(),Fo(),Fo(),No(10,"mat-form-field",10),No(11,"mat-label",8),Da(12,"DIALOG-CONFIRM-DETAILS-RAGE-0"),Fo(),No(13,"input",14),qo("ngModelChange",(function(e){return Je(t),Ko().data.killPercentRage0=e})),Fo(),Fo(),No(14,"mat-form-field",10),No(15,"mat-label",8),Da(16,"DIALOG-CONFIRM-DETAILS-RAGE-50"),Fo(),No(17,"input",15),qo("ngModelChange",(function(e){return Je(t),Ko().data.killPercentRage50=e})),Fo(),Fo(),No(18,"mat-form-field",10),No(19,"mat-label",8),Da(20,"DIALOG-CONFIRM-DETAILS-RAGE-100"),Fo(),No(21,"input",16),qo("ngModelChange",(function(e){return Je(t),Ko().data.killPercentRage100=e})),Fo(),Fo(),No(22,"mat-form-field",10),No(23,"mat-label",8),Da(24,"DIALOG-CONFIRM-DETAILS-RAGE-150"),Fo(),No(25,"input",17),qo("ngModelChange",(function(e){return Je(t),Ko().data.killPercentRage150=e})),Fo(),Fo(),No(26,"mat-form-field",10),No(27,"mat-label",8),Da(28,"DIALOG-CONFIRM-DETAILS-COMMENT"),Fo(),No(29,"textarea",18),qo("ngModelChange",(function(e){return Je(t),Ko().data.comment=e})),Fo(),Fo(),Fo()}if(2&t){const t=Do(7),e=Ko();_r(5),Mo("formControl",e.myControl)("matAutocomplete",t),_r(3),Mo("ngForOf",ec(9,8,e.filteredCharacterNames)),_r(5),Mo("ngModel",e.data.killPercentRage0),_r(4),Mo("ngModel",e.data.killPercentRage50),_r(4),Mo("ngModel",e.data.killPercentRage100),_r(4),Mo("ngModel",e.data.killPercentRage150),_r(4),Mo("ngModel",e.data.comment)}}function RP(t,e){1&t&&(No(0,"span",8),Da(1,"DIALOG-DELETE-CONFIRM-DETAILS-CONTENT"),Fo())}let PP=(()=>{class t{constructor(t,e){this.dialogRef=t,this.inputData=e,this.myControl=new zx,t.disableClose=!0,this.data=Object.assign({},e),this.action=this.data.action}ngOnInit(){"Update"===this.action&&(this.myControl.setValue(this.data.targetName),this.myControlValid=!0),"Delete"===this.action&&(this.myControlValid=!0),this.filteredCharacterNames=this.myControl.valueChanges.pipe(Ud(t=>{this.myControlValid=this.data.characterNames.indexOf(t)>-1,this.myControlValue=t}),Nd(""),F(t=>this._filter(t)))}doAction(){"Delete"!==this.action&&(this.data.targetName=this.myControlValue),this.dialogRef.close({event:this.action,data:this.data})}closeDialog(){this.dialogRef.close({event:"Cancel"})}_filter(t){const e=t.toLowerCase();return this.data.characterNames.filter(t=>t.toLowerCase().includes(e))}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(Cw,8))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-confirm-details"]],decls:16,vars:7,consts:[["confirmDetailsForm","ngForm"],["mat-dialog-title",""],[3,"innerHTML"],["mat-dialog-content",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-dialog-actions",""],["mat-button","","mat-flat-button","","color","warn",3,"click"],["translate",""],["mat-button","",3,"disabled","click"],["appearance","outline","color","accent",1,"w-100"],["type","text","aria-label","Target","matInput","",3,"formControl","matAutocomplete"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","number","matInput","","autocomplete","off","name","rage0",3,"ngModel","ngModelChange"],["type","number","matInput","","autocomplete","off","name","rage50",3,"ngModel","ngModelChange"],["type","number","matInput","","autocomplete","off","name","rage100",3,"ngModel","ngModelChange"],["type","number","matInput","","autocomplete","off","name","rage150",3,"ngModel","ngModelChange"],["type","number","matInput","","autocomplete","off","name","comment",3,"ngModel","ngModelChange"],[3,"value"]],template:function(t,e){if(1&t&&(No(0,"form",null,0),No(2,"h1",1),Bo(3,"span",2),tc(4,"translate"),Fo(),No(5,"div",3),Oo(6,AP,30,10,"div",4),Oo(7,RP,2,0,"ng-template",null,5,Sc),Fo(),No(9,"div",6),No(10,"button",7),qo("click",(function(){return e.closeDialog()})),No(11,"span",8),Da(12,"CANCEL"),Fo(),Fo(),No(13,"button",9),qo("click",(function(){return e.doAction()})),No(14,"span",8),Da(15),Fo(),Fo(),Fo(),Fo()),2&t){const t=Do(1),n=Do(8);_r(3),Mo("innerHTML",ec(4,5,"DIALOG-"+e.action+"-CONFIRM-DETAILS-TITLE"),Ji),_r(3),Mo("ngIf","Delete"!=e.action)("ngIfElse",n),_r(7),Mo("disabled",!t.form.valid||!e.myControlValid),_r(2),Aa(e.action)}},directives:[tC,Kw,qx,Dw,Aw,Qh,Rw,OI,bS,tk,WS,hk,Hw,TP,Xw,iC,SP,Kh,lx,Jx,hw],pipes:[_S,du],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t})(),MP=(()=>{class t{constructor(t){this.characterService=t}transform(t){return this.characterService.characterIdToCharacterName(t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(JC))},t.\u0275pipe=Ce({name:"idName",type:t,pure:!0}),t})();function LP(t,e){1&t&&(No(0,"div"),Bo(1,"app-empty-layout",6),Fo()),2&t&&(_r(1),Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-CONFIRM-TABLE"))}function NP(t,e){1&t&&(No(0,"th",22),No(1,"span",5),Da(2,"DIALOG-CONFIRM-DETAILS-TARGET-NAME"),Fo(),Fo())}function FP(t,e){if(1&t&&(No(0,"td",23),Da(1),tc(2,"idName"),Fo()),2&t){const t=e.$implicit;_r(1),Ra(" ",ec(2,1,t.targetId)," ")}}function BP(t,e){1&t&&(No(0,"th",22),No(1,"span",5),Da(2,"DIALOG-CONFIRM-DETAILS-RAGE-0"),Fo(),Fo())}function VP(t,e){if(1&t&&(No(0,"td",23),Da(1),Fo()),2&t){const t=e.$implicit;_r(1),Ra(" ",t.killPercentRage0," ")}}function zP(t,e){1&t&&(No(0,"th",22),No(1,"span",5),Da(2,"DIALOG-CONFIRM-DETAILS-RAGE-50"),Fo(),Fo())}function jP(t,e){if(1&t&&(No(0,"td",23),Da(1),Fo()),2&t){const t=e.$implicit;_r(1),Ra(" ",t.killPercentRage50," ")}}function HP(t,e){1&t&&(No(0,"th",22),No(1,"span",5),Da(2,"DIALOG-CONFIRM-DETAILS-RAGE-100"),Fo(),Fo())}function UP(t,e){if(1&t&&(No(0,"td",23),Da(1),Fo()),2&t){const t=e.$implicit;_r(1),Ra(" ",t.killPercentRage100," ")}}function $P(t,e){1&t&&(No(0,"th",22),No(1,"span",5),Da(2,"DIALOG-CONFIRM-DETAILS-RAGE-150"),Fo(),Fo())}function qP(t,e){if(1&t&&(No(0,"td",23),Da(1),Fo()),2&t){const t=e.$implicit;_r(1),Ra(" ",t.killPercentRage150," ")}}function WP(t,e){1&t&&(No(0,"th",22),No(1,"span",5),Da(2,"DIALOG-CONFIRM-DETAILS-COMMENT"),Fo(),Fo())}function GP(t,e){if(1&t&&(No(0,"td",23),Da(1),Fo()),2&t){const t=e.$implicit;_r(1),Ra(" ",t.comment," ")}}function YP(t,e){1&t&&(No(0,"th",24),No(1,"span",5),Da(2,"ACTION"),Fo(),Fo())}function XP(t,e){if(1&t){const t=Ho();No(0,"td",25),No(1,"app-edit-remove",26),qo("editClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).openDialog("Update",n)}))("removeClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).openDialog("Delete",n)})),Fo(),Fo()}2&t&&(_r(1),Mo("displayHorizontal",!0))}function KP(t,e){1&t&&Bo(0,"tr",27)}function ZP(t,e){1&t&&Bo(0,"tr",28)}function QP(t,e){if(1&t&&(No(0,"table",7,8),Vo(2,9),Oo(3,NP,3,0,"th",10),Oo(4,FP,3,3,"td",11),zo(),Vo(5,12),Oo(6,BP,3,0,"th",10),Oo(7,VP,2,1,"td",11),zo(),Vo(8,13),Oo(9,zP,3,0,"th",10),Oo(10,jP,2,1,"td",11),zo(),Vo(11,14),Oo(12,HP,3,0,"th",10),Oo(13,UP,2,1,"td",11),zo(),Vo(14,15),Oo(15,$P,3,0,"th",10),Oo(16,qP,2,1,"td",11),zo(),Vo(17,16),Oo(18,WP,3,0,"th",10),Oo(19,GP,2,1,"td",11),zo(),Vo(20,17),Oo(21,YP,3,0,"th",18),Oo(22,XP,2,1,"td",19),zo(),Oo(23,KP,1,0,"tr",20),Oo(24,ZP,1,0,"tr",21),Fo()),2&t){const t=Ko();Mo("dataSource",t.dataSource),_r(23),Mo("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),_r(1),Mo("matRowDefColumns",t.displayedColumns)}}let JP=(()=>{class t{constructor(t,e,n){this.dialog=t,this.confirmService=e,this.characterService=n,this.dataSourceArray=new Array,this.confirmDetailsAdded=new nc,this.confirmDetailsEdited=new nc,this.confirmDetailsRemoved=new nc}ngOnInit(){this.initMatTableDataSource(),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}initMatTableDataSource(){if(this.dataSourceArray=[],this.confirmDetails){this.dataSourceArray=this.confirmDetails,this.displayedColumns=["characterName"];for(const t of this.dataSourceArray)if(t.killPercentRage0>-1){this.displayedColumns.push("rage0");break}for(const t of this.dataSourceArray)if(t.killPercentRage50>-1){this.displayedColumns.push("rage50");break}for(const t of this.dataSourceArray)if(t.killPercentRage100>-1){this.displayedColumns.push("rage100");break}for(const t of this.dataSourceArray)if(t.killPercentRage150>-1){this.displayedColumns.push("rage150");break}for(const t of this.dataSourceArray)if(t.comment&&t.comment.length>0){this.displayedColumns.push("comment");break}this.displayedColumns.push("action"),this.dataSource=new mP(this.dataSourceArray)}}openDialog(t,e){e.action=t,e.targetName=this.characterService.characterIdToCharacterName(e.targetId),e.characterNames="Add"===t?this.characterService.getCharacterNamesFiltered(this.getCharacterNamesInConfirms()):this.characterService.getCharacterNames(),this.dialog.open(PP,{width:"400px",data:e}).afterClosed().subscribe(t=>{"Add"===t.event?this.confirmDetailsAdded.emit(new kA(this.characterService.characterNameToCharacterId(t.data.targetName),t.data.killPercentRage0,t.data.killPercentRage50,t.data.killPercentRage100,t.data.killPercentRage150,t.data.comment)):"Update"===t.event?this.confirmDetailsEdited.emit(new kA(this.characterService.characterNameToCharacterId(t.data.targetName),t.data.killPercentRage0,t.data.killPercentRage50,t.data.killPercentRage100,t.data.killPercentRage150,t.data.comment,t.data.id)):"Delete"===t.event&&this.confirmDetailsRemoved.emit(t.data.id)})}getCharacterNamesInConfirms(){const t=new Array;for(const e of this.confirmDetails)t.push(this.characterService.characterIdToCharacterName(e.id));return t}}return t.\u0275fac=function(e){return new(e||t)(Ao(Iw),Ao(QD),Ao(JC))},t.\u0275cmp=ge({type:t,selectors:[["app-confirm-table"]],viewQuery:function(t,e){var n;1&t&&(fc(QA,!0),fc(sR,!0)),2&t&&(pc(n=_c())&&(e.paginator=n.first),pc(n=_c())&&(e.sort=n.first))},inputs:{confirmDetails:"confirmDetails"},outputs:{confirmDetailsAdded:"confirmDetailsAdded",confirmDetailsEdited:"confirmDetailsEdited",confirmDetailsRemoved:"confirmDetailsRemoved"},decls:7,vars:2,consts:[[4,"ngIf","ngIfElse"],["class","example-container mat-elevation-z8"],["tableDisplay",""],[1,"w-100","flex-center"],["appLogin","","mat-button","","mat-flat-button","","color","primary",2,"margin","0.5rem 0",3,"click"],["translate",""],[3,"iconFontSize","displayHorizontal","message"],["mat-table","","matSort","",3,"dataSource"],["mytable",""],["matColumnDef","characterName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","rage0"],["matColumnDef","rage50"],["matColumnDef","rage100"],["matColumnDef","rage150"],["matColumnDef","comment"],["matColumnDef","action"],["appLogin","","mat-header-cell","",4,"matHeaderCellDef"],["appLogin","","mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["appLogin","","mat-header-cell",""],["appLogin","","mat-cell","",1,"action-link"],[3,"displayHorizontal","editClicked","removeClicked"],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(Oo(0,LP,2,3,"div",0),Oo(1,QP,25,4,"ng-template",1,2,Sc),No(3,"div",3),No(4,"button",4),qo("click",(function(){return e.openDialog("Add",{})})),No(5,"span",5),Da(6,"ADD-CONFIRM-DETAILS"),Fo(),Fo(),Fo()),2&t){const t=Do(2);Mo("ngIf",0===e.dataSource.data.length)("ngIfElse",t)}},directives:[Qh,OI,pT,bS,HO,KR,sR,nP,tP,QR,oP,lP,rP,pR,sP,fT,hP,dP],pipes:[MP],styles:[".example-container[_ngcontent-%COMP%]{overflow:auto}table[_ngcontent-%COMP%]{width:100%}.mat-table[_ngcontent-%COMP%]{background:transparent;border:1px solid #17313a}td.mat-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{border-bottom:1px solid #17313a}"]}),t})();function tM(t,e){if(1&t){const t=Ho();No(0,"div",10),No(1,"mat-form-field",11),No(2,"mat-label",4),Da(3,"INPUT-CHARACTER-NAME"),Fo(),No(4,"mat-icon",12),Da(5,"search"),Fo(),No(6,"input",13),qo("keyup",(function(e){return Je(t),Ko().applyFilter(e)})),Fo(),Fo(),Fo()}}function eM(t,e){if(1&t){const t=Ho();No(0,"mat-expansion-panel",16),qo("opened",(function(){Je(t);const n=e.$implicit;return Ko(2).panelOpened(n.name)}))("closed",(function(){Je(t);const n=e.$implicit;return Ko(2).panelClosed(n.name)})),No(1,"mat-expansion-panel-header"),No(2,"mat-panel-title"),Da(3),No(4,"app-edit-remove",17),qo("editClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).openConfirmDialog("Update",n)}))("removeClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).openConfirmDialog("Delete",n)})),Fo(),Fo(),No(5,"mat-panel-description"),Da(6),Fo(),Fo(),No(7,"app-confirm-table",18),qo("confirmDetailsAdded",(function(n){Je(t);const i=e.$implicit;return Ko(2).onConfirmDetailsAdded(i,n)}))("confirmDetailsEdited",(function(n){Je(t);const i=e.$implicit;return Ko(2).onConfirmDetailsEdited(i,n)}))("confirmDetailsRemoved",(function(n){Je(t);const i=e.$implicit;return Ko(2).onConfirmDetailsRemoved(i,n)})),Fo(),Fo()}if(2&t){const t=e.$implicit;Mo("expanded",Ko(2).openedConfirmNames.has(t.name)),_r(3),Ra(" ",t.name," "),_r(1),Mo("displayHorizontal",!0),_r(2),Ra(" ",t.description," "),_r(1),Mo("confirmDetails",t.confirmDetailsDtos)}}function nM(t,e){if(1&t&&(No(0,"mat-accordion",14),Oo(1,eM,8,5,"mat-expansion-panel",15),Fo()),2&t){const t=Ko();Mo("multi",!0),_r(1),Mo("ngForOf",t.filteredConfirms)}}function iM(t,e){1&t&&Bo(0,"app-empty-layout",19),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-TAB-CONFIRM")}function rM(t,e){1&t&&Bo(0,"app-empty-layout",19),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-FILTERED-CONFIRM-LIST")}function sM(t,e){if(1&t&&Oo(0,rM,1,3,"app-empty-layout",20),2&t){const t=Ko();Mo("ngIf",!t.filteredConfirms||0===t.filteredConfirms.length)}}let oM=(()=>{class t{constructor(t,e,n){this.dialog=t,this.confirmService=e,this.characterService=n,this.confirms=new Array,this.filteredConfirms=new Array,this.openedConfirmNames=new Set}ngOnInit(){this.refreshConfirms()}applyFilter(t){this.characterFilter=t.target.value.trim().toLowerCase(),this.filterConfirms()}openConfirmDialog(t,e){e.action=t,this.dialog.open(ZD,{width:"400px",data:e}).afterClosed().subscribe(t=>{"Add"===t.event?(t.data.characterName=this.characterId,this.confirmService.addConfirm(this.characterId,t.data).subscribe(()=>{this.refreshConfirms()})):"Update"===t.event?this.confirmService.editConfirm(t.data.id,t.data).subscribe(()=>{this.refreshConfirms()}):"Delete"===t.event&&this.confirmService.removeConfirm(t.data.id).subscribe(()=>{this.refreshConfirms()})})}onConfirmDetailsAdded(t,e){this.confirmService.addConfirmDetails(t.id,e).subscribe(()=>{this.refreshConfirms()})}onConfirmDetailsEdited(t,e){this.confirmService.editConfirmDetails(t.id,e.id,e).subscribe(()=>{this.refreshConfirms()})}onConfirmDetailsRemoved(t,e){this.confirmService.removeConfirmDetails(t.id,e).subscribe(()=>{this.refreshConfirms()})}refreshConfirms(){this.confirmService.getConfirmsByCharacterId(this.characterId).subscribe(t=>{t?(this.confirms=t,this.filterConfirms()):(this.confirms=[],this.filteredConfirms=[])})}filterConfirms(){this.filteredConfirms=this.confirms.map(t=>Object.assign({},t)),this.characterFilter&&(this.filteredConfirms.forEach(t=>{t.confirmDetailsDtos=t.confirmDetailsDtos.filter(t=>this.characterService.characterIdToCharacterName(t.targetId).toLowerCase().includes(this.characterFilter.toLowerCase()))}),this.filteredConfirms=this.filteredConfirms.filter(t=>t.confirmDetailsDtos.length>0))}panelOpened(t){this.openedConfirmNames.add(t)}panelClosed(t){this.openedConfirmNames.delete(t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Iw),Ao(QD),Ao(JC))},t.\u0275cmp=ge({type:t,selectors:[["app-confirms"]],inputs:{characterId:"characterId"},decls:13,vars:4,consts:[[1,"container-fluid"],[1,"row","justify-content-center",2,"margin-top","16px"],["appLogin","",1,"col-md-4","col-sm-6","flex-center"],["mat-raised-button","","color","primary",3,"click"],["translate",""],["class","col-md-8 col-sm-10",4,"ngIf"],[1,"col-md-12","col-sm-12"],["style","padding-top: 16px;",3,"multi",4,"ngIf"],[3,"iconFontSize","displayHorizontal","message",4,"ngIf","ngIfElse"],["otherEmptyTemplate",""],[1,"col-md-8","col-sm-10"],["appearance","outline","color","accent",1,"w-100"],["matSuffix",""],["matInput","",3,"keyup"],[2,"padding-top","16px",3,"multi"],[3,"expanded","opened","closed",4,"ngFor","ngForOf"],[3,"expanded","opened","closed"],[3,"displayHorizontal","editClicked","removeClicked"],[3,"confirmDetails","confirmDetailsAdded","confirmDetailsEdited","confirmDetailsRemoved"],[3,"iconFontSize","displayHorizontal","message"],[3,"iconFontSize","displayHorizontal","message",4,"ngIf"]],template:function(t,e){if(1&t&&(No(0,"div",0),No(1,"div",1),No(2,"div",2),No(3,"button",3),qo("click",(function(){return e.openConfirmDialog("Add",{})})),No(4,"span",4),Da(5,"ADD-CONFIRM"),Fo(),Fo(),Fo(),Oo(6,tM,7,0,"div",5),Fo(),No(7,"div",1),No(8,"div",6),Oo(9,nM,2,2,"mat-accordion",7),Oo(10,iM,1,3,"app-empty-layout",8),Oo(11,sM,1,1,"ng-template",null,9,Sc),Fo(),Fo(),Fo()),2&t){const t=Do(12);_r(6),Mo("ngIf",e.confirms&&e.confirms.length>0),_r(3),Mo("ngIf",e.filteredConfirms&&e.filteredConfirms.length>0),_r(1),Mo("ngIf",!e.confirms||0===e.confirms.length)("ngIfElse",t)}},directives:[pT,OI,bS,Qh,tk,WS,Wk,XS,hk,xA,Kh,yA,bA,wA,fT,_A,JP,HO],styles:[".combo-list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.description[_ngcontent-%COMP%]{margin-top:8px}.combo[_ngcontent-%COMP%]{margin:10px;min-width:20%}.working-percent[_ngcontent-%COMP%]{margin-top:16px}"]}),t})();class aM{constructor(){this.tiers=new Array,this.unusedCharacterIds=new Array}}class lM{constructor(){this.characterIds=new Array}}var cM=n("YS7c"),hM=n.n(cM);class uM{constructor(t,e,n){this.name=t,this.drake=e,this.options=n,this.initEvents=!1}}const dM={Cancel:"cancel",Cloned:"cloned",Drag:"drag",DragEnd:"dragend",Drop:"drop",Out:"out",Over:"over",Remove:"remove",Shadow:"shadow",DropModel:"dropModel",RemoveModel:"removeModel"},pM=Object.keys(dM).map(t=>dM[t]),fM=hM.a||cM;class mM{constructor(t=fM){this.build=t}}const gM=(t,e,n)=>i=>i.pipe(ld(({event:n,name:i})=>n===t&&(void 0===e||i===e)),F(({name:t,args:e})=>n(t,e))),vM=(t,[e,n,i])=>({name:t,el:e,container:n,source:i});let yM=(()=>{class t{constructor(t=null){this.drakeFactory=t,this.dispatch$=new k,this.drag=t=>this.dispatch$.pipe(gM(dM.Drag,t,(t,[e,n])=>({name:t,el:e,source:n}))),this.dragend=t=>this.dispatch$.pipe(gM(dM.DragEnd,t,(t,[e])=>({name:t,el:e}))),this.drop=t=>this.dispatch$.pipe(gM(dM.Drop,t,(t,[e,n,i,r])=>({name:t,el:e,target:n,source:i,sibling:r}))),this.elContainerSource=t=>e=>this.dispatch$.pipe(gM(t,e,vM)),this.cancel=this.elContainerSource(dM.Cancel),this.remove=this.elContainerSource(dM.Remove),this.shadow=this.elContainerSource(dM.Shadow),this.over=this.elContainerSource(dM.Over),this.out=this.elContainerSource(dM.Out),this.cloned=t=>this.dispatch$.pipe(gM(dM.Cloned,t,(t,[e,n,i])=>({name:t,clone:e,original:n,cloneType:i}))),this.dropModel=t=>this.dispatch$.pipe(gM(dM.DropModel,t,(t,[e,n,i,r,s,o,a,l,c])=>({name:t,el:e,target:n,source:i,sibling:r,item:s,sourceModel:o,targetModel:a,sourceIndex:l,targetIndex:c}))),this.removeModel=t=>this.dispatch$.pipe(gM(dM.RemoveModel,t,(t,[e,n,i,r,s,o])=>({name:t,el:e,container:n,source:i,item:r,sourceModel:s,sourceIndex:o}))),this.groups={},null===this.drakeFactory&&(this.drakeFactory=new mM)}add(t){if(this.find(t.name))throw new Error('Group named: "'+t.name+'" already exists.');return this.groups[t.name]=t,this.handleModels(t),this.setupEvents(t),t}find(t){return this.groups[t]}destroy(t){let e=this.find(t);e&&(e.drake&&e.drake.destroy(),delete this.groups[t])}createGroup(t,e){return this.add(new uM(t,this.drakeFactory.build([],e),e))}handleModels({name:t,drake:e,options:n}){let i,r,s;e.on("remove",(n,i,s)=>{if(!e.models)return;let o=e.models[e.containers.indexOf(s)];o=o.slice(0);const a=o.splice(r,1)[0];this.dispatch$.next({event:dM.RemoveModel,name:t,args:[n,i,s,a,o,r]})}),e.on("drag",(t,n)=>{e.models&&(i=t,r=this.domIndexOf(t,n))}),e.on("drop",(o,a,l,c)=>{if(!e.models||!a)return;s=this.domIndexOf(o,a);let h,u=e.models[e.containers.indexOf(l)],d=e.models[e.containers.indexOf(a)];if(a===l)u=u.slice(0),h=u.splice(r,1)[0],u.splice(s,0,h),d=u;else{let t=i!==o;if(h=u[r],t){if(!n.copyItem)throw new Error("If you have enabled `copy` on a group, you must provide a `copyItem` function.");h=n.copyItem(h)}if(t||(u=u.slice(0),u.splice(r,1)),d=d.slice(0),d.splice(s,0,h),t)try{a.removeChild(o)}catch(p){}}this.dispatch$.next({event:dM.DropModel,name:t,args:[o,a,l,c,h,u,d,r,s]})})}setupEvents(t){if(t.initEvents)return;t.initEvents=!0;const e=t.name;pM.forEach(n=>{t.drake.on(n,(...t)=>{this.dispatch$.next({event:n,name:e,args:t})})})}domIndexOf(t,e){return Array.prototype.indexOf.call(e.children,t)}}return t.\u0275fac=function(e){return new(e||t)(Zt(mM,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),bM=(()=>{class t{constructor(t,e){this.el=t,this.dragulaService=e,this.dragulaModelChange=new nc}get container(){return this.el&&this.el.nativeElement}ngOnChanges(t){if(t&&t.dragula){const{previousValue:e,currentValue:n}=t.dragula;let i=!!n;!!e&&this.teardown(e),i&&this.setup()}else if(t&&t.dragulaModel){const{previousValue:e,currentValue:n}=t.dragulaModel,{drake:i}=this.group;if(this.dragula&&i){i.models=i.models||[];let t=i.models.indexOf(e);-1!==t?(i.models.splice(t,1),n&&i.models.splice(t,0,n)):n&&i.models.push(n)}}}setup(){let t=this.dragulaService.find(this.dragula);t||(t=this.dragulaService.createGroup(this.dragula,{})),(t=>{this.dragulaModel&&(t.drake.models?t.drake.models.push(this.dragulaModel):t.drake.models=[this.dragulaModel])})(t),t.drake.containers.push(this.container),this.subscribe(this.dragula),this.group=t}subscribe(t){this.subs=new u,this.subs.add(this.dragulaService.dropModel(t).subscribe(({source:t,target:e,sourceModel:n,targetModel:i})=>{t===this.el.nativeElement?this.dragulaModelChange.emit(n):e===this.el.nativeElement&&this.dragulaModelChange.emit(i)})),this.subs.add(this.dragulaService.removeModel(t).subscribe(({source:t,sourceModel:e})=>{t===this.el.nativeElement&&this.dragulaModelChange.emit(e)}))}teardown(t){this.subs&&this.subs.unsubscribe();const e=this.dragulaService.find(t);if(e){const t=e.drake.containers.indexOf(this.el.nativeElement);if(-1!==t&&e.drake.containers.splice(t,1),this.dragulaModel&&e.drake&&e.drake.models){let t=e.drake.models.indexOf(this.dragulaModel);-1!==t&&e.drake.models.splice(t,1)}}}ngOnDestroy(){this.teardown(this.dragula)}}return t.\u0275fac=function(e){return new(e||t)(Ao(ol),Ao(yM))},t.\u0275dir=xe({type:t,selectors:[["","dragula",""]],inputs:{dragula:"dragula",dragulaModel:"dragulaModel"},outputs:{dragulaModelChange:"dragulaModelChange"},features:[Wa]}),t})(),_M=(()=>{class t{static forRoot(){return{ngModule:t,providers:[yM]}}}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})();function wM(t,e){(function(t){return"string"==typeof t&&t.includes(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&t.includes("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function xM(t){return Math.min(1,Math.max(0,t))}function CM(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function SM(t){return t<=1?100*Number(t)+"%":t}function kM(t){return 1===t.length?"0"+t:String(t)}function EM(t,e,n){t=wM(t,255),e=wM(e,255),n=wM(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),s=0,o=0,a=(i+r)/2;if(i===r)o=0,s=0;else{var l=i-r;switch(o=a>.5?l/(2-i-r):l/(i+r),i){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4}s/=6}return{h:s,s:o,l:a}}function IM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TM(t,e,n){t=wM(t,255),e=wM(e,255),n=wM(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),s=0,o=i,a=i-r,l=0===i?0:a/i;if(i===r)s=0;else{switch(i){case t:s=(e-n)/a+(e<n?6:0);break;case e:s=(n-t)/a+2;break;case n:s=(t-e)/a+4}s/=6}return{h:s,s:l,v:o}}function OM(t,e,n,i){var r=[kM(Math.round(t).toString(16)),kM(Math.round(e).toString(16)),kM(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function DM(t){return AM(t)/255}function AM(t){return parseInt(t,16)}var RM={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},PM="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",MM="[\\s|\\(]+("+PM+")[,|\\s]+("+PM+")[,|\\s]+("+PM+")\\s*\\)?",LM="[\\s|\\(]+("+PM+")[,|\\s]+("+PM+")[,|\\s]+("+PM+")[,|\\s]+("+PM+")\\s*\\)?",NM={CSS_UNIT:new RegExp(PM),rgb:new RegExp("rgb"+MM),rgba:new RegExp("rgba"+LM),hsl:new RegExp("hsl"+MM),hsla:new RegExp("hsla"+LM),hsv:new RegExp("hsv"+MM),hsva:new RegExp("hsva"+LM),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function FM(t){return Boolean(NM.CSS_UNIT.exec(String(t)))}var BM=function(){function t(e,n){var i;if(void 0===e&&(e=""),void 0===n&&(n={}),e instanceof t)return e;this.originalInput=e;var r=function(t){var e,n,i={r:0,g:0,b:0},r=1,s=null,o=null,a=null,l=!1,c=!1;return"string"==typeof t&&(t=function(t){if(0===(t=t.trim().toLowerCase()).length)return!1;var e=!1;if(RM[t])t=RM[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var n=NM.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=NM.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=NM.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=NM.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=NM.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=NM.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=NM.hex8.exec(t))?{r:AM(n[1]),g:AM(n[2]),b:AM(n[3]),a:DM(n[4]),format:e?"name":"hex8"}:(n=NM.hex6.exec(t))?{r:AM(n[1]),g:AM(n[2]),b:AM(n[3]),format:e?"name":"hex"}:(n=NM.hex4.exec(t))?{r:AM(n[1]+n[1]),g:AM(n[2]+n[2]),b:AM(n[3]+n[3]),a:DM(n[4]+n[4]),format:e?"name":"hex8"}:!!(n=NM.hex3.exec(t))&&{r:AM(n[1]+n[1]),g:AM(n[2]+n[2]),b:AM(n[3]+n[3]),format:e?"name":"hex"}}(t)),"object"==typeof t&&(FM(t.r)&&FM(t.g)&&FM(t.b)?(e=t.g,n=t.b,i={r:255*wM(t.r,255),g:255*wM(e,255),b:255*wM(n,255)},l=!0,c="%"===String(t.r).substr(-1)?"prgb":"rgb"):FM(t.h)&&FM(t.s)&&FM(t.v)?(s=SM(t.s),o=SM(t.v),i=function(t,e,n){t=6*wM(t,360),e=wM(e,100),n=wM(n,100);var i=Math.floor(t),r=t-i,s=n*(1-e),o=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6;return{r:255*[n,o,s,s,a,n][l],g:255*[a,n,n,o,s,s][l],b:255*[s,s,a,n,n,o][l]}}(t.h,s,o),l=!0,c="hsv"):FM(t.h)&&FM(t.s)&&FM(t.l)&&(s=SM(t.s),a=SM(t.l),i=function(t,e,n){var i,r,s;if(t=wM(t,360),e=wM(e,100),n=wM(n,100),0===e)r=n,s=n,i=n;else{var o=n<.5?n*(1+e):n+e-n*e,a=2*n-o;i=IM(a,o,t+1/3),r=IM(a,o,t),s=IM(a,o,t-1/3)}return{r:255*i,g:255*r,b:255*s}}(t.h,s,a),l=!0,c="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=CM(r),{ok:l,format:t.format||c,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:r}}(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=n.format)&&void 0!==i?i:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},t.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,i=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(t){return this.a=CM(t),this.roundA=Math.round(100*this.a)/100,this},t.prototype.toHsv=function(){var t=TM(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},t.prototype.toHsvString=function(){var t=TM(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.v);return 1===this.a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this.roundA+")"},t.prototype.toHsl=function(){var t=EM(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},t.prototype.toHslString=function(){var t=EM(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.l);return 1===this.a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this.roundA+")"},t.prototype.toHex=function(t){return void 0===t&&(t=!1),OM(this.r,this.g,this.b,t)},t.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},t.prototype.toHex8=function(t){return void 0===t&&(t=!1),function(t,e,n,i,r){var s,o=[kM(Math.round(t).toString(16)),kM(Math.round(e).toString(16)),kM(Math.round(n).toString(16)),kM((s=i,Math.round(255*parseFloat(s)).toString(16)))];return r&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,t)},t.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb("+t+", "+e+", "+n+")":"rgba("+t+", "+e+", "+n+", "+this.roundA+")"},t.prototype.toPercentageRgb=function(){var t=function(t){return Math.round(100*wM(t,255))+"%"};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var t=function(t){return Math.round(100*wM(t,255))};return 1===this.a?"rgb("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%)":"rgba("+t(this.r)+"%, "+t(this.g)+"%, "+t(this.b)+"%, "+this.roundA+")"},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+OM(this.r,this.g,this.b,!1),e=0,n=Object.keys(RM);e<n.length;e++){var i=n[e];if(RM[i]===t)return i}return!1},t.prototype.toString=function(t){var e=Boolean(t);t=null!=t?t:this.format;var n=!1;return e||!(this.a<1&&this.a>=0)||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=xM(n.l),new t(n)},t.prototype.brighten=function(e){void 0===e&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),new t(n)},t.prototype.darken=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=xM(n.l),new t(n)},t.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},t.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},t.prototype.desaturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=xM(n.s),new t(n)},t.prototype.saturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=xM(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,new t(n)},t.prototype.mix=function(e,n){void 0===n&&(n=50);var i=this.toRgb(),r=new t(e).toRgb(),s=n/100;return new t({r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a})},t.prototype.analogous=function(e,n){void 0===e&&(e=6),void 0===n&&(n=30);var i=this.toHsl(),r=360/n,s=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(new t(i));return s},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var n=this.toHsv(),i=n.h,r=n.s,s=n.v,o=[],a=1/e;e--;)o.push(new t({h:i,s:r,v:s})),s=(s+a)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),i=n.h,r=[this],s=360/e,o=1;o<e;o++)r.push(new t({h:(i+o*s)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();const VM=["*"];function zM(t,e){1&t&&Bo(0,"color-checkboard",2)}const jM={};let HM=(()=>{let t=class{constructor(){this.white="transparent",this.size=8,this.grey="rgba(0,0,0,.08)"}ngOnInit(){const t=function(t,e,n){const i=`${t}-${e}-${n}`;if(jM[i])return jM[i];const r=function(t,e,n){if("undefined"==typeof document)return null;const i=document.createElement("canvas");i.width=2*n,i.height=2*n;const r=i.getContext("2d");return r?(r.fillStyle=t,r.fillRect(0,0,i.width,i.height),r.fillStyle=e,r.fillRect(0,0,n,n),r.translate(n,n),r.fillRect(0,0,n,n),i.toDataURL()):null}(t,e,n);return r?(jM[i]=r,r):null}(this.white,this.grey,this.size);this.gridStyles={borderRadius:this.borderRadius,boxShadow:this.boxShadow,background:`url(${t}) center left`}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["color-checkboard"]],inputs:{white:"white",size:"size",grey:"grey",boxShadow:"boxShadow",borderRadius:"borderRadius"},decls:1,vars:1,consts:[[1,"grid",3,"ngStyle"]],template:function(t,e){1&t&&Bo(0,"div",0),2&t&&Mo("ngStyle",e.gridStyles)},directives:[su],styles:[".grid[_ngcontent-%COMP%] {\n    top: 0px;\n    right: 0px;\n    bottom: 0px;\n    left: 0px;\n    position: absolute;\n  }"],changeDetection:0}),t})(),UM=(()=>{let t=class{};return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),$M=(()=>{let t=class{};return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)}}),t})(),qM=(()=>{let t=class{};return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,UM,$M]]}),t})();function WM(t){let e=0,n=0;return["r","g","b","a","h","s","l","v"].forEach(i=>{t[i]&&(e+=1,isNaN(t[i])||(n+=1),"s"===i||"l"===i)&&/^\d+%$/.test(t[i])&&(n+=1)}),e===n&&t}function GM(t,e){const n=new BM(t.hex?t.hex:t),i=n.toHsl(),r=n.toHsv(),s=n.toRgb(),o=n.toHex();return 0===i.s&&(i.h=e||0,r.h=e||0),{hsl:i,hex:"000000"===o&&0===s.a?"transparent":`#${o}`,rgb:s,hsv:r,oldHue:t.h||e||i.h,source:t.source}}let YM=(()=>{let t=class{constructor(){this.color={h:250,s:.5,l:.2,a:1},this.onChange=new nc,this.onChangeComplete=new nc,this.onSwatchHover=new nc}ngOnInit(){this.changes=this.onChange.pipe(zv(100)).subscribe(t=>this.onChangeComplete.emit(t)),this.setState(GM(this.color,0)),this.currentColor=this.hex}ngOnChanges(){this.setState(GM(this.color,this.oldHue))}ngOnDestroy(){this.changes.unsubscribe()}setState(t){this.oldHue=t.oldHue,this.hsl=t.hsl,this.hsv=t.hsv,this.rgb=t.rgb,this.hex=t.hex,this.source=t.source,this.afterValidChange()}handleChange(t,e){if(WM(t)){const n=GM(t,t.h||this.oldHue);this.setState(n),this.onChange.emit({color:n,$event:e}),this.afterValidChange()}}afterValidChange(){}handleSwatchHover(t,e){if(WM(t)){const n=GM(t,t.h||this.oldHue);this.setState(n),this.onSwatchHover.emit({color:n,$event:e})}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["color-wrap"]],inputs:{color:"color",className:"className"},outputs:{onChange:"onChange",onChangeComplete:"onChangeComplete",onSwatchHover:"onSwatchHover"},features:[Wa],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),XM=(()=>{let t=class{};return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu]]}),t})(),KM=(()=>{let t=class{};return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,$M]]}),t})(),ZM=(()=>{let t=class{};return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,$M]]}),t})(),QM=(()=>{let t=class{constructor(){this.style={},this.focusStyle={},this.onClick=new nc,this.onHover=new nc,this.divStyles={},this.focusStyles={},this.inFocus=!1}ngOnInit(){this.divStyles=Object.assign({background:this.color,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},this.style)}currentStyles(){return this.focusStyles=Object.assign(Object.assign({},this.divStyles),this.focusStyle),this.focus||this.inFocus?this.focusStyles:this.divStyles}handleFocusOut(){this.inFocus=!1}handleFocus(){this.inFocus=!0}handleHover(t,e){this.onHover.emit({hex:t,$event:e})}handleClick(t,e){this.onClick.emit({hex:t,$event:e})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["color-swatch"]],inputs:{style:"style",focusStyle:"focusStyle",color:"color",focus:"focus"},outputs:{onClick:"onClick",onHover:"onHover"},ngContentSelectors:VM,decls:3,vars:3,consts:[["tabindex","0",1,"swatch",3,"ngStyle","click","keydown.enter","focus","blur","mouseover"],["boxShadow","inset 0 0 0 1px rgba(0,0,0,0.1)",4,"ngIf"],["boxShadow","inset 0 0 0 1px rgba(0,0,0,0.1)"]],template:function(t,e){1&t&&(Qo(),No(0,"div",0),qo("click",(function(t){return e.handleClick(e.color,t)}))("keydown.enter",(function(t){return e.handleClick(e.color,t)}))("focus",(function(){return e.handleFocus()}))("blur",(function(){return e.handleFocusOut()}))("mouseover",(function(t){return e.handleHover(e.color,t)})),Jo(1),Oo(2,zM,1,0,"color-checkboard",1),Fo()),2&t&&(Mo("ngStyle",e.currentStyles()),Io("title",e.color),_r(2),Mo("ngIf","transparent"===e.color))},directives:[su,Qh,HM],encapsulation:2,changeDetection:0}),t})(),JM=(()=>{let t=class{};return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,UM]]}),t})();function tL(t,e){if(1&t){const t=Ho();No(0,"color-circle-swatch",1),qo("onClick",(function(e){return Je(t),Ko().handleBlockChange(e)}))("onSwatchHover",(function(e){return Je(t),Ko().onSwatchHover.emit(e)})),Fo()}if(2&t){const t=e.$implicit,n=Ko();Mo("circleSize",n.circleSize)("circleSpacing",n.circleSpacing)("color",t)("focus",n.isActive(t))}}let eL=(()=>{let t=class{constructor(){this.circleSize=28,this.circleSpacing=14,this.focus=!1,this.onClick=new nc,this.onSwatchHover=new nc,this.focusStyle={},this.swatchStyle={borderRadius:"50%",background:"transparent",transition:"100ms box-shadow ease 0s"}}ngOnChanges(){this.swatchStyle.boxShadow=`inset 0 0 0 ${this.circleSize/2}px ${this.color}`,this.focusStyle.boxShadow=`inset 0 0 0 ${this.circleSize/2}px ${this.color}, 0 0 5px ${this.color}`,this.focus&&(this.focusStyle.boxShadow=`inset 0 0 0 3px ${this.color}, 0 0 5px ${this.color}`)}handleClick({hex:t,$event:e}){this.onClick.emit({hex:t,$event:e})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["color-circle-swatch"]],inputs:{circleSize:"circleSize",circleSpacing:"circleSpacing",focus:"focus",color:"color"},outputs:{onClick:"onClick",onSwatchHover:"onSwatchHover"},features:[Wa],decls:3,vars:13,consts:[[1,"circle-swatch"],[3,"color","focus","focusStyle","onClick","onHover"],[1,"clear"]],template:function(t,e){1&t&&(No(0,"div",0),No(1,"color-swatch",1),qo("onClick",(function(t){return e.handleClick(t)}))("onHover",(function(t){return e.onSwatchHover.emit(t)})),Fo(),Bo(2,"div",2),Fo()),2&t&&(fa("width",e.circleSize,"px")("height",e.circleSize,"px")("margin-right",e.circleSpacing,"px")("margin-bottom",e.circleSpacing,"px"),_r(1),_a(ka,ga,e.swatchStyle,!1),Mo("color",e.color)("focus",e.focus)("focusStyle",e.focusStyle))},directives:[QM],styles:[".circle-swatch[_ngcontent-%COMP%] {\n    transform: scale(1);\n    transition: transform 100ms ease;\n  }\n  .circle-swatch[_ngcontent-%COMP%]:hover {\n    transform: scale(1.2);\n  }"],changeDetection:0}),t})(),nL=(()=>{let t=class extends YM{constructor(){super(),this.width=252,this.colors=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b"],this.circleSize=28,this.circleSpacing=14}isActive(t){return this.hex===t}handleBlockChange({hex:t,$event:e}){(function(t){return new BM(t).isValid})(t)&&this.handleChange({hex:t,source:"hex"},e)}handleValueChange({data:t,$event:e}){this.handleChange(t,e)}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["color-circle"]],inputs:{width:"width",colors:"colors",circleSize:"circleSize",circleSpacing:"circleSpacing"},features:[za],decls:2,vars:10,consts:[[3,"circleSize","circleSpacing","color","focus","onClick","onSwatchHover",4,"ngFor","ngForOf"],[3,"circleSize","circleSpacing","color","focus","onClick","onSwatchHover"]],template:function(t,e){1&t&&(No(0,"div"),Oo(1,tL,1,4,"color-circle-swatch",0),Fo()),2&t&&(Na("circle-picker ",e.className,""),fa("width",e.width,"px")("margin-right",0-e.circleSpacing,"px")("margin-bottom",0-e.circleSpacing,"px"),_r(1),Mo("ngForOf",e.colors))},directives:[Kh,eL],styles:[".circle-picker[_ngcontent-%COMP%] {\n        display: flex;\n        flex-wrap: wrap;\n      }"],changeDetection:0}),t})(),iL=(()=>{let t=class{};return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,JM]]}),t})();const rL=["tierForm"];function sL(t,e){if(1&t&&(No(0,"div",27),Bo(1,"img",28),tc(2,"idName"),Da(3),tc(4,"idName"),Fo()),2&t){const t=e.$implicit,n=Ko(3);_r(1),ta("src","data:image/jpg;base64,"+n.characterImages[ec(2,2,t)],er),_r(2),Ra(" ",ec(4,4,t)," ")}}function oL(t,e){if(1&t){const t=Ho();No(0,"mat-icon",29),qo("click",(function(){Je(t);const e=Ko().index;return Ko(2).moveUp(e)})),Da(1," keyboard_arrow_up "),Fo()}}function aL(t,e){if(1&t){const t=Ho();No(0,"mat-icon",30),qo("click",(function(){Je(t);const e=Ko().index;return Ko(2).moveDown(e)})),Da(1," keyboard_arrow_down "),Fo()}}function lL(t,e){if(1&t){const t=Ho();No(0,"div",18),No(1,"div",19),Da(2),Fo(),No(3,"div",20),qo("dragulaModelChange",(function(n){return Je(t),e.$implicit.characterIds=n})),Oo(4,sL,5,6,"div",21),Fo(),No(5,"div",22),No(6,"app-edit-remove",23),qo("editClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).editTier(n)}))("removeClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).removeTier(n)})),Fo(),Fo(),No(7,"div",24),Oo(8,oL,2,0,"mat-icon",25),Oo(9,aL,2,0,"mat-icon",26),Fo(),Fo()}if(2&t){const t=e.$implicit,n=e.first,i=e.last;_r(1),fa("background-color",t.color),_r(1),Ra(" ",t.name," "),_r(1),Mo("dragulaModel",t.characterIds),_r(1),Mo("ngForOf",t.characterIds),_r(2),Mo("displayHorizontal",!1),_r(2),Mo("ngIf",!n),_r(1),Mo("ngIf",!i)}}function cL(t,e){if(1&t&&(No(0,"div",27),Bo(1,"img",28),tc(2,"idName"),Da(3),tc(4,"idName"),Fo()),2&t){const t=e.$implicit,n=Ko(3);_r(1),ta("src","data:image/jpg;base64,"+n.characterImages[ec(2,2,t)],er),_r(2),Ra(" ",ec(4,4,t)," ")}}function hL(t,e){if(1&t){const t=Ho();No(0,"div",31),qo("dragulaModelChange",(function(e){return Je(t),Ko(2).tierlist.unusedCharacterIds=e})),Oo(1,cL,5,6,"div",21),Fo()}if(2&t){const t=Ko(2);Mo("dragulaModel",t.tierlist.unusedCharacterIds),_r(1),Mo("ngForOf",t.tierlist.unusedCharacterIds)}}function uL(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"button",32),qo("click",(function(){return Je(t),Ko(2).addTier()})),No(2,"span",8),Da(3,"DIALOG-TIERLIST-ADD-TIER"),Fo(),Fo(),Fo()}}function dL(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"mat-form-field",10),No(2,"mat-label",8),Da(3,"DIALOG-TIERLIST-ADD-TIER-NAME"),Fo(),No(4,"input",33),qo("ngModelChange",(function(e){return Je(t),Ko(2).addTierModel=e})),Fo(),Fo(),No(5,"color-circle",34),qo("onChangeComplete",(function(e){return Je(t),Ko(2).handleChangeComplete(e)})),Fo(),No(6,"div",35),No(7,"button",7),qo("click",(function(){return Je(t),Ko(2).cancelAddTier()})),No(8,"span",8),Da(9,"DIALOG-TIERLIST-ADD-TIER-CANCEL"),Fo(),Fo(),No(10,"button",36),qo("click",(function(){return Je(t),Ko(2).confirmAddTier()})),No(11,"span",8),Da(12,"DIALOG-TIERLIST-ADD-TIER-CONFIRM"),Fo(),Fo(),Fo(),Fo()}if(2&t){Ko();const t=Do(13),e=Ko();_r(4),Mo("ngModel",e.addTierModel),_r(6),Mo("disabled",!t.form.valid||!e.tierColor)}}function pL(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"mat-form-field",10),No(2,"mat-label",8),Da(3,"DIALOG-TIERLIST-ADD-TIER-NAME"),Fo(),No(4,"input",37),qo("ngModelChange",(function(e){return Je(t),Ko(2).editTierModel=e})),Fo(),Fo(),No(5,"color-circle",34),qo("onChangeComplete",(function(e){return Je(t),Ko(2).handleChangeComplete(e)})),Fo(),No(6,"div",35),No(7,"button",7),qo("click",(function(){return Je(t),Ko(2).cancelEditTier()})),No(8,"span",8),Da(9,"DIALOG-TIERLIST-EDIT-TIER-CANCEL"),Fo(),Fo(),No(10,"button",36),qo("click",(function(){return Je(t),Ko(2).confirmEditTier()})),No(11,"span",8),Da(12,"DIALOG-TIERLIST-EDIT-TIER-CONFIRM"),Fo(),Fo(),Fo(),Fo()}if(2&t){Ko();const t=Do(13),e=Ko();_r(4),Mo("ngModel",e.editTierModel),_r(6),Mo("disabled",!t.form.valid||!e.tierColor)}}function fL(t,e){1&t&&(No(0,"div",38),No(1,"span",8),Da(2,"DIALOG-TIERLIST-TIER-DUPLICATE"),Fo(),Fo())}function mL(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"mat-form-field",10),No(2,"mat-label",8),Da(3,"DIALOG-TIERLIST-NAME"),Fo(),No(4,"input",11),qo("ngModelChange",(function(e){return Je(t),Ko().tierlist.name=e})),Fo(),Fo(),No(5,"mat-form-field",10),No(6,"mat-label",8),Da(7,"DIALOG-TIERLIST-DESCRIPTION"),Fo(),No(8,"input",12),qo("ngModelChange",(function(e){return Je(t),Ko().tierlist.description=e})),Fo(),Fo(),Oo(9,lL,10,8,"div",13),Oo(10,hL,2,2,"div",14),No(11,"div"),No(12,"form",null,15),Oo(14,uL,4,0,"div",16),Oo(15,dL,13,2,"div",16),Oo(16,pL,13,2,"div",16),Oo(17,fL,3,0,"div",17),Fo(),Fo(),Fo()}if(2&t){const t=Ko();_r(4),Mo("ngModel",t.tierlist.name),_r(4),Mo("ngModel",t.tierlist.description),_r(1),Mo("ngForOf",t.tierlist.tiers),_r(1),Mo("ngIf",t.tierlist.tiers.length>0),_r(4),Mo("ngIf",!t.addingTier&&!t.editingTier),_r(1),Mo("ngIf",t.addingTier),_r(1),Mo("ngIf",t.editingTier),_r(1),Mo("ngIf",t.duplicateTierName)}}function gL(t,e){1&t&&(No(0,"span",8),Da(1,"DIALOG-DELETE-TIERLIST-CONTENT"),Fo())}let vL=(()=>{class t{constructor(t,e,n){if(this.dialogRef=t,this.characterService=e,this.inputData=n,this.tierNames=new Array,this.characterImages={},t.disableClose=!0,this.action=n.action,this.characterImages=n.charactersImages,n.name)this.tierlist=JSON.parse(JSON.stringify(n));else{this.tierlist=new aM;const t=this.characterService.getAllStoredCharacters();t?t.forEach(t=>{this.tierlist.unusedCharacterIds.push(t.id)}):this.characterService.getAllCharacters().subscribe(t=>{t.forEach(t=>{this.tierlist.unusedCharacterIds.push(t.id)})})}"Update"===n.action&&(this.previousTierlistName=this.inputData.name)}doAction(){this.dialogRef.close({event:this.inputData.action,data:this.tierlist,previousTierlistName:this.previousTierlistName})}closeDialog(){this.dialogRef.close({event:"Cancel"})}addTier(){this.addingTier=!0,this.tierNames.length=0,this.tierlist.tiers.forEach(t=>this.tierNames.push(t.name))}confirmAddTier(){if(this.checkTierNameValidity(this.addTierModel))this.duplicateTierName=!0;else{this.duplicateTierName=!1,this.addingTier=!1;const t=new lM;t.name=this.addTierModel,t.color=this.tierColor,this.tierColor=null,this.tierlist.tiers.push(t),this.tierForm.reset()}}cancelAddTier(){this.duplicateTierName=!1,this.addingTier=!1,this.tierForm.reset()}editTier(t){this.cancelAddTier(),this.editingTier=!0,this.tierInEdit=t,this.tierOriginalName=this.tierInEdit.name,this.editTierModel=this.tierInEdit.name,this.tierColor=t.color}removeTier(t){this.tierlist.unusedCharacterIds=this.tierlist.unusedCharacterIds.concat(t.characterIds),this.tierlist.tiers.splice(this.tierlist.tiers.indexOf(t),1)}confirmEditTier(){this.tierInEdit.name!==this.editTierModel&&this.checkTierNameValidity(this.editTierModel)?this.duplicateTierName=!0:(this.duplicateTierName=!1,this.editingTier=!1,this.tierInEdit.name=this.editTierModel,this.tierInEdit.color=this.tierColor,this.tierColor=null,this.tierForm.reset())}cancelEditTier(){this.duplicateTierName=!1,this.editingTier=!1,this.tierForm.reset()}checkTierNameValidity(t){return-1!==this.tierNames.indexOf(t)}moveDown(t){this.tierlist.tiers.length>1&&t<this.tierlist.tiers.length-1&&this.tierlist.tiers.splice(t+1,0,this.tierlist.tiers.splice(t,1)[0])}moveUp(t){this.tierlist.tiers.length>1&&t>0&&this.tierlist.tiers.splice(t-1,0,this.tierlist.tiers.splice(t,1)[0])}handleChangeComplete(t){this.tierColor=t.color.hex}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(JC),Ao(Cw,8))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-tiermaker"]],viewQuery:function(t,e){var n;1&t&&mc(rL,!0),2&t&&pc(n=_c())&&(e.tierForm=n.first)},decls:16,vars:7,consts:[["tiermakerForm","ngForm"],["mat-dialog-title",""],[3,"innerHTML"],["mat-dialog-content",""],[4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-dialog-actions",""],["mat-button","","matRipple","","mat-flat-button","","color","warn",3,"click"],["translate",""],["mat-button","","matRipple","",3,"disabled","click"],["appearance","outline","color","accent",1,"w-100"],["matInput","","name","name","required","",3,"ngModel","ngModelChange"],["matInput","","name","description",3,"ngModel","ngModelChange"],["class","tier border-second",4,"ngFor","ngForOf"],["dragula","CHARACTERS","style","width: 60%; display: flex; flex-direction: row; flex-wrap: wrap; min-height: 24px; min-width: 120px;",3,"dragulaModel","dragulaModelChange",4,"ngIf"],["tierForm","ngForm"],[4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"tier","border-second"],[1,"tier-name"],["dragula","CHARACTERS",1,"container",2,"width","60%","display","flex","flex-direction","row","flex-wrap","wrap","min-height","24px","min-width","120px",3,"dragulaModel","dragulaModelChange"],["class","character",4,"ngFor","ngForOf"],[2,"width","10%"],[3,"displayHorizontal","editClicked","removeClicked"],[2,"width","10%","display","flex","flex-direction","column"],["class","clickable","matRipple","","aria-hidden","false","aria-label","arrow up icon",3,"click",4,"ngIf"],["class","clickable","matRipple","","aria-hidden","false","aria-label","arrow down icon",3,"click",4,"ngIf"],[1,"character"],["width","32px","alt","Character icon",1,"img-fluid",3,"src"],["matRipple","","aria-hidden","false","aria-label","arrow up icon",1,"clickable",3,"click"],["matRipple","","aria-hidden","false","aria-label","arrow down icon",1,"clickable",3,"click"],["dragula","CHARACTERS",2,"width","60%","display","flex","flex-direction","row","flex-wrap","wrap","min-height","24px","min-width","120px",3,"dragulaModel","dragulaModelChange"],["mat-button","","matRipple","","mat-flat-button","","color","primary",3,"click"],["matInput","","name","aaa","required","",3,"ngModel","ngModelChange"],["color","#fff",3,"onChangeComplete"],[2,"margin-top","16px","margin-bottom","16px"],["mat-button","","matRipple","","mat-flat-button","","color","primary",3,"disabled","click"],["matInput","","name","bbb","required","",3,"ngModel","ngModelChange"],[1,"alert","alert-danger"]],template:function(t,e){if(1&t&&(No(0,"form",null,0),No(2,"h1",1),Bo(3,"span",2),tc(4,"translate"),Fo(),No(5,"div",3),Oo(6,mL,18,8,"div",4),Oo(7,gL,2,0,"ng-template",null,5,Sc),Fo(),No(9,"div",6),No(10,"button",7),qo("click",(function(){return e.closeDialog()})),No(11,"span",8),Da(12,"CANCEL"),Fo(),Fo(),No(13,"button",9),qo("click",(function(){return e.doAction()})),No(14,"span",8),Da(15),Fo(),Fo(),Fo(),Fo()),2&t){const t=Do(1),n=Do(8);_r(3),Mo("innerHTML",ec(4,5,"DIALOG-"+e.action+"-TIERLIST-TITLE"),Ji),_r(3),Mo("ngIf","Delete"!=e.action)("ngIfElse",n),_r(7),Mo("disabled",!t.form.valid||e.addingTier||e.editingTier),_r(2),Aa(e.action)}},directives:[tC,Kw,qx,Dw,Aw,Qh,Rw,OI,Q_,bS,tk,WS,hk,Hw,fC,Xw,Jx,Kh,bM,fT,Wk,nL],pipes:[_S,MP],styles:[".tier[_ngcontent-%COMP%]{flex-direction:row}.tier[_ngcontent-%COMP%], .tier-name[_ngcontent-%COMP%]{display:flex;align-items:center}.tier-name[_ngcontent-%COMP%]{width:20%;min-width:40px;word-break:break-word;align-self:stretch;justify-content:center;padding:12px}.character[_ngcontent-%COMP%]{color:#fff;margin:4px;cursor:move;display:flex;align-items:center}.example-list[_ngcontent-%COMP%]{min-width:60px;max-width:120px;min-height:24px;display:flex;flex-direction:row;border-radius:4px;overflow:hidden}.example-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:table-cell;padding:4px}.example-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.example-box-container[_ngcontent-%COMP%]{width:50pxx;height:70px}.example-box[_ngcontent-%COMP%]{width:50px;height:50px;border:1px solid #ccc;font-size:10pt;font-weight:700;color:rgba(0,0,0,.87);cursor:move;display:flex;justify-content:center;align-items:center;text-align:center;background:#fff;border-radius:4px;position:relative;z-index:1;transition:box-shadow .2s cubic-bezier(0,0,.2,1);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.example-box[_ngcontent-%COMP%]:active{opacity:.6}.cdk-drag-preview[_ngcontent-%COMP%], .example-box[_ngcontent-%COMP%]:active{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}button[_ngcontent-%COMP%]{margin-right:4px}.drag-custom-placeholder[_ngcontent-%COMP%]{width:5px;height:50px;background-color:#000}"]}),t})();function yL(t,e){if(1&t&&(No(0,"div",7),Bo(1,"img",8),tc(2,"idName"),Da(3),tc(4,"idName"),Fo()),2&t){const t=e.$implicit,n=Ko(2);_r(1),ta("src","data:image/jpg;base64,"+n.characterImages[ec(2,2,t)],er),_r(2),Ra(" ",ec(4,4,t)," ")}}function bL(t,e){if(1&t&&(No(0,"mat-card",2),No(1,"div",3),No(2,"h4",4),Da(3),Fo(),Fo(),No(4,"div",5),Oo(5,yL,5,6,"div",6),Fo(),Fo()),2&t){const t=e.$implicit;_r(1),fa("background-color",t.color),_r(2),Aa(t.name),_r(2),Mo("ngForOf",t.characterIds)}}function _L(t,e){if(1&t&&(No(0,"div",7),Bo(1,"img",8),tc(2,"idName"),Da(3),tc(4,"idName"),Fo()),2&t){const t=e.$implicit,n=Ko(2);_r(1),ta("src","data:image/jpg;base64,"+n.characterImages[ec(2,2,t)],er),_r(2),Ra(" ",ec(4,4,t)," ")}}function wL(t,e){if(1&t&&(No(0,"mat-card",2),No(1,"div",3),No(2,"h4",9),Da(3,"UNUSED-CHARACTERS"),Fo(),Fo(),No(4,"div",5),Oo(5,_L,5,6,"div",6),Fo(),Fo()),2&t){const t=Ko();_r(5),Mo("ngForOf",t.tierlist.unusedCharacterIds)}}let xL=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["app-tierlist"]],inputs:{tierlist:"tierlist",characterImages:"characterImages"},decls:2,vars:2,consts:[["class","mat-elevation-z4 tier",4,"ngFor","ngForOf"],["class","mat-elevation-z4 tier",4,"ngIf"],[1,"mat-elevation-z4","tier"],[1,"tier-name"],[2,"margin","12px"],[2,"flex-grow","1","display","flex","flex-wrap","wrap"],["class","character",4,"ngFor","ngForOf"],[1,"character"],["width","32px","alt","Character icon",1,"img-fluid",3,"src"],["translate","",2,"margin","12px"]],template:function(t,e){1&t&&(Oo(0,bL,6,4,"mat-card",0),Oo(1,wL,6,1,"mat-card",1)),2&t&&(Mo("ngForOf",e.tierlist.tiers),_r(1),Mo("ngIf",e.tierlist.unusedCharacterIds.length>0))},directives:[Kh,Qh,tT,bS],pipes:[MP],styles:["mat-card[_ngcontent-%COMP%]{margin:12px 16px!important;background-color:#becbd2}.tier[_ngcontent-%COMP%]{flex-direction:row;padding:0}.character[_ngcontent-%COMP%], .tier[_ngcontent-%COMP%]{display:flex;align-items:center}.character[_ngcontent-%COMP%]{margin:4px;font-size:1.5rem}.tier-name[_ngcontent-%COMP%]{width:30%;min-width:100px;max-width:200px;overflow-wrap:break-word;text-align:center;border-top-left-radius:4px;border-bottom-left-radius:4px}"]}),t})();function CL(t,e){if(1&t){const t=Ho();No(0,"div",10),No(1,"mat-form-field",11),No(2,"mat-label",4),Da(3,"INPUT-CHARACTER-NAME"),Fo(),No(4,"mat-icon",12),Da(5,"search"),Fo(),No(6,"input",13),qo("keyup",(function(e){return Je(t),Ko().applyFilter(e)})),Fo(),Fo(),Fo()}}function SL(t,e){if(1&t){const t=Ho();No(0,"mat-expansion-panel",16),qo("opened",(function(){Je(t);const n=e.$implicit;return Ko(2).panelOpened(n.name)}))("closed",(function(){Je(t);const n=e.$implicit;return Ko(2).panelClosed(n.name)})),No(1,"mat-expansion-panel-header"),No(2,"mat-panel-title"),Da(3),No(4,"app-edit-remove",17),qo("editClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).openTierlistDialog("Update",n)}))("removeClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).openTierlistDialog("Delete",n)})),Fo(),Fo(),No(5,"mat-panel-description"),Da(6),Fo(),Fo(),Bo(7,"app-tierlist",18),Fo()}if(2&t){const t=e.$implicit,n=Ko(2);Mo("expanded",n.openedTierlistNames.indexOf(t.name)>-1),_r(3),Ra(" ",t.name," "),_r(1),Mo("displayHorizontal",!0),_r(2),Ra(" ",t.description," "),_r(1),Mo("tierlist",t)("characterImages",n.characterImages)}}function kL(t,e){if(1&t&&(No(0,"mat-accordion",14),Oo(1,SL,8,6,"mat-expansion-panel",15),Fo()),2&t){const t=Ko();Mo("multi",!0),_r(1),Mo("ngForOf",t.filteredTierlists)}}function EL(t,e){1&t&&Bo(0,"app-empty-layout",19),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-TAB-TIERLIST")}function IL(t,e){1&t&&Bo(0,"app-empty-layout",19),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-FILTERED-TIERLIST-LIST")}function TL(t,e){if(1&t&&Oo(0,IL,1,3,"app-empty-layout",20),2&t){const t=Ko();Mo("ngIf",!t.filteredTierlists||0===t.filteredTierlists.length)}}let OL=(()=>{class t{constructor(t,e,n){this.dialog=t,this.tierlistService=e,this.characterService=n,this.tierlists=new Array,this.filteredTierlists=new Array,this.openedTierlistNames=new Array,this.characterImages={}}ngOnInit(){const t=this.characterService.getAllStoredCharacters();t?t.forEach(t=>{this.characterImages[t.name]=t.icon,this.refreshTierlists()}):this.characterService.getAllCharacters().subscribe(t=>{t.forEach(t=>{this.characterImages[t.name]=t.icon,this.refreshTierlists()})})}applyFilter(t){this.characterFilter=t.target.value.trim().toLowerCase(),this.filterTierlists()}openTierlistDialog(t,e){e.action=t,e.charactersImages=this.characterImages,this.dialog.open(vL,{width:"700px",data:e}).afterClosed().subscribe(t=>{"Add"===t.event?this.tierlistService.addTierlist(this.characterId,t.data).subscribe(()=>{this.refreshTierlists()}):"Update"===t.event?this.tierlistService.editTierlist(t.data.id,t.data).subscribe(()=>{this.refreshTierlists()}):"Delete"===t.event&&this.tierlistService.removeTierlist(t.data.id).subscribe(()=>{this.refreshTierlists()})})}refreshTierlists(){this.tierlistService.getAllTierlists(this.characterId).subscribe(t=>{t?(this.tierlists=t,this.filterTierlists()):(this.tierlists=[],this.filteredTierlists=[])})}filterTierlists(){this.filteredTierlists=JSON.parse(JSON.stringify(this.tierlists)),this.characterFilter&&(this.filteredTierlists.forEach(t=>{t.tiers.forEach(t=>{t.characterIds=t.characterIds.filter(t=>this.characterService.characterIdToCharacterName(t).toLowerCase().includes(this.characterFilter.toLowerCase()))}),t.tiers=t.tiers.filter(t=>t.characterIds.length>0)}),this.filteredTierlists=this.filteredTierlists.filter(t=>t.tiers.length>0))}panelOpened(t){this.openedTierlistNames.push(t)}panelClosed(t){this.openedTierlistNames=this.openedTierlistNames.filter(e=>e!==t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Iw),Ao(xT),Ao(JC))},t.\u0275cmp=ge({type:t,selectors:[["app-tierlists"]],inputs:{characterId:"characterId"},decls:13,vars:4,consts:[[1,"container-fluid"],[1,"row","justify-content-center",2,"margin-top","16px"],["appLogin","",1,"col-md-4","col-sm-6","flex-center"],["appLogin","","mat-raised-button","","color","primary",3,"click"],["translate",""],["class","col-md-8 col-sm-10",4,"ngIf"],[1,"col-md-12","col-sm-12"],["style","padding-top: 16px;",3,"multi",4,"ngIf"],[3,"iconFontSize","displayHorizontal","message",4,"ngIf","ngIfElse"],["otherEmptyTemplate",""],[1,"col-md-8","col-sm-10"],["appearance","outline","color","accent",1,"w-100"],["matSuffix",""],["matInput","",3,"keyup"],[2,"padding-top","16px",3,"multi"],[3,"expanded","opened","closed",4,"ngFor","ngForOf"],[3,"expanded","opened","closed"],[3,"displayHorizontal","editClicked","removeClicked"],[3,"tierlist","characterImages"],[3,"iconFontSize","displayHorizontal","message"],[3,"iconFontSize","displayHorizontal","message",4,"ngIf"]],template:function(t,e){if(1&t&&(No(0,"div",0),No(1,"div",1),No(2,"div",2),No(3,"button",3),qo("click",(function(){return e.openTierlistDialog("Add",{})})),No(4,"span",4),Da(5,"ADD-TIERLIST"),Fo(),Fo(),Fo(),Oo(6,CL,7,0,"div",5),Fo(),No(7,"div",1),No(8,"div",6),Oo(9,kL,2,2,"mat-accordion",7),Oo(10,EL,1,3,"app-empty-layout",8),Oo(11,TL,1,1,"ng-template",null,9,Sc),Fo(),Fo(),Fo()),2&t){const t=Do(12);_r(6),Mo("ngIf",e.tierlists&&e.tierlists.length>0),_r(3),Mo("ngIf",e.filteredTierlists&&e.filteredTierlists.length>0),_r(1),Mo("ngIf",!e.tierlists||0===e.tierlists.length)("ngIfElse",t)}},directives:[pT,OI,bS,Qh,tk,WS,Wk,XS,hk,xA,Kh,yA,bA,wA,fT,_A,xL,HO],styles:[".combo-list[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.description[_ngcontent-%COMP%]{margin-top:8px}.combo[_ngcontent-%COMP%]{margin:10px;min-width:20%}.working-percent[_ngcontent-%COMP%]{margin-top:16px}"]}),t})();function DL(t,e){1&t&&Bo(0,"app-character-icon",2),2&t&&Mo("base64Image",Ko(2).image2)}function AL(t,e){if(1&t&&(No(0,"div",1),Bo(1,"app-character-icon",2),No(2,"div"),Bo(3,"img",3),Fo(),Oo(4,DL,1,1,"app-character-icon",4),Fo()),2&t){const t=Ko();_r(1),Mo("base64Image",t.image1),_r(3),Mo("ngIf",t.image2)}}let RL=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["app-versus"]],inputs:{image1:"image1",image2:"image2"},decls:1,vars:1,consts:[["style","display: flex; flex-direction: row; justify-content: center; align-items: center;",4,"ngIf"],[2,"display","flex","flex-direction","row","justify-content","center","align-items","center"],[3,"base64Image"],["src","../../assets/images/vs.png",2,"width","80px"],[3,"base64Image",4,"ngIf"]],template:function(t,e){1&t&&Oo(0,AL,5,2,"div",0),2&t&&Mo("ngIf",e.image1)},directives:[Qh,NT],styles:[""]}),t})();const PL=["mainText"];function ML(t,e){1&t&&(No(0,"div",7),No(1,"h1",8),Da(2,"START-MATCH"),Fo(),Fo())}function LL(t,e){1&t&&(No(0,"h3"),No(1,"span",8),Da(2,"MATCH-SELECT-FIRST-CHARACTER"),Fo(),Fo())}function NL(t,e){1&t&&(No(0,"h3"),No(1,"span",8),Da(2,"MATCH-SELECT-SECOND-CHARACTER"),Fo(),Fo())}function FL(t,e){1&t&&Bo(0,"app-versus",13)}function BL(t,e){1&t&&Bo(0,"app-versus",13),2&t&&Mo("image1",Ko(2).firstCharacter.icon)}function VL(t,e){if(1&t&&Bo(0,"app-versus",13),2&t){const t=Ko(2);Mo("image1",t.firstCharacter.icon)("image2",t.secondCharacter.icon)}}function zL(t,e){if(1&t){const t=Ho();No(0,"button",14),qo("click",(function(){return Je(t),Ko(2).launchMatchAnimation()})),No(1,"span",8),Da(2,"CONFIRM"),Fo(),Fo()}}function jL(t,e){if(1&t&&(No(0,"div",7,9),Oo(2,LL,3,0,"h3",10),Oo(3,NL,3,0,"h3",10),Oo(4,FL,1,0,"app-versus",11),Oo(5,BL,1,1,"app-versus",11),Oo(6,VL,1,2,"app-versus",11),No(7,"div"),Oo(8,zL,3,0,"button",12),Fo(),Fo()),2&t){const t=Ko();_r(2),Mo("ngIf",t.choosingFirstCharacter),_r(1),Mo("ngIf",t.choosingSecondCharacter),_r(1),Mo("ngIf",!t.firstCharacter),_r(1),Mo("ngIf",t.firstCharacter&&!t.secondCharacter),_r(1),Mo("ngIf",t.secondCharacter),_r(2),Mo("ngIf",t.firstCharacter&&t.secondCharacter)}}function HL(t,e){if(1&t){const t=Ho();No(0,"div",15),No(1,"mat-form-field",16),No(2,"mat-label",8),Da(3,"INPUT-CHARACTER-NAME"),Fo(),No(4,"input",17),qo("keyup",(function(e){return Je(t),Ko().applyFilter(e)})),Fo(),No(5,"mat-icon",18),Da(6,"search"),Fo(),Fo(),Fo()}}function UL(t,e){if(1&t){const t=Ho();No(0,"div",19),No(1,"mat-card",20),No(2,"div",21),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().selectCharacter(n)})),No(3,"div",22),Da(4),Fo(),Fo(),Fo(),Fo()}if(2&t){const t=e.$implicit;_r(4),Ra(" ",t.name," ")}}function $L(t,e){1&t&&Bo(0,"app-empty-layout",23),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-CHARACTER-LIST")}function qL(t,e){1&t&&Bo(0,"app-empty-layout",23),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-FILTERED-CHARACTER-LIST")}function WL(t,e){if(1&t&&Oo(0,qL,1,3,"app-empty-layout",24),2&t){const t=Ko();Mo("ngIf",!t.filteredCharacters||0===t.filteredCharacters.length)}}let GL=(()=>{class t{constructor(t){this.characterService=t,this.charactersSelected=new nc,this.choosingFirstCharacter=!0}ngOnInit(){const t=this.characterService.getAllStoredCharacters();t?(this.characters=t,this.filteredCharacters=this.characters.map(t=>Object.assign({},t))):this.characterService.getAllCharacters().subscribe(t=>{this.characters=t,this.filteredCharacters=this.characters.map(t=>Object.assign({},t))}),this.blockFirstCharacterSelection&&(this.choosingFirstCharacter=!1,this.choosingSecondCharacter=!0)}applyFilter(t){const e=t.target.value.toLocaleLowerCase();this.filteredCharacters.length=0,this.characters.forEach(t=>{t.name.toLocaleLowerCase().includes(e)&&this.filteredCharacters.push(t)})}selectCharacter(t){this.mainText.nativeElement.scrollIntoView({behavior:"smooth",block:"start"}),this.choosingFirstCharacter?(this.choosingFirstCharacter=!1,this.choosingSecondCharacter=!0,this.firstCharacter=t):this.choosingSecondCharacter&&(this.blockFirstCharacterSelection||(this.choosingFirstCharacter=!0,this.choosingSecondCharacter=!1),this.secondCharacter=t)}launchMatchAnimation(){console.log(this.firstCharacter),console.log(this.secondCharacter),this.charactersSelected.emit([this.firstCharacter,this.secondCharacter])}}return t.\u0275fac=function(e){return new(e||t)(Ao(JC))},t.\u0275cmp=ge({type:t,selectors:[["app-start-match"]],viewQuery:function(t,e){var n;1&t&&mc(PL,!0),2&t&&pc(n=_c())&&(e.mainText=n.first)},inputs:{blockFirstCharacterSelection:"blockFirstCharacterSelection",characters:"characters",firstCharacter:"firstCharacter"},outputs:{charactersSelected:"charactersSelected"},decls:9,vars:6,consts:[[2,"display","flex","flex-direction","column"],["class","main-text",4,"ngIf"],["class","filter-bar",4,"ngIf"],[1,"character-list"],["class","character-card",4,"ngFor","ngForOf"],["class","col-md-12",3,"iconFontSize","displayHorizontal","message",4,"ngIf","ngIfElse"],["otherEmptyTemplate",""],[1,"main-text"],["translate",""],["mainText",""],[4,"ngIf"],[3,"image1","image2",4,"ngIf"],["mat-button","","mat-flat-button","","color","primary",3,"click",4,"ngIf"],[3,"image1","image2"],["mat-button","","mat-flat-button","","color","primary",3,"click"],[1,"filter-bar"],["appearance","outline","color","accent",1,"w-100"],["matInput","",3,"keyup"],["matSuffix",""],[1,"character-card"],[1,"mat-elevation-z4"],[1,"character-div",3,"click"],[1,"character-text"],[1,"col-md-12",3,"iconFontSize","displayHorizontal","message"],["class","col-md-12",3,"iconFontSize","displayHorizontal","message",4,"ngIf"]],template:function(t,e){if(1&t&&(No(0,"div",0),Oo(1,ML,3,0,"div",1),Oo(2,jL,9,6,"div",1),Oo(3,HL,7,0,"div",2),No(4,"div",3),Oo(5,UL,5,1,"div",4),Fo(),Oo(6,$L,1,3,"app-empty-layout",5),Oo(7,WL,1,1,"ng-template",null,6,Sc),Fo()),2&t){const t=Do(8);_r(1),Mo("ngIf",!e.blockFirstCharacterSelection),_r(1),Mo("ngIf",e.characters&&e.characters.length>0),_r(1),Mo("ngIf",e.characters&&e.characters.length>0),_r(2),Mo("ngForOf",e.filteredCharacters),_r(1),Mo("ngIf",!e.characters||0===e.characters.length)("ngIfElse",t)}},directives:[Qh,Kh,bS,RL,OI,tk,WS,hk,Wk,XS,tT,HO],styles:[".main-text[_ngcontent-%COMP%]{text-align:center;margin-top:15px}.filter-bar[_ngcontent-%COMP%]{align-items:center;margin-left:10%;width:80%}.character-list[_ngcontent-%COMP%], .filter-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.character-list[_ngcontent-%COMP%]{flex-wrap:wrap}.character-text[_ngcontent-%COMP%]{font-size:40px}.character-div[_ngcontent-%COMP%]{height:150px;background-size:contain;background-repeat:no-repeat;display:flex;justify-content:center;align-items:center}.mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);background-color:#5e5e5e}.character-card[_ngcontent-%COMP%]{margin:1%;cursor:pointer;max-width:400px}@media only screen and (max-width:600px){.character-card[_ngcontent-%COMP%]{width:90%}}@media only screen and (min-width:600px){.character-card[_ngcontent-%COMP%]{width:90%}}@media only screen and (min-width:768px){.character-card[_ngcontent-%COMP%]{width:70%}}@media only screen and (min-width:992px){.character-card[_ngcontent-%COMP%]{width:50%}}@media only screen and (min-width:1200px){.character-card[_ngcontent-%COMP%]{width:30%}}"]}),t})();const YL=["divAnimation"],XL=["vsImage"],KL=["charOneImage"],ZL=["charTwoImage"];let QL=(()=>{class t{constructor(t,e){this.cdref=t,this.sanitizer=e,this.dataLoaded=new nc,this.isHere=!1}ngAfterViewChecked(){this.aaa=setTimeout(()=>this.refreshHeight(),1e3),setTimeout(()=>this.dataLoaded.emit(null),1e4),this.imagePath1=this.sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+this.character1.image),this.imagePath2=this.sanitizer.bypassSecurityTrustResourceUrl("data:image/jpg;base64,"+this.character2.image),this.cdref.detectChanges()}onResize(t){this.refreshHeight()}refreshHeight(){const t=this.divAnimation.nativeElement.offsetHeight;console.log(this.divAnimation),this.charOneImageTop=t/2-this.charOneImage.nativeElement.offsetHeight/2,this.charTwoImageTop=t/2-this.charTwoImage.nativeElement.offsetHeight/2,this.vsImageTop=t/2-this.vsImage.nativeElement.offsetHeight/2}onCharEnterEvent(t){this.isHere=!this.isHere}}return t.\u0275fac=function(e){return new(e||t)(Ao(Xs),Ao(Wu))},t.\u0275cmp=ge({type:t,selectors:[["app-loading-match"]],viewQuery:function(t,e){var n;1&t&&(fc(YL,!0),fc(XL,!0),fc(KL,!0),fc(ZL,!0)),2&t&&(pc(n=_c())&&(e.divAnimation=n.first),pc(n=_c())&&(e.vsImage=n.first),pc(n=_c())&&(e.charOneImage=n.first),pc(n=_c())&&(e.charTwoImage=n.first))},hostBindings:function(t,e){1&t&&qo("resize",(function(t){return e.onResize(t)}),!1,qn)},inputs:{character1:"character1",character2:"character2"},outputs:{dataLoaded:"dataLoaded"},decls:9,vars:8,consts:[[1,"component"],["divAnimation",""],["src","../../assets/images/1v1.jpg",2,"width","100%","position","relative","top","0","left","0","z-index","0"],["src","../../assets/images/vs.png",1,"animationVs",2,"width","20%","position","absolute","left","40%","z-index","1"],["vsImage",""],[1,"animation",2,"width","30%","position","absolute","left","10%","z-index","1","filter","brightness(0)",3,"src"],["charOneImage",""],[1,"animation",2,"width","30%","position","absolute","left","60%","z-index","1","filter","brightness(0)",3,"src"],["charTwoImage",""]],template:function(t,e){1&t&&(No(0,"div",0,1),Bo(2,"img",2),Bo(3,"img",3,4),Bo(5,"img",5,6),Bo(7,"img",7,8),Fo()),2&t&&(_r(3),fa("top",e.vsImageTop+"px"),_r(2),fa("top",e.charOneImageTop+"px"),Mo("src",e.imagePath1,er),_r(2),fa("top",e.charTwoImageTop+"px"),Mo("src",e.imagePath2,er))},styles:[".component[_ngcontent-%COMP%]{background-color:#282828}.animation[_ngcontent-%COMP%]{-webkit-animation:appear 4s linear 2s forwards,shake .82s cubic-bezier(.36,.07,.19,.97) 5;animation:appear 4s linear 2s forwards,shake .82s cubic-bezier(.36,.07,.19,.97) 5}.animationVs[_ngcontent-%COMP%]{-webkit-animation:shake .7s cubic-bezier(.36,.07,.19,.97) infinite;animation:shake .7s cubic-bezier(.36,.07,.19,.97) infinite}@-webkit-keyframes shake{10%,90%{transform:translate3d(-1px,-1px,0)}20%,80%{transform:translate3d(2px,1px,0)}30%,50%,70%{transform:translate3d(-4px,-3px,0)}40%,60%{transform:translate3d(4px,-2px,0)}}@keyframes shake{10%,90%{transform:translate3d(-1px,-1px,0)}20%,80%{transform:translate3d(2px,1px,0)}30%,50%,70%{transform:translate3d(-4px,-3px,0)}40%,60%{transform:translate3d(4px,-2px,0)}}@-webkit-keyframes appear{0%{-webkit-filter:brightness(0);filter:brightness(0)}to{-webkit-filter:brightness(1);filter:brightness(1)}}@keyframes appear{0%{-webkit-filter:brightness(0);filter:brightness(0)}to{-webkit-filter:brightness(1);filter:brightness(1)}}"],data:{animation:[Nm("openClose",[jm("open",zm({transform:"rotate(360deg)"})),jm("closed",zm({transform:"rotate(-360deg)"})),Um("* => *",[Fm("1s")])]),Nm("charEnter",[jm("not-here",zm({transform:"translateX(0)",opacity:0})),jm("here",zm({transform:"translateX(0)",opacity:1})),Um("* <=> *",[Fm("4s ease-out")])])]}}),t})();function JL(t,e){1&t&&(No(0,"div",19),Bo(1,"app-empty-layout",20),Fo()),2&t&&(_r(1),Mo("iconFontSize","40")("displayHorizontal",!0)("message","EMPTY-ADVANTAGES")("hideBackground",!0))}function tN(t,e){1&t&&Bo(0,"mat-divider",25)}function eN(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"div",22),No(2,"div",19),Da(3),Fo(),No(4,"app-edit-remove",23),qo("editClicked",(function(){Je(t);const n=e.$implicit,i=Ko(3);return i.openInformationDialog("Update",i.InformationType.ADVANTAGE,n)}))("removeClicked",(function(){Je(t);const n=e.$implicit,i=Ko(3);return i.openInformationDialog("Delete",i.InformationType.ADVANTAGE,n)})),Fo(),Fo(),Oo(5,tN,1,0,"mat-divider",24),Fo()}if(2&t){const t=e.$implicit,n=e.last;_r(3),Aa(t.description),_r(1),Mo("displayHorizontal",!0),_r(1),Mo("ngIf",!n)}}function nN(t,e){1&t&&Oo(0,eN,6,3,"div",21),2&t&&Mo("ngForOf",Ko(2).advantages)}function iN(t,e){1&t&&(No(0,"div",19),Bo(1,"app-empty-layout",20),Fo()),2&t&&(_r(1),Mo("iconFontSize","40")("displayHorizontal",!0)("message","EMPTY-DISADVANTAGES")("hideBackground",!0))}function rN(t,e){1&t&&Bo(0,"mat-divider")}function sN(t,e){if(1&t){const t=Ho();No(0,"div"),No(1,"div",22),No(2,"div",19),Da(3),Fo(),No(4,"app-edit-remove",23),qo("editClicked",(function(){Je(t);const n=e.$implicit,i=Ko(3);return i.openInformationDialog("Update",i.InformationType.DISADVANTAGE,n)}))("removeClicked",(function(){Je(t);const n=e.$implicit,i=Ko(3);return i.openInformationDialog("Delete",i.InformationType.DISADVANTAGE,n)})),Fo(),Fo(),Oo(5,rN,1,0,"mat-divider",26),Fo()}if(2&t){const t=e.$implicit,n=e.last;_r(3),Aa(t.description),_r(1),Mo("displayHorizontal",!0),_r(1),Mo("ngIf",!n)}}function oN(t,e){1&t&&Oo(0,sN,6,3,"div",21),2&t&&Mo("ngForOf",Ko(2).disadvantages)}function aN(t,e){if(1&t&&(No(0,"div",33),No(1,"div",5),Da(2,"WITH-RAGE-0"),Fo(),Bo(3,"div",34),No(4,"div",35),Da(5),Fo(),Fo()),2&t){const t=Ko().$implicit;_r(5),Ra("",t.confirmDetailsDtos[0].killPercentRage0,"%")}}function lN(t,e){if(1&t&&(No(0,"div",33),No(1,"div",5),Da(2,"WITH-RAGE-50"),Fo(),Bo(3,"div",34),No(4,"div",35),Da(5),Fo(),Fo()),2&t){const t=Ko().$implicit;_r(5),Ra("",t.confirmDetailsDtos[0].killPercentRage50,"%")}}function cN(t,e){if(1&t&&(No(0,"div",33),No(1,"div",5),Da(2,"WITH-RAGE-100"),Fo(),Bo(3,"div",34),No(4,"div",35),Da(5),Fo(),Fo()),2&t){const t=Ko().$implicit;_r(5),Ra("",t.confirmDetailsDtos[0].killPercentRage100,"%")}}function hN(t,e){if(1&t&&(No(0,"div",33),No(1,"div",5),Da(2,"WITH-RAGE-150"),Fo(),Bo(3,"div",34),No(4,"div",35),Da(5),Fo(),Fo()),2&t){const t=Ko().$implicit;_r(5),Ra("",t.confirmDetailsDtos[0].killPercentRage150,"%")}}function uN(t,e){if(1&t&&(No(0,"div",27),No(1,"mat-card",8),No(2,"div",28),No(3,"mat-icon",29),Da(4,"check"),Fo(),Da(5),Fo(),No(6,"div",30),Da(7),Fo(),Oo(8,aN,6,1,"div",31),Oo(9,lN,6,1,"div",31),Oo(10,cN,6,1,"div",31),Oo(11,hN,6,1,"div",31),No(12,"div",32),Da(13),Fo(),Fo(),Fo()),2&t){const t=e.$implicit;_r(5),Ra(" ",t.name," "),_r(2),Ra(" ",t.description," "),_r(1),Mo("ngIf",t.confirmDetailsDtos[0].killPercentRage0>-1),_r(1),Mo("ngIf",t.confirmDetailsDtos[0].killPercentRage50>-1),_r(1),Mo("ngIf",t.confirmDetailsDtos[0].killPercentRage100>-1),_r(1),Mo("ngIf",t.confirmDetailsDtos[0].killPercentRage150>-1),_r(2),Ra(" ",t.comment," ")}}function dN(t,e){1&t&&Bo(0,"app-empty-layout",36),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-MATCHUP-CONFIRMS")}function pN(t,e){if(1&t&&(No(0,"div",27),No(1,"mat-card",8),No(2,"div",28),No(3,"mat-icon",29),Da(4,"list_alt"),Fo(),Da(5),Fo(),No(6,"div",30),Da(7),Fo(),No(8,"div"),No(9,"span",5),Da(10,"TIER"),Fo(),No(11,"span",37),Da(12),Fo(),Fo(),Fo(),Fo()),2&t){const t=e.$implicit;_r(5),Ra(" ",t.name," "),_r(2),Ra(" ",t.description," "),_r(5),Aa(t.tiers[0].name)}}function fN(t,e){1&t&&Bo(0,"app-empty-layout",36),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-MATCHUP-TIERLISTS")}function mN(t,e){if(1&t){const t=Ho();No(0,"div",1),No(1,"div",2),Bo(2,"app-versus",3),No(3,"button",4),qo("click",(function(){return Je(t),Ko().changeCharacters()})),No(4,"span",5),Da(5,"CHANGE-MATCHUP-CHARACTERS"),Fo(),Fo(),Fo(),No(6,"div",6),No(7,"div",7),No(8,"mat-card",8),No(9,"div",9),Da(10," ADVANTAGES "),Fo(),Oo(11,JL,2,4,"div",10),Oo(12,nN,1,1,"ng-template",null,11,Sc),No(14,"button",12),qo("click",(function(){Je(t);const e=Ko();return e.openInformationDialog("Add",e.InformationType.ADVANTAGE,{})})),No(15,"span",5),Da(16,"ADD-ADVANTAGE"),Fo(),Fo(),Fo(),Fo(),No(17,"div",7),No(18,"mat-card",8),No(19,"div",13),Da(20," DISADVANTAGES "),Fo(),Oo(21,iN,2,4,"div",10),Oo(22,oN,1,1,"ng-template",null,14,Sc),No(24,"button",15),qo("click",(function(){Je(t);const e=Ko();return e.openInformationDialog("Add",e.InformationType.DISADVANTAGE,{})})),No(25,"span",5),Da(26,"ADD-DISADVANTAGE"),Fo(),Fo(),Fo(),Fo(),Fo(),No(27,"h2",16),Da(28,"CONFIRMS"),Fo(),No(29,"div",6),Oo(30,uN,14,7,"div",17),Oo(31,dN,1,3,"app-empty-layout",18),Fo(),No(32,"h2",16),Da(33,"TIERLISTS"),Fo(),No(34,"div",6),Oo(35,pN,13,3,"div",17),Oo(36,fN,1,3,"app-empty-layout",18),Fo(),Fo()}if(2&t){const t=Do(13),e=Do(23),n=Ko();_r(2),Mo("image1",n.firstCharacter.icon)("image2",n.secondCharacter.icon),_r(9),Mo("ngIf",0===n.advantages.length)("ngIfElse",t),_r(10),Mo("ngIf",0===n.disadvantages.length)("ngIfElse",e),_r(9),Mo("ngForOf",n.confirms),_r(1),Mo("ngIf",!n.confirms||0===n.confirms.length),_r(4),Mo("ngForOf",n.tierlists),_r(1),Mo("ngIf",!n.tierlists||0===n.tierlists.length)}}let gN=(()=>{class t{constructor(t,e,n,i){this.dialog=t,this.informationService=e,this.confirmService=n,this.tierlistService=i,this.changeMatchupCharacters=new nc,this.advantages=new Array,this.disadvantages=new Array,this.InformationType=yT,this.loading=!0}ngOnInit(){this.confirmService.getConfirmsByCharacterId(this.firstCharacter.id).subscribe(t=>{this.confirms=t,this.filterDataConfirms()}),this.tierlistService.getAllTierlists(this.secondCharacter.id).subscribe(t=>{this.tierlists=t,this.filterDataTierlists()}),this.getInformations()}getInformations(){this.informationService.getInformationByCharacterIdAndTargetId(this.firstCharacter.id,this.secondCharacter.id).subscribe(t=>{this.filterInformations(t),this.loading=!1},()=>{this.loading=!1})}openInformationDialog(t,e,n){n.action=t,n.informationType=e,this.dialog.open(wT,{width:"400px",data:n}).afterClosed().subscribe(t=>{"Add"===t.event?(t.data.targetId=this.secondCharacter.id,this.informationService.addInformation(this.firstCharacter.id,t.data).subscribe(()=>{this.getInformations()})):"Update"===t.event?this.informationService.editInformationById(t.data,t.data.id).subscribe(()=>{this.getInformations()}):"Delete"===t.event&&this.informationService.removeInformation(t.data.id).subscribe(t=>{this.getInformations()})})}filterDataConfirms(){this.confirms&&(this.confirms.forEach(t=>{let e;for(const n of t.confirmDetailsDtos)if(this.secondCharacter.id===n.targetId){e=n;break}t.confirmDetailsDtos=e?[e]:null}),this.confirms=this.confirms.filter(t=>null!==t.confirmDetailsDtos))}filterDataTierlists(){this.tierlists&&(this.tierlists.forEach(t=>{let e;for(const n of t.tiers)if(n.characterIds.indexOf(this.secondCharacter.id)>-1){e=n;break}t.tiers=e?[e]:null}),this.tierlists=this.tierlists.filter(t=>null!==t.tiers))}filterInformations(t){this.advantages=new Array,this.disadvantages=new Array,t&&t.forEach(t=>{t.informationType===yT[yT.ADVANTAGE]?this.advantages.push(t):t.informationType===yT[yT.DISADVANTAGE]&&this.disadvantages.push(t)})}changeCharacters(){this.changeMatchupCharacters.emit()}}return t.\u0275fac=function(e){return new(e||t)(Ao(Iw),Ao(CT),Ao(QD),Ao(xT))},t.\u0275cmp=ge({type:t,selectors:[["app-match-in-progress"]],inputs:{firstCharacter:"firstCharacter",secondCharacter:"secondCharacter"},outputs:{changeMatchupCharacters:"changeMatchupCharacters"},decls:1,vars:1,consts:[["class","container","style","margin-bottom: 40px;",4,"appLoading"],[1,"container",2,"margin-bottom","40px"],[2,"margin-top","16px","margin-bottom","16px","text-align","center"],[3,"image1","image2"],["mat-stroked-button","",2,"margin-top","16px",3,"click"],["translate",""],[1,"row","justify-content-center"],[1,"col-md-5"],[1,"mat-elevation-z4"],["translate","",1,"vantage-header",2,"color","#3ab54a"],["class","vantage-text",4,"ngIf","ngIfElse"],["advantagesList",""],["mat-raised-button","","appLogin","","color","primary",2,"margin-top","16px",3,"click"],["translate","",1,"vantage-header",2,"color","red"],["disadvantagesList",""],["mat-raised-button","","color","primary","appLogin","",2,"margin-top","16px",3,"click"],["translate","",1,"category-header"],["class","col-md-4",4,"ngFor","ngForOf"],["class","col-md-8",3,"iconFontSize","displayHorizontal","message",4,"ngIf"],[1,"vantage-text"],[3,"iconFontSize","displayHorizontal","message","hideBackground"],[4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","row"],[3,"displayHorizontal","editClicked","removeClicked"],["style","border-top-color: transparent !important;",4,"ngIf"],[2,"border-top-color","transparent !important"],[4,"ngIf"],[1,"col-md-4"],[2,"display","flex","align-items","center","margin-bottom","8px","font-size","1.5rem"],[1,"tab-icon"],[2,"margin-bottom","8px","font-size","1.2rem"],["class","rage-container",4,"ngIf"],[2,"margin-top","8px","font-size","1.2rem"],[1,"rage-container"],[2,"flex-grow","1"],[1,"percent-info"],[1,"col-md-8",3,"iconFontSize","displayHorizontal","message"],[1,"tier-name"]],template:function(t,e){1&t&&Oo(0,mN,37,10,"div",0),2&t&&Mo("appLoading",e.loading)},directives:[LT,RL,OI,bS,tT,Qh,pT,Kh,HO,fT,FT,Wk],styles:[".category-header[_ngcontent-%COMP%]{text-align:center;padding-top:2vh;color:#ffab40}.tab-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:3.2 rem}.card-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}.vantage-header[_ngcontent-%COMP%]{top:10%;right:5%;font-size:1.5rem;font-weight:500;margin-bottom:8px}.vantage-text[_ngcontent-%COMP%]{margin-left:16px;font-weight:500}mat-divider[_ngcontent-%COMP%]{margin-left:5%;margin-top:8px;margin-bottom:8px;width:90%!important;position:relative!important;border-top-width:1px;border-top-color:hsla(0,0%,100%,.3)}.rage-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.percent-info[_ngcontent-%COMP%], .tier-name[_ngcontent-%COMP%]{color:#ffab40}"]}),t})();function vN(t,e){if(1&t){const t=Ho();No(0,"app-start-match",3),qo("charactersSelected",(function(e){return Je(t),Ko().onCharactersSelected(e)})),Fo()}if(2&t){const t=Ko();Mo("characters",t.characters)("firstCharacter",t.firstCharacter)("blockFirstCharacterSelection",t.blockFirstCharacterSelection)}}function yN(t,e){if(1&t){const t=Ho();No(0,"app-loading-match",4),qo("dataLoaded",(function(){return Je(t),Ko().onDataLoaded()})),Fo()}if(2&t){const t=Ko();Mo("character1",t.loadingCharacterDto1)("character2",t.loadingCharacterDto2)}}function bN(t,e){if(1&t){const t=Ho();No(0,"app-match-in-progress",5),qo("changeMatchupCharacters",(function(){return Je(t),Ko().onChangeMatchupCharacters()})),Fo()}if(2&t){const t=Ko();Mo("firstCharacter",t.firstCharacter)("secondCharacter",t.secondCharacter)}}var _N=function(t){return t[t.START=0]="START",t[t.LOADING=1]="LOADING",t[t.IN_PROGRESS=2]="IN_PROGRESS",t}({});let wN=(()=>{class t{constructor(t,e,n){this.route=t,this.location=e,this.characterService=n,this.MatchState=_N,this.matchState=_N.START}ngOnInit(){const t=this.route.snapshot.paramMap.get("char1"),e=this.route.snapshot.paramMap.get("char2");if(t&&e)this.characterService.getCharacterByName(t).subscribe(t=>{this.characterService.getCharacterByName(e).subscribe(e=>{this.onCharactersSelected([t,e])})});else{console.log(this.firstCharacter),this.firstCharacter&&(this.blockFirstCharacterSelection=!0),console.log(this.blockFirstCharacterSelection);const t=this.characterService.getAllStoredCharacters();t?this.characters=t:this.characterService.getAllCharacters().subscribe(t=>this.characters=t)}}onCharactersSelected(t){this.firstCharacter=t[0],this.secondCharacter=t[1],this.blockFirstCharacterSelection||this.location.go("match/"+this.firstCharacter.name+"/"+this.secondCharacter.name),this.matchState=_N.IN_PROGRESS}onDataLoaded(){this.matchState=_N.IN_PROGRESS}onChangeMatchupCharacters(){this.blockFirstCharacterSelection||this.location.go("match"),this.matchState=_N.START}}return t.\u0275fac=function(e){return new(e||t)(Ao(nf),Ao(jh),Ao(JC))},t.\u0275cmp=ge({type:t,selectors:[["app-match"]],inputs:{firstCharacter:"firstCharacter"},decls:3,vars:3,consts:[[3,"characters","firstCharacter","blockFirstCharacterSelection","charactersSelected",4,"ngIf"],[3,"character1","character2","dataLoaded",4,"ngIf"],[3,"firstCharacter","secondCharacter","changeMatchupCharacters",4,"ngIf"],[3,"characters","firstCharacter","blockFirstCharacterSelection","charactersSelected"],[3,"character1","character2","dataLoaded"],[3,"firstCharacter","secondCharacter","changeMatchupCharacters"]],template:function(t,e){1&t&&(Oo(0,vN,1,3,"app-start-match",0),Oo(1,yN,1,2,"app-loading-match",1),Oo(2,bN,1,2,"app-match-in-progress",2)),2&t&&(Mo("ngIf",e.characters&&e.matchState===e.MatchState.START),_r(1),Mo("ngIf",e.characters&&e.matchState===e.MatchState.LOADING),_r(1),Mo("ngIf",e.matchState===e.MatchState.IN_PROGRESS))},directives:[Qh,GL,QL,gN],styles:[""]}),t})();function xN(t,e){1&t&&Bo(0,"div",29),2&t&&Mo("ngClass","difficulty-bar difficulty-bar-"+Ko(2).character.skillRating)}function CN(t,e){1&t&&Bo(0,"div",30)}function SN(t,e){if(1&t){const t=Ho();No(0,"div",31),No(1,"div"),Da(2),Fo(),No(3,"div"),No(4,"app-edit-remove",32),qo("editClicked",(function(){Je(t);const n=e.$implicit,i=Ko(2);return i.openInformationDialog("Update",i.informationType.PRO,n)}))("removeClicked",(function(){Je(t);const n=e.$implicit,i=Ko(2);return i.openInformationDialog("Delete",i.informationType.PRO,n)})),Fo(),Fo(),Fo()}if(2&t){const t=e.$implicit;_r(2),Ra(" ",t.description," "),_r(2),Mo("displayHorizontal",!0)}}function kN(t,e){1&t&&Bo(0,"app-empty-layout",33),2&t&&Mo("iconFontSize","40")("displayHorizontal",!0)("message","EMPTY-PRO")("hideBackground",!0)}function EN(t,e){if(1&t){const t=Ho();No(0,"div",31),No(1,"div"),Da(2),Fo(),No(3,"div"),No(4,"app-edit-remove",32),qo("editClicked",(function(){Je(t);const n=e.$implicit,i=Ko(2);return i.openInformationDialog("Update",i.informationType.CON,n)}))("removeClicked",(function(){Je(t);const n=e.$implicit,i=Ko(2);return i.openInformationDialog("Delete",i.informationType.CON,n)})),Fo(),Fo(),Fo()}if(2&t){const t=e.$implicit;_r(2),Ra(" ",t.description," "),_r(2),Mo("displayHorizontal",!0)}}function IN(t,e){1&t&&Bo(0,"app-empty-layout",33),2&t&&Mo("iconFontSize","40")("displayHorizontal",!0)("message","EMPTY-CON")("hideBackground",!0)}function TN(t,e){1&t&&(No(0,"span",5),Da(1,"CHARACTER-TAB-BEST-MOVES"),Fo())}function ON(t,e){1&t&&(No(0,"span",5),Da(1,"CHARACTER-TAB-COMBOS"),Fo())}function DN(t,e){1&t&&(No(0,"span",5),Da(1,"CHARACTER-TAB-CONFIRMS"),Fo())}function AN(t,e){1&t&&(No(0,"span",5),Da(1,"CHARACTER-TAB-TIERLISTS"),Fo())}function RN(t,e){1&t&&(No(0,"span",5),Da(1,"MATCHUP"),Fo())}const PN=function(){return[]};function MN(t,e){if(1&t){const t=Ho();No(0,"div",1),No(1,"div",2),Bo(2,"app-character-icon",3),Fo(),No(3,"div",2),No(4,"h1"),Da(5),Fo(),Fo(),No(6,"div",4),No(7,"span",5),Da(8,"DIFFICULTY"),Fo(),Da(9," \xa0 "),Bo(10,"span",6),tc(11,"translate"),Fo(),No(12,"div",7),Oo(13,xN,1,1,"div",8),Oo(14,CN,1,0,"div",9),Fo(),No(15,"div",2),No(16,"div",10),No(17,"mat-card",11),No(18,"mat-card-content",12),No(19,"div",13),No(20,"div"),Bo(21,"img",14),Fo(),No(22,"div"),No(23,"div",15),No(24,"span",16),Da(25,"CHARACTER-PROS"),Fo(),Fo(),No(26,"div",17),Oo(27,SN,5,2,"div",18),Oo(28,kN,1,4,"app-empty-layout",19),Fo(),Fo(),Fo(),Bo(29,"mat-divider"),No(30,"div",13),No(31,"div"),Bo(32,"img",20),Fo(),No(33,"div"),No(34,"div",15),No(35,"span",21),Da(36,"CHARACTER-CONS"),Fo(),Fo(),No(37,"div",17),Oo(38,EN,5,2,"div",18),Oo(39,IN,1,4,"app-empty-layout",19),Fo(),Fo(),Fo(),Fo(),Fo(),Fo(),Fo(),No(40,"div",2),No(41,"div",22),No(42,"button",23),qo("click",(function(){Je(t);const e=Ko();return e.openInformationDialog("Add",e.informationType.PRO,{})})),No(43,"span",5),Da(44,"ADD-PRO"),Fo(),Fo(),Fo(),No(45,"div",22),No(46,"button",23),qo("click",(function(){Je(t);const e=Ko();return e.openInformationDialog("Add",e.informationType.CON,{})})),No(47,"span",5),Da(48,"ADD-CON"),Fo(),Fo(),Fo(),Fo(),No(49,"mat-tab-group",24),qo("selectedTabChange",(function(e){return Je(t),Ko().tabChanged(e)})),No(50,"mat-tab"),Oo(51,TN,2,0,"ng-template",25),Bo(52,"app-best-moves",26),Fo(),No(53,"mat-tab"),Oo(54,ON,2,0,"ng-template",25),Bo(55,"app-combo-list",27),Fo(),No(56,"mat-tab"),Oo(57,DN,2,0,"ng-template",25),Bo(58,"app-confirms",26),Fo(),No(59,"mat-tab"),Oo(60,AN,2,0,"ng-template",25),Bo(61,"app-tierlists",26),Fo(),No(62,"mat-tab"),Oo(63,RN,2,0,"ng-template",25),Bo(64,"app-match",28),Fo(),Fo(),Fo()}if(2&t){const t=Ko();_r(2),Mo("base64Image",t.character.icon),_r(3),Ra(" ",t.character.name," "),_r(5),Mo("innerHTML",ec(11,16,"CHARACTER-SKILL-"+t.character.skillRating),Ji),_r(3),Mo("ngForOf",Kl(18,PN).constructor(t.character.skillRating)),_r(1),Mo("ngForOf",Kl(19,PN).constructor(5-t.character.skillRating)),_r(13),Mo("ngForOf",t.pros),_r(1),Mo("ngIf",!t.pros||0===t.pros.length),_r(10),Mo("ngForOf",t.cons),_r(1),Mo("ngIf",!t.cons||0===t.cons.length),_r(10),Mo("selectedIndex",t.selectedIndex)("color","accent"),_r(3),Mo("characterId",t.character.id),_r(3),Mo("character",t.character),_r(3),Mo("characterId",t.character.id),_r(3),Mo("characterId",t.character.id),_r(3),Mo("firstCharacter",t.character)}}let LN=(()=>{class t{constructor(t,e,n,i,r){this.route=t,this.characterService=e,this.tierlistService=n,this.informationService=i,this.dialog=r,this.tierlists=new Array,this.active=1,this.informationType=yT,this.pros=new Array,this.cons=new Array,this.loading=!0,this.selectedIndex=0}ngOnInit(){this.characterService.getCharacterByName(this.route.snapshot.paramMap.get("name")).subscribe(t=>{this.character=t,this.refreshTierlists(),this.refreshPros(),this.refreshCons(),this.loading=!1},()=>this.loading=!1)}ngAfterViewInit(){this.selectedIndex=+localStorage.getItem("userTabLocation")}refreshTierlists(){this.tierlistService.getAllTierlists(this.character.id).subscribe(t=>{this.tierlists=t||[]})}openInformationDialog(t,e,n){n.action=t,n.informationType=e,this.dialog.open(wT,{width:"400px",data:n}).afterClosed().subscribe(t=>{"Add"===t.event?(t.data.characterName=this.character.name,this.informationService.addInformation(this.character.id,t.data).subscribe(t=>{this.refreshPros(),this.refreshCons()})):"Update"===t.event?this.informationService.editInformationById(t.data,t.data.id).subscribe(t=>{this.refreshPros(),this.refreshCons()}):"Delete"===t.event&&this.informationService.removeInformation(t.data.id).subscribe(t=>{this.refreshPros(),this.refreshCons()})})}refreshPros(){this.informationService.getInformationByCharacterIdAndInformationType(this.character.id,yT.PRO).subscribe(t=>{this.pros=t||[]})}refreshCons(){this.informationService.getInformationByCharacterIdAndInformationType(this.character.id,yT.CON).subscribe(t=>{this.cons=t||[]})}tabChanged(t){localStorage.setItem("userTabLocation",""+t.index)}}return t.\u0275fac=function(e){return new(e||t)(Ao(nf),Ao(JC),Ao(xT),Ao(CT),Ao(Iw))},t.\u0275cmp=ge({type:t,selectors:[["app-character"]],decls:1,vars:1,consts:[["class","container-fluid character-portrait",4,"appLoading"],[1,"container-fluid","character-portrait"],[1,"row","justify-content-center"],[3,"base64Image"],[1,"row","justify-content-center","header_difficulty",2,"font-weight","500","font-size","1.3rem"],["translate",""],[3,"innerHTML"],[1,"row","justify-content-center","difficulty-bars"],[3,"ngClass",4,"ngFor","ngForOf"],["class","difficulty-bar",4,"ngFor","ngForOf"],[1,"col-md-8","col-sm-10"],[1,"mat-elevation-z4",2,"margin-top","16px","margin-bottom","32px","text-align","start"],[2,"padding-left","10%","padding-right","10%"],[1,"vantage-container"],["src","../../assets/images/thumb_up.svg",1,"vantage-icon"],[1,"vantage-header"],["translate","",1,"vantage-header-pro-title"],[1,"vantage-list"],["style","display: flex; flex-direction: row;",4,"ngFor","ngForOf"],[3,"iconFontSize","displayHorizontal","message","hideBackground",4,"ngIf"],["src","../../assets/images/thumb_down.svg",1,"vantage-icon"],["translate","",1,"vantage-header-con-title"],[1,"col-md-3","flex-center"],["appLogin","","mat-raised-button","","color","primary",3,"click"],["animationDuration","0ms",2,"width","90%","margin-left","5%","margin-top","16px","margin-bottom","32px",3,"selectedIndex","color","selectedTabChange"],["mat-tab-label",""],[3,"characterId"],[3,"character"],[3,"firstCharacter"],[3,"ngClass"],[1,"difficulty-bar"],[2,"display","flex","flex-direction","row"],[3,"displayHorizontal","editClicked","removeClicked"],[3,"iconFontSize","displayHorizontal","message","hideBackground"]],template:function(t,e){1&t&&Oo(0,MN,65,20,"div",0),2&t&&Mo("appLoading",e.loading)},directives:[LT,NT,bS,Kh,tT,QI,Qh,FT,OI,pT,_O,cO,sO,KO,YD,oM,OL,wN,Yh,fT,HO],pipes:[_S],styles:[".tab-icon[_ngcontent-%COMP%]{margin-right:8px}.character-portrait[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px}.difficulty-bars[_ngcontent-%COMP%]{margin-top:.5rem;display:flex}.difficulty-bars[_ngcontent-%COMP%]   .difficulty-bar[_ngcontent-%COMP%]:first-child{border-left:1px solid #fff;border-top-left-radius:2rem;border-bottom-left-radius:2rem}.difficulty-bars[_ngcontent-%COMP%]   .difficulty-bar[_ngcontent-%COMP%]:last-child{border-left:1px solid #fff;border-top-right-radius:2rem;border-bottom-right-radius:2rem}.difficulty-bars[_ngcontent-%COMP%]   .difficulty-bar[_ngcontent-%COMP%]{width:4rem;height:1.5rem;background:#e8e8e8;border:1px solid #fff;border-left:none}.difficulty-bars[_ngcontent-%COMP%]   .difficulty-bar.difficulty-bar-1[_ngcontent-%COMP%]{background:#0c6cb9}.difficulty-bars[_ngcontent-%COMP%]   .difficulty-bar.difficulty-bar-2[_ngcontent-%COMP%]{background:#77b900}.difficulty-bars[_ngcontent-%COMP%]   .difficulty-bar.difficulty-bar-3[_ngcontent-%COMP%]{background:#e1bf05}.difficulty-bars[_ngcontent-%COMP%]   .difficulty-bar.difficulty-bar-4[_ngcontent-%COMP%]{background:#e7a10b}.difficulty-bars[_ngcontent-%COMP%]   .difficulty-bar.difficulty-bar-5[_ngcontent-%COMP%]{background:#d80e0e}.vantage-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-right:20px}.vantage-icon[_ngcontent-%COMP%]{width:64px;margin-right:8px}.vantage-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-left:8px}.vantage-header-pro-title[_ngcontent-%COMP%]{color:#6dab3c;font-size:1.5rem;font-weight:500}.vantage-header-con-title[_ngcontent-%COMP%]{color:#dc143c;font-size:1.5rem;font-weight:500}.vantage-list[_ngcontent-%COMP%]{margin-top:8px;margin-left:16px}"]}),t})();function NN(t,e){if(1&t){const t=Ho();No(0,"div",11),No(1,"mat-form-field",12),No(2,"mat-label",3),Da(3,"SEARCH-CHARACTER-NAME"),Fo(),No(4,"input",13),qo("keyup",(function(e){return Je(t),Ko(2).applyFilter(e.target.value)})),Fo(),No(5,"mat-icon",14),Da(6,"search"),Fo(),Fo(),Fo()}}function FN(t,e){if(1&t){const t=Ho();No(0,"div",15),No(1,"mat-card",16),No(2,"div",17),No(3,"h1",18),Da(4),Fo(),No(5,"app-edit-remove",19),qo("editClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).openEditDialog(n)}))("removeClicked",(function(){Je(t);const n=e.$implicit;return Ko(2).openRemoveDialog(n)})),Fo(),Fo(),No(6,"div",17),Bo(7,"div",20),Fo(),No(8,"div",21),No(9,"div",22),Da(10),Fo(),Fo(),Fo(),Fo()}if(2&t){const t=e.$implicit;_r(1),fa("background-image","url(data:image/png;base64,"+t.image+")",nr),ea("routerLink","/character/",t.name,""),_r(3),Ra(" ",t.tier," "),_r(1),Mo("displayHorizontal",!1),_r(2),fa("visibility",t.floaty?"visible":"hidden"),Mo("translate","DIALOG-ADD-CHARACTER-FLOATY"),_r(3),Ra(" ",t.name," ")}}function BN(t,e){1&t&&Bo(0,"app-empty-layout",23),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-CHARACTER-LIST")}function VN(t,e){1&t&&Bo(0,"app-empty-layout",23),2&t&&Mo("iconFontSize","80")("displayHorizontal",!1)("message","EMPTY-FILTERED-CHARACTER-LIST")}function zN(t,e){if(1&t&&Oo(0,VN,1,3,"app-empty-layout",24),2&t){const t=Ko(2);Mo("ngIf",!t.charactersFiltered||0===t.charactersFiltered.length)}}function jN(t,e){if(1&t){const t=Ho();No(0,"div",1),No(1,"div",2),No(2,"h1",3),Da(3,"CHARACTER-INFORMATION"),Fo(),Fo(),No(4,"div",4),Oo(5,NN,7,0,"div",5),No(6,"div",6),No(7,"button",7),qo("click",(function(){return Je(t),Ko().openAddDialog()})),No(8,"span",3),Da(9,"ADD-CHARACTER"),Fo(),Fo(),Fo(),Fo(),No(10,"div",4),Oo(11,FN,11,9,"div",8),Oo(12,BN,1,3,"app-empty-layout",9),Oo(13,zN,1,1,"ng-template",null,10,Sc),Fo(),Fo()}if(2&t){const t=Do(14),e=Ko();_r(5),Mo("ngIf",e.characters&&e.characters.length>0),_r(6),Mo("ngForOf",e.charactersFiltered),_r(1),Mo("ngIf",!e.characters||0===e.characters.length)("ngIfElse",t)}}let HN=(()=>{class t{constructor(t,e){this.characterService=t,this.dialog=e,this.characterFilter="",this.loading=!0}ngOnInit(){this.characterService.getAllCharacters().subscribe(t=>{this.characters=t,this.charactersFiltered=t,this.loading=!1},()=>{this.loading=!1,this.characters=[]})}applyFilter(t){this.characterFilter=t.trim().toLowerCase(),this.charactersFiltered=JSON.parse(JSON.stringify(this.characters)),this.charactersFiltered=this.charactersFiltered.filter(t=>t.name.toLowerCase().includes(this.characterFilter))}openAddDialog(){this.dialog.open(YI,{width:"700px"}).afterClosed().subscribe(t=>{t&&this.characterService.getAllCharacters().subscribe(t=>{this.characters=t,this.applyFilter(this.characterFilter)},()=>{this.characters=[]})})}openRemoveDialog(t){this.dialog.open(XI,{width:"700px",data:{name:t.name}}).afterClosed().subscribe(t=>{t&&this.characterService.getAllCharacters().subscribe(t=>{this.characters=t,this.applyFilter(this.characterFilter)},()=>{this.characters=[]})})}openEditDialog(t){this.dialog.open(VI,{width:"700px",data:{character:t}}).afterClosed().subscribe(t=>{t&&this.characterService.getAllCharacters().subscribe(t=>{this.characters=t,this.applyFilter(this.characterFilter)},()=>{this.characters=[]})})}}return t.\u0275fac=function(e){return new(e||t)(Ao(JC),Ao(Iw))},t.\u0275cmp=ge({type:t,selectors:[["app-character-information"]],decls:1,vars:1,consts:[["class","container",4,"appLoading"],[1,"container"],[1,"main-text"],["translate",""],[1,"row","justify-content-center"],["class","col-md-8",4,"ngIf"],["appLogin","",1,"col-md-4","flex-center"],["mat-raised-button","","color","primary",3,"click"],["class","col-md-4 p-2","style","max-width: 250px;",4,"ngFor","ngForOf"],["class","col-md-12",3,"iconFontSize","displayHorizontal","message",4,"ngIf","ngIfElse"],["otherEmptyTemplate",""],[1,"col-md-8"],["appearance","outline","color","accent",1,"w-100"],["matInput","",3,"keyup"],["matSuffix",""],[1,"col-md-4","p-2",2,"max-width","250px"],[1,"mat-elevation-z4","bg-second",3,"routerLink"],[1,"p-3"],[2,"float","right","text-shadow","2px 1px 1px black","height","2.5rem"],[2,"float","left",3,"displayHorizontal","editClicked","removeClicked"],[2,"float","left","font-size","1.5rem","font-weight","500","text-shadow","2px 1px 1px black",3,"translate"],[1,"p-2","bg-third"],[1,"character-text"],[1,"col-md-12",3,"iconFontSize","displayHorizontal","message"],["class","col-md-12",3,"iconFontSize","displayHorizontal","message",4,"ngIf"]],template:function(t,e){1&t&&Oo(0,jN,15,4,"div",0),2&t&&Mo("appLoading",e.loading)},directives:[LT,bS,Qh,pT,OI,Kh,tk,WS,hk,Wk,XS,tT,dm,fT,HO],styles:[".main-text[_ngcontent-%COMP%]{text-align:center;margin-top:15px}.character-text[_ngcontent-%COMP%]{font-size:40px;line-height:1}.character-div[_ngcontent-%COMP%]{height:150px;background-size:contain;background-repeat:no-repeat;display:flex;justify-content:center;align-items:center}.character-card[_ngcontent-%COMP%]{margin:1%;cursor:pointer;max-width:400px}.mat-card[_ngcontent-%COMP%]{padding:0;display:flex;flex-direction:column;background-position:50%;background-position-y:8px;background-size:80%;background-repeat:no-repeat;cursor:pointer}.mat-card[_ngcontent-%COMP%]:hover{outline:1px solid #227aad}"]}),t})(),UN=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ge({type:t,selectors:[["app-not-found"]],decls:8,vars:0,consts:[[1,"flex-center",2,"flex-direction","column","height","100%"],[2,"margin-top","10%","font-size","5rem"],[1,"far","fa-frown-open"],["translate","",2,"line-height","1"],["mat-stroked-button","","routerLink","/",2,"margin-top","16px"],["translate",""]],template:function(t,e){1&t&&(No(0,"div",0),No(1,"div",1),Bo(2,"i",2),Fo(),No(3,"h1",3),Da(4,"404-MESSAGE"),Fo(),No(5,"button",4),No(6,"span",5),Da(7,"GO-BACK"),Fo(),Fo(),Fo())},directives:[bS,OI,dm],styles:[""]}),t})();var $N=n("EcEN");class qN{constructor(t,e,n,i){this.children=[],this.brothers=[],this.id=Object($N.v4)(),this.name=t,this.image=e,this.typeOfSummon=n,this.children=[],this.brothers=[],this.target=i}}var WN=function(t){return t[t.NORMAL=0]="NORMAL",t[t.SPECIAL=1]="SPECIAL",t[t.XYZ=2]="XYZ",t[t.SYNCHRO=3]="SYNCHRO",t[t.LINK=4]="LINK",t[t.RITUAL=5]="RITUAL",t[t.DRAW=6]="DRAW",t[t.BANISH=7]="BANISH",t[t.SEND_TO_GRAVEYARD=8]="SEND_TO_GRAVEYARD",t}({});n("4t0b");class GN{constructor(t,e,n){this.apiId=t,this.name=e,this.image=n}}let YN=(()=>{class t{constructor(t){this.http=t}getCardById(t){return this.http.get(ZC+"/cards/"+t,{headers:QC.headers})}getCardPriceById(t){const e=(new SC).set("id",t);return this.http.get("https://db.ygoprodeck.com/api/v7/cardinfo.php",{params:e,headers:QC.headers})}getCards(t=""){const e=(new SC).set("filter",t);return this.http.get(ZC+"/cards",{params:e,headers:QC.headers})}getSets(){return this.http.get(ZC+"/sets",{headers:QC.headers})}getCollections(t){let e=new SC;return t&&(e=e.set("filter",t)),this.http.get(ZC+"/collections",{params:e,headers:QC.headers})}removeCollectionById(t){return this.http.delete(ZC+"/collections/"+t,{headers:QC.headers})}getCollectionById(t){return this.http.get(ZC+"/collections/"+t,{headers:QC.headers})}addOrUpdateCollectionLight(t){return this.http.post(ZC+"/collections/light",t,{headers:QC.headers})}addOrUpdateCollection(t){return console.log(ZC+"/collections"),this.http.post(ZC+"/collections",t,{headers:QC.headers})}importCollection(t,e){return this.http.post(ZC+"/collections/"+t+"/import",e,{headers:QC.headers})}}return t.\u0275fac=function(e){return new(e||t)(Zt(LC))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const XN=["aaaaaa"];function KN(t,e){1&t&&Bo(0,"img",7),2&t&&ta("src","data:image/jpg;base64,"+Ko().$implicit.image,er)}function ZN(t,e){if(1&t&&(No(0,"div"),No(1,"div",5),Oo(2,KN,1,1,"img",6),Fo(),Fo()),2&t){const t=e.$implicit;_r(1),Mo("id",t.id),_r(1),Mo("ngIf",t.image)}}function QN(t,e){if(1&t&&(No(0,"div",3),Oo(1,ZN,3,2,"div",4),Fo()),2&t){const t=e.$implicit;fa("margin-top",e.first?"0":"4vh"),_r(1),Mo("ngForOf",t)}}let JN=(()=>{class t{constructor(t){this.yugiohService=t}ngOnInit(){const t=new GN("44335251"),e=new GN("38572779"),n=new GN("98022050"),i=new GN("82946847"),r=new GN("38179121"),s=new GN("18940556");Lw([this.yugiohService.getCardById(i.apiId),this.yugiohService.getCardById(t.apiId),this.yugiohService.getCardById(e.apiId),this.yugiohService.getCardById(r.apiId),this.yugiohService.getCardById(s.apiId),this.yugiohService.getCardById(n.apiId)]).pipe(F(t=>t)).subscribe(t=>{const e=new qN(t[1].name,t[1].image),n=new qN(t[2].name,t[2].image,WN.SPECIAL),i=new qN(t[5].name,t[5].image,WN.BANISH),r=new qN(t[3].name,t[3].image,WN.DRAW),s=new qN(t[1].name,t[1].image),o=new qN(t[1].name,t[1].image),a=new qN(t[4].name,t[4].image,WN.SPECIAL);var l;s.target=a,o.target=a,this.addChild(e,n),this.addChild(n,i),this.addChild(i,r),this.addChild(r,a),this.addBrother(r,s),this.addBrother(r,o),this.flowchart=[[]],this.createFlowchart(e,0),this.flowchart=(l=[],this.flowchart.reduce((t,e,n,i)=>(t.push(e),n<i.length-1&&t.push(l),t),[])),console.log(this.flowchart),this.createHiddenNodes(1),this.drawFlowChartArrows(),console.log(this.flowchart)},t=>{console.error(t)})}createFlowchart(t,e){if(console.log(this.flowchart.length),e===this.flowchart.length?this.flowchart.push([t].concat(t.brothers)):(this.flowchart[e].push(t),t.brothers.forEach(t=>this.flowchart[e].push(t))),Array.isArray(t.children)&&t.children.length){e+=1;for(const n of t.children)this.createFlowchart(n,e)}}createHiddenNodesRow(t){console.log("creating nodes rows"),t%2==0||t>this.flowchart.length-2||(this.flowchart.splice(t,0,[]),this.createHiddenNodesRow(t+2))}createHiddenNodes(t){if(t%2==0||t>=this.flowchart.length-1)return;console.log("creating nodes for row "+t);const e=[];for(let n=0;n<this.flowchart[t-1].length;n++){const i=this.flowchart[t-1][n],r=new qN;if(console.log(i),r.fakeNode=!0,Array.isArray(i.brothers)&&i.brothers.length){console.log("assigning new target on fake nodes");const e=this.flowchart[t+1].find(t=>t.id===i.brothers[0].target.id);r.target=e,i.brothers.forEach(t=>t.target=r),console.log("child"),console.log(e);const n=i.children.findIndex(t=>t===r.target);i.children[n]=r}e.push(r)}this.flowchart[t]=e,this.createHiddenNodes(t+2)}drawFlowChartArrows(){this.flowchart.forEach(t=>{t.forEach(t=>{if(t.target&&(t.target.fakeNode?this.drawLineWithBottomSocket(t,t.target,!1,"disc"):this.drawArrowWithStartLabel(t,t.target)),Array.isArray(t.children)&&t.children.length)for(const e of t.children)e.fakeNode?this.drawLine(t,e,!1,"disc"):this.drawArrow(t,e);if(Array.isArray(t.brothers)&&t.brothers.length)for(const e of t.brothers)this.drawLine(t,e,!1,"behind")})})}drawArrow(t,e){setTimeout(()=>{new LeaderLine(document.getElementById(t.id),document.getElementById(e.id),{middleLabel:WN[e.typeOfSummon],path:"magnet",startSocket:"bottom",endSocket:"top"})},200)}drawLine(t,e,n,i,r){setTimeout(()=>{new LeaderLine(document.getElementById(t.id),document.getElementById(e.id),{middleLabel:n?WN[e.typeOfSummon]:"",endPlug:i||"behind",path:"magnet"})},200)}drawLineWithBottomSocket(t,e,n,i){setTimeout(()=>{new LeaderLine(document.getElementById(t.id),document.getElementById(e.id),{middleLabel:n?WN[e.typeOfSummon]:"",endPlug:i||"behind",path:"magnet",startSocket:"bottom"})},200)}drawArrowWithStartLabel(t,e){setTimeout(()=>{new LeaderLine(document.getElementById(t.id),document.getElementById(e.id),{middleLabel:WN[e.typeOfSummon],path:"magnet"})},200)}addChild(t,e){null===t.children&&(t.children=[]),t.children.push(e)}addBrother(t,e){null===t.brothers&&(t.brothers=[]),t.brothers.push(e)}}return t.\u0275fac=function(e){return new(e||t)(Ao(YN))},t.\u0275cmp=ge({type:t,selectors:[["app-combo-graph-two"]],viewQuery:function(t,e){var n;1&t&&mc(XN,!0),2&t&&pc(n=_c())&&(e.divs=n)},decls:3,vars:1,consts:[[2,"display","flex","flex-direction","column","align-items","center","justify-content","center"],["aaaaaa",""],["style","display: flex; align-items: center; max-width: 70vw;",3,"margin-top",4,"ngFor","ngForOf"],[2,"display","flex","align-items","center","max-width","70vw"],[4,"ngFor","ngForOf"],[1,"example-card",3,"id"],["height","267","width","186","mat-card-image","","alt","card picture",3,"src",4,"ngIf"],["height","267","width","186","mat-card-image","","alt","card picture",3,"src"]],template:function(t,e){1&t&&(No(0,"div",0,1),Oo(2,QN,2,3,"div",2),Fo()),2&t&&(_r(2),Mo("ngForOf",e.flowchart))},directives:[Kh,Qh,JI],styles:[".example-card[_ngcontent-%COMP%]{background-color:#3b3b3b;color:#fff;margin:10px;font-family:Arial,Helvetica,sans-serif}"]}),t})();var tF=n("ROFb"),eF=n.n(tF),nF=function(t){return t[t.NORMAL=0]="NORMAL",t[t.SPECIAL=1]="SPECIAL",t[t.XYZ=2]="XYZ",t[t.SYNCHRO=3]="SYNCHRO",t[t.LINK=4]="LINK",t[t.RITUAL=5]="RITUAL",t[t.DRAW=6]="DRAW",t[t.BANISH=7]="BANISH",t[t.SEND_TO_GRAVEYARD=8]="SEND_TO_GRAVEYARD",t}({});class iF{constructor(t,e,n){this.apiId=t,this.name=e,this.image=n}}let rF=(()=>{class t{constructor(t){this.yugiohService=t}ngOnInit(){const t=new iF("44335251"),e=new iF("38572779"),n=new iF("98022050"),i=new iF("82946847"),r=new iF("38179121"),s=new iF("18940556");Lw([this.yugiohService.getCardById(i.apiId),this.yugiohService.getCardById(t.apiId),this.yugiohService.getCardById(e.apiId),this.yugiohService.getCardById(r.apiId),this.yugiohService.getCardById(s.apiId),this.yugiohService.getCardById(n.apiId)]).pipe(F(t=>t)).subscribe(t=>{const e=new qN(t[1].name,t[1].image),n=new qN(t[2].name,t[2].image,nF.SPECIAL),i=new qN(t[5].name,t[5].image,nF.BANISH),r=new qN(t[3].name,t[3].image,nF.DRAW),s=new qN(t[1].name,t[1].image),o=new qN(t[1].name,t[1].image),a=new qN(t[4].name,t[4].image,nF.SPECIAL);s.target=a,o.target=a,this.addChild(e,n),this.addChild(n,i),this.addChild(i,r),this.addChild(r,a),this.addBrother(r,s),this.addBrother(r,o);const l=[],c=[];l.push(this.createNode(e.id,e.image),this.createNode(n.id,n.image),this.createNode(i.id,i.image),this.createNode(r.id,r.image),this.createNode(a.id,a.image)),c.push(this.createEdge(e.id,n.id),this.createEdge(n.id,i.id),this.createEdge(i.id,r.id),this.createEdge(i.id,a.id));const h=this.createStyle(l);this.createCytoscapeGraph(l,c,h)},t=>{console.error(t)})}createCytoscapeGraph(t,e,n){eF()({container:document.getElementById("cy"),boxSelectionEnabled:!1,autounselectify:!0,style:n,elements:{nodes:t,edges:e},layout:{name:"breadthfirst",directed:!0,padding:6}})}createStyle(t){const e=eF.a.stylesheet().selector("node").css({height:287,width:200,shape:"square","background-fit":"cover","border-color":"#000","border-opacity":.5}).selector("edge").css({"curve-style":"bezier",width:12,"target-arrow-shape":"triangle","line-color":"#ffaaaa","target-arrow-color":"#ffaaaa"});return t.forEach(t=>{e.selector("#"+t.data.id).css({"background-image":'url("data:image/png;base64,'+t.data.image+'")'})}),e}createNode(t,e){return{data:{id:t,image:e}}}createEdge(t,e){return{data:{source:t,target:e}}}addChild(t,e){null===t.children&&(t.children=[]),t.children.push(e)}addBrother(t,e){null===t.brothers&&(t.brothers=[]),t.brothers.push(e)}}return t.\u0275fac=function(e){return new(e||t)(Ao(YN))},t.\u0275cmp=ge({type:t,selectors:[["app-combo-graph-three"]],decls:1,vars:0,consts:[["id","cy",2,"width","100vw","height","1000px"]],template:function(t,e){1&t&&Bo(0,"div",0)},styles:["#cy[_ngcontent-%COMP%]{height:100%;width:100%;left:0;top:0}#cy[_ngcontent-%COMP%], #eat[_ngcontent-%COMP%]{position:absolute}#eat[_ngcontent-%COMP%]{left:1em;top:1em;font-size:1em;z-index:-1;color:#c88}"]}),t})();function sF(t,e){if(1&t&&(No(0,"mat-option",9),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Ra(" ",t," ")}}let oF=(()=>{class t{constructor(t){this.dialogRef=t,this.collectionTypes=["DECK","COLLECTION"],this.data={name:"",type:"DECK",createdBy:""}}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-collection"]],decls:22,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"width","100%"],["matInput","","autofocus","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],[3,"value"]],template:function(t,e){1&t&&(No(0,"h1",0),Da(1,"Ajouter collection"),Fo(),No(2,"div",1),No(3,"div"),No(4,"mat-form-field",2),No(5,"mat-label"),Da(6,"Nom"),Fo(),No(7,"input",3),qo("ngModelChange",(function(t){return e.data.name=t})),Fo(),Fo(),Fo(),No(8,"div"),No(9,"mat-form-field",2),No(10,"mat-label"),Da(11,"Type"),Fo(),No(12,"mat-select",4),qo("ngModelChange",(function(t){return e.data.type=t})),Oo(13,sF,2,2,"mat-option",5),Fo(),Fo(),Fo(),No(14,"div"),No(15,"mat-form-field",2),No(16,"mat-label"),Da(17,"Cr\xe9e par"),Fo(),No(18,"input",6),qo("ngModelChange",(function(t){return e.data.createdBy=t})),Fo(),Fo(),Fo(),Fo(),No(19,"div",7),No(20,"button",8),Da(21,"Ajouter"),Fo(),Fo()),2&t&&(_r(7),Mo("ngModel",e.data.name),_r(5),Mo("ngModel",e.data.type),_r(1),Mo("ngForOf",e.collectionTypes),_r(5),Mo("ngModel",e.data.createdBy),_r(2),Mo("mat-dialog-close",e.data))},directives:[Dw,Aw,tk,WS,hk,Hw,Xw,Jx,Ok,Kh,Rw,OI,Ow,hw],encapsulation:2}),t})();function aF(t,e){if(1&t&&(No(0,"mat-option",9),Da(1),Fo()),2&t){const t=e.$implicit;Mo("value",t),_r(1),Ra(" ",t," ")}}let lF=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.collectionTypes=["DECK","COLLECTION"]}ngOnInit(){}onCancelClick(){this.dialogRef.close()}onRemoveClick(){this.data.result="REMOVE",this.dialogRef.close(this.data)}onConfirmClick(){this.data.result="OK",this.dialogRef.close(this.data)}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(Cw))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-remove-collection"]],decls:26,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"],["mat-button","","type","submit",3,"click"],[3,"value"]],template:function(t,e){1&t&&(No(0,"h1",0),Da(1),Fo(),No(2,"div",1),No(3,"div"),No(4,"mat-form-field",2),No(5,"mat-label"),Da(6,"Nom"),Fo(),No(7,"input",3),qo("ngModelChange",(function(t){return e.data.name=t})),Fo(),Fo(),Fo(),No(8,"div"),No(9,"mat-form-field",2),No(10,"mat-label"),Da(11,"Type"),Fo(),No(12,"mat-select",4),qo("ngModelChange",(function(t){return e.data.type=t})),Oo(13,aF,2,2,"mat-option",5),Fo(),Fo(),Fo(),No(14,"div"),No(15,"mat-form-field",2),No(16,"mat-label"),Da(17,"Cr\xe9\xe9 par"),Fo(),No(18,"input",3),qo("ngModelChange",(function(t){return e.data.createdBy=t})),Fo(),Fo(),Fo(),Fo(),No(19,"div",6),No(20,"button",7),qo("click",(function(){return e.onCancelClick()})),Da(21,"Annuler"),Fo(),No(22,"button",7),qo("click",(function(){return e.onRemoveClick()})),Da(23,"Supprimer"),Fo(),No(24,"button",8),qo("click",(function(){return e.onConfirmClick()})),Da(25,"Mettre \xe0 jour"),Fo(),Fo()),2&t&&(_r(1),Ra("Edition / suppression de la collection ",e.data.name,""),_r(6),Mo("ngModel",e.data.name),_r(5),Mo("ngModel",e.data.type),_r(1),Mo("ngForOf",e.collectionTypes),_r(5),Mo("ngModel",e.data.createdBy))},directives:[Dw,Aw,tk,WS,hk,Hw,Xw,Jx,Ok,Kh,Rw,OI,hw],styles:[""]}),t})();class cF{constructor(t,e,n){this.name=t,this.type=e,this.createdBy=n}}function hF(t,e){if(1&t){const t=Ho();No(0,"div",1),No(1,"button",2),qo("click",(function(){return Je(t),Ko().action()})),Da(2),Fo(),Fo()}if(2&t){const t=Ko();_r(2),Aa(t.data.action)}}function uF(t,e){}class dF{constructor(t,e){this._overlayRef=e,this._afterDismissed=new k,this._afterOpened=new k,this._onAction=new k,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),t)}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const pF=new jt("MatSnackBarData");class fF{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let mF=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(Ao(dF),Ao(pF))},t.\u0275cmp=ge({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(No(0,"span"),Da(1),Fo(),Oo(2,hF,3,1,"div",0)),2&t&&(_r(1),Aa(e.data.message),_r(1),Mo("ngIf",e.hasAction))},directives:[Qh,OI],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],encapsulation:2,changeDetection:0}),t})();const gF={snackBarState:Nm("state",[jm("void, hidden",zm({transform:"scale(0.8)",opacity:0})),jm("visible",zm({transform:"scale(1)",opacity:1})),Um("* => visible",Fm("150ms cubic-bezier(0, 0, 0.2, 1)")),Um("* => void, * => hidden",Fm("75ms cubic-bezier(0.4, 0.0, 1, 1)",zm({opacity:0})))])};let vF=(()=>{class t extends Jm{constructor(t,e,n,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=i,this._destroyed=!1,this._onExit=new k,this._onEnter=new k,this._animationState="void",this._role="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Ed(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}return t.\u0275fac=function(e){return new(e||t)(Ao(Yc),Ao(ol),Ao(Xs),Ao(fF))},t.\u0275cmp=ge({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&fc(ng,!0),2&t&&pc(n=_c())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(t,e){1&t&&Wo("@state.done",(function(t){return e.onAnimationEnd(t)})),2&t&&(Io("role",e._role),Ba("@state",e._animationState))},features:[za],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Oo(0,uF,0,0,"ng-template",0)},directives:[ng],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[gF.snackBarState]}}),t})(),yF=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Bv,sg,fu,DI,M_],M_]}),t})();const bF=new jt("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new fF}});let _F=(()=>{class t{constructor(t,e,n,i,r,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=r,this._defaultConfig=s,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign({},this._defaultConfig,n);return i.data={message:t,action:e},i.announcementMessage||(i.announcementMessage=t),this.openFromComponent(mF,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=new og(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[fF,e]])),i=new Zm(vF,e.viewContainerRef,n),r=t.attach(i);return r.instance.snackBarConfig=e,r.instance}_attach(t,e){const n=Object.assign({},new fF,this._defaultConfig,e),i=this._createOverlay(n),r=this._attachSnackBarContainer(i,n),s=new dF(r,i);if(t instanceof Dl){const e=new Qm(t,null,{$implicit:n.data,snackBarRef:s});s.instance=r.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),i=new Zm(t,void 0,e),o=r.attachComponentPortal(i);s.instance=o.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(Lg(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new yv;e.direction=t.direction;let n=this._overlay.position().global();const i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,s=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return new og(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[dF,e],[pF,t.data]]))}}return t.\u0275fac=function(e){return new(e||t)(Zt(Rv),Zt(cy),Zt(uo),Zt(RA),Zt(t,12),Zt(bF))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:yF}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Rv),Zt(cy),Zt(Ht),Zt(RA),Zt(t,12),Zt(bF))},token:t,providedIn:yF}),t})();function wF(t,e){if(1&t&&(No(0,"span"),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),Ra(" - ",t.createdBy,"")}}function xF(t,e){if(1&t&&(No(0,"span"),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),La(" ",t.nbCards," cartes, Main ",t.nbMainDeck,", Extra ",t.nbExtraDeck," , Side ",t.nbSideDeck," ")}}function CF(t,e){if(1&t&&(No(0,"span"),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),La(" ",t.nbCards," cartes, ",t.nbMonsters," monstres, ",t.nbSpells," magies, ",t.nbTraps," pi\xe8ges ")}}function SF(t,e){if(1&t){const t=Ho();No(0,"div",9),qo("auxclick",(function(n){Je(t);const i=e.$implicit;return Ko().handleRouting(n,i)}))("click",(function(n){Je(t);const i=e.$implicit;return Ko().handleRouting(n,i)})),No(1,"div"),No(2,"div",10),Da(3),Oo(4,wF,2,1,"span",11),Fo(),No(5,"div"),Oo(6,xF,2,4,"span",11),Oo(7,CF,2,4,"span",11),Fo(),Fo(),No(8,"div"),No(9,"mat-icon",12),qo("click",(function(n){Je(t);const i=e.$implicit;return Ko().openEditOrRemoveCollectionDialog(n,i)})),Da(10,"settings"),Fo(),Fo(),Fo()}if(2&t){const t=e.$implicit;_r(3),Pa(" ","DECK"===t.type?"Deck":"Collection"," - ",t.name," "),_r(1),Mo("ngIf",t.createdBy),_r(2),Mo("ngIf","DECK"===t.type),_r(1),Mo("ngIf","COLLECTION"===t.type)}}let kF=(()=>{class t{constructor(t,e,n,i){this.yugiohService=t,this.snackBar=e,this.dialog=n,this.router=i,this.collections=[],this.searchSub$=new k}ngOnInit(){this.getCollections(),this.searchSub$.pipe(zv(400),kg()).subscribe(t=>{this.getCollections(t)})}openSnackBar(t,e){this.snackBar.open(t,e,{duration:3e3})}getCollections(t){this.yugiohService.getCollections(t).subscribe(t=>{this.collections=t},()=>this.openSnackBar("Erreur lors de la r\xe9cup\xe9ration des collections","OK"))}addCollection(t){console.log(t);const e=new cF(t.name,t.type,t.createdBy);this.yugiohService.addOrUpdateCollectionLight(e).subscribe(()=>this.getCollections(),()=>this.openSnackBar("Erreur lors de la cr\xe9ation de la collection","OK"))}openDialog(){this.dialog.open(oF,{width:"700px"}).afterClosed().subscribe(t=>{console.log("The dialog was closed"),this.addCollection(t)})}openEditOrRemoveCollectionDialog(t,e){t.stopPropagation(),this.dialog.open(lF,{width:"700px",data:{id:e.id,name:e.name,createdBy:e.createdBy,type:e.type}}).afterClosed().subscribe(t=>{console.log("The dialog was closed"),console.log(t),"REMOVE"===t.result?this.yugiohService.removeCollectionById(e.id).subscribe(()=>this.getCollections()):"OK"===t.result&&(console.log("addOrUpdate"),console.log(t),this.yugiohService.addOrUpdateCollectionLight(t).subscribe(()=>this.getCollections()))})}handleRouting(t,e){if(t.preventDefault(),2===t.which||1===t.which){let n;"DECK"===e.type?n="decks":"COLLECTION"===e.type&&(n="collections");const i="/yu-gi-oh/"+n+"/"+e.id;1===t.which?this.router.navigate([i],{queryParams:{cardSearchValue:this.cardSearchValue}}):window.open(i,"_blank")}}applyCardFilter(t,e){let n;n=t?t.target.value:"",this.cardSearchValue=n,this.searchSub$.next(n),e.focus()}}return t.\u0275fac=function(e){return new(e||t)(Ao(YN),Ao(_F),Ao(Iw),Ao(um))},t.\u0275cmp=ge({type:t,selectors:[["app-collection-list"]],decls:11,vars:2,consts:[[2,"width","100%","display","flex","flex-direction","column","align-items","center","justify-content","center"],["mat-button","",3,"click"],[2,"width","80%"],[1,"bAXgkK"],[1,"qmUrg"],["id","sidebar-search-input","placeholder","Rechercher une carte dans les collections","tabindex","0",3,"ngModel","ngModelChange","keyup"],["inputElement",""],[1,"jNdboZ",3,"click"],["class","collection",3,"auxclick","click",4,"ngFor","ngForOf"],[1,"collection",3,"auxclick","click"],[2,"font-weight","500","font-size","18px"],[4,"ngIf"],["matSuffix","",3,"click"]],template:function(t,e){if(1&t){const t=Ho();No(0,"div",0),No(1,"button",1),qo("click",(function(){return e.openDialog()})),Da(2,"Ajouter une collection"),Fo(),No(3,"div",2),No(4,"div",3),No(5,"div",4),No(6,"input",5,6),qo("ngModelChange",(function(t){return e.cardSearchValue=t}))("keyup",(function(n){Je(t);const i=Do(7);return e.applyCardFilter(n,i)})),Fo(),No(8,"mat-icon",7),qo("click",(function(){Je(t);const n=Do(7);return e.applyCardFilter(null,n)})),Da(9," clear "),Fo(),Fo(),Fo(),Fo(),Oo(10,SF,11,5,"div",8),Fo()}2&t&&(_r(6),Mo("ngModel",e.cardSearchValue),_r(4),Mo("ngForOf",e.collections))},directives:[OI,Hw,Xw,Jx,Wk,Kh,Qh,XS],styles:[".collection[_ngcontent-%COMP%]{width:80%;max-width:500px;padding:8px;margin:4px;cursor:pointer;justify-content:space-between}.bAXgkK[_ngcontent-%COMP%], .collection[_ngcontent-%COMP%]{border:2px solid #bbb;border-radius:8px;display:flex;align-items:center}.bAXgkK[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;padding:.5rem 1rem}.qmUrg[_ngcontent-%COMP%]{background:#fff;border-radius:3px;height:38px;width:100%;display:flex}.bAXgkK[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:0;height:100%;padding:.5rem;width:100%;box-shadow:none!important}.jNdboZ[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}"]}),t})();var EF=function(t){return t[t.MAIN_DECK=0]="MAIN_DECK",t[t.EXTRA_DECK=1]="EXTRA_DECK",t[t.SIDE_DECK=2]="SIDE_DECK",t}({});class IF{constructor(t,e,n){this.quantity=1,this.position=t,this.card=e,this.set=n}}let TF=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.placeholder="DECK"===(null==e?void 0:e.type)?"Main deck\n1 Souleating Oviraptor SR04\n1x A\xe9rosol de Destruction\nExtra deck\n1 Evolzar Dolkka\n1 Superdreadnought Rail Cannon Gustav Max\nSide deck\n6x TrOU noIr\n2 Ultimate Conductor Tyranno":"1 Souleating Oviraptor SR04\n1x A\xe9rosol de Destruction\n6x TrOU noIr\n2 Ultimate Conductor Tyranno"}ngOnInit(){}onCancelClick(){this.dialogRef.close()}onConfirmClick(){this.dialogRef.close(this.collectionString)}}return t.\u0275fac=function(e){return new(e||t)(Ao(xw),Ao(Cw))},t.\u0275cmp=ge({type:t,selectors:[["app-dialog-import-collection"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",2,"height","300px","width","100%","border","#3b3b3b 1px solid","padding","8px",3,"placeholder","ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"],["mat-button","","type","submit",3,"click"]],template:function(t,e){1&t&&(No(0,"h1",0),Da(1," Importer une collection "),Fo(),No(2,"div",1),No(3,"textarea",2),qo("ngModelChange",(function(t){return e.collectionString=t})),Fo(),Fo(),No(4,"div",3),No(5,"button",4),qo("click",(function(){return e.onCancelClick()})),Da(6,"Cancel"),Fo(),No(7,"button",5),qo("click",(function(){return e.onConfirmClick()})),Da(8,"Confirm"),Fo(),Fo()),2&t&&(_r(3),Mo("placeholder",e.placeholder)("ngModel",e.collectionString))},directives:[Dw,Aw,hk,Hw,Xw,Jx,Rw,OI],styles:[""]}),t})();class OF{constructor(t,e,n,i){this.cardNumber=t,this.cardName=e,this.cardCode=n,this.position=i}}let DF=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e}onClose(){this.dialogRef.close(!0)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Cw),Ao(xw))},t.\u0275cmp=ge({type:t,selectors:[["app-full-image-dialog"]],decls:5,vars:1,consts:[[2,"max-height","100vh"],[3,"src"],["align","center"],["mat-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(No(0,"mat-dialog-content",0),Bo(1,"img",1),Fo(),No(2,"mat-dialog-actions",2),No(3,"button",3),Da(4,"Close"),Fo(),Fo()),2&t&&(_r(1),Mo("src",e.data,er))},directives:[Aw,Rw,OI,Ow],styles:[""]}),t})();var AF=function(t){return t[t.nbOwnedAsc=0]="nbOwnedAsc",t[t.nbOwnedDesc=1]="nbOwnedDesc",t[t.rarityAsc=2]="rarityAsc",t[t.rarityDesc=3]="rarityDesc",t[t.levelRankLinkAsc=4]="levelRankLinkAsc",t[t.levelRankLinkDesc=5]="levelRankLinkDesc",t[t.atkAsc=6]="atkAsc",t[t.atkDesc=7]="atkDesc",t[t.defAsc=8]="defAsc",t[t.defDesc=9]="defDesc",t}({});function RF(t,e){if(1&t){const t=Ho();No(0,"div",2),No(1,"div"),Da(2,"Raret\xe9"),Fo(),No(3,"div"),No(4,"mat-icon",3),qo("click",(function(){Je(t);const e=Ko();return e.onConfirmClick(e.CardSort.rarityAsc)})),Da(5," arrow_upward "),Fo(),No(6,"mat-icon",3),qo("click",(function(){Je(t);const e=Ko();return e.onConfirmClick(e.CardSort.rarityDesc)})),Da(7," arrow_downward "),Fo(),Fo(),Fo()}if(2&t){const t=Ko();_r(4),Mo("ngClass",t.data===t.CardSort.rarityAsc?"selected":""),_r(2),Mo("ngClass",t.data===t.CardSort.rarityDesc?"selected":"")}}let PF=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e,this.CardSort=AF}onCancelClick(){this.dialogRef.close()}onConfirmClick(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(Ao(Cw),Ao(xw))},t.\u0275cmp=ge({type:t,selectors:[["app-sort-dialog"]],decls:39,vars:9,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[2,"display","flex","justify-content","space-between"],[2,"position","relative","left","8px","cursor","pointer",3,"ngClass","click"],["style","display: flex; justify-content: space-between",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","type","button",3,"click"]],template:function(t,e){1&t&&(No(0,"h1",0),Da(1," Tri "),Fo(),No(2,"div",1),No(3,"div",2),No(4,"div"),Da(5,"Nombre poss\xe9d\xe9"),Fo(),No(6,"div"),No(7,"mat-icon",3),qo("click",(function(){return e.onConfirmClick(e.CardSort.nbOwnedAsc)})),Da(8," arrow_upward "),Fo(),No(9,"mat-icon",3),qo("click",(function(){return e.onConfirmClick(e.CardSort.nbOwnedDesc)})),Da(10," arrow_downward "),Fo(),Fo(),Fo(),Oo(11,RF,8,2,"div",4),No(12,"div",2),No(13,"div"),Da(14,"Level / Rank / Link"),Fo(),No(15,"div"),No(16,"mat-icon",3),qo("click",(function(){return e.onConfirmClick(e.CardSort.levelRankLinkAsc)})),Da(17," arrow_upward "),Fo(),No(18,"mat-icon",3),qo("click",(function(){return e.onConfirmClick(e.CardSort.levelRankLinkDesc)})),Da(19," arrow_downward "),Fo(),Fo(),Fo(),No(20,"div",2),No(21,"div"),Da(22,"ATK"),Fo(),No(23,"div"),No(24,"mat-icon",3),qo("click",(function(){return e.onConfirmClick(e.CardSort.atkAsc)})),Da(25," arrow_upward "),Fo(),No(26,"mat-icon",3),qo("click",(function(){return e.onConfirmClick(e.CardSort.atkDesc)})),Da(27," arrow_downward "),Fo(),Fo(),Fo(),No(28,"div",2),No(29,"div"),Da(30,"DEF"),Fo(),No(31,"div"),No(32,"mat-icon",3),qo("click",(function(){return e.onConfirmClick(e.CardSort.defAsc)})),Da(33," arrow_upward "),Fo(),No(34,"mat-icon",3),qo("click",(function(){return e.onConfirmClick(e.CardSort.defDesc)})),Da(35," arrow_downward "),Fo(),Fo(),Fo(),Fo(),No(36,"div",5),No(37,"button",6),qo("click",(function(){return e.onCancelClick()})),Da(38,"Cancel"),Fo(),Fo()),2&t&&(_r(7),Mo("ngClass",e.data===e.CardSort.nbOwnedAsc?"selected":""),_r(2),Mo("ngClass",e.data===e.CardSort.nbOwnedDesc?"selected":""),_r(2),Mo("ngIf",!1),_r(5),Mo("ngClass",e.data===e.CardSort.levelRankLinkAsc?"selected":""),_r(2),Mo("ngClass",e.data===e.CardSort.levelRankLinkDesc?"selected":""),_r(6),Mo("ngClass",e.data===e.CardSort.atkAsc?"selected":""),_r(2),Mo("ngClass",e.data===e.CardSort.atkDesc?"selected":""),_r(6),Mo("ngClass",e.data===e.CardSort.defAsc?"selected":""),_r(2),Mo("ngClass",e.data===e.CardSort.defDesc?"selected":""))},directives:[Dw,Aw,Wk,Yh,Qh,Rw,OI],styles:[".selected[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #000}"]}),t})();class MF{constructor(t){this.data=t}}var LF=n("Iab2");function NF(t,e){if(1&t&&(No(0,"span"),Da(1),Fo()),2&t){const t=Ko();_r(1),Ma(", ",t.card.atk,", ",t.card.def,", Level / Rank / Link : ",t.card.level,"")}}function FF(t,e){if(1&t&&(No(0,"div"),Da(1),Fo()),2&t){const t=Ko();_r(1),Ra("Prix CardMarket : ",t.cardmarketPrice,"\u20ac")}}let BF=(()=>{class t{constructor(t){this.yugiohService=t,this.backEndCardUrl=ZC+"/cards/",console.log(this.card)}ngOnInit(){var t;this.yugiohService.getCardPriceById(null===(t=this.card)||void 0===t?void 0:t.apiId).subscribe(t=>{var e;(null==t?void 0:t.data)&&t.data.length>0&&(null===(e=t.data[0])||void 0===e?void 0:e.card_prices)&&t.data[0].card_prices.length>0&&(this.cardmarketPrice=t.data[0].card_prices[0].cardmarket_price)})}}return t.\u0275fac=function(e){return new(e||t)(Ao(YN))},t.\u0275cmp=ge({type:t,selectors:[["app-tooltip-card"]],inputs:{card:"card"},decls:17,vars:8,consts:[[2,"display","flex","opacity","1"],[2,"width","300px"],["alt","Character picture",1,"img-fluid",2,"margin-right","4px",3,"src"],[2,"width","30vw","margin-left","6px","border","1px #bebebe solid","height","fit-content"],[2,"display","flex","flex-direction","column","justify-content","center","align-content","center","background-color","blue"],[2,"font-weight","bolder","font-size","20px"],[2,"padding-bottom","4px"],[2,"width","94%","margin-left","3%"],[2,"padding","4px"],[4,"ngIf"],[2,"padding","4px","background-color","white","color","black"]],template:function(t,e){1&t&&(No(0,"div",0),No(1,"div",1),Bo(2,"img",2),Fo(),No(3,"div",3),No(4,"div",4),No(5,"div",5),Da(6),Fo(),No(7,"div",6),Da(8),Fo(),Bo(9,"mat-divider",7),No(10,"div",8),Da(11),Oo(12,NF,2,3,"span",9),Fo(),Fo(),No(13,"div",10),No(14,"div"),Da(15),Fo(),Oo(16,FF,2,1,"div",9),Fo(),Fo(),Fo()),2&t&&(_r(2),ta("src",e.backEndCardUrl+e.card.apiId+"/image",er),_r(4),Ra(" ",e.card.name," "),_r(2),Pa("",e.card.race,", ",e.card.attribute,""),_r(3),Ra(" ",e.card.type,""),_r(1),Mo("ngIf","Spell Card"!==e.card.type&&"Trap Card"!==e.card.type),_r(3),Aa(e.card.description),_r(1),Mo("ngIf",e.cardmarketPrice))},directives:[FT,Qh],styles:[""]}),t})();function VF(t,e){if(1&t){const t=Ho();No(0,"button",41),qo("click",(function(){return Je(t),Ko().saveDeck()})),Da(1,"Sauvegarder"),Fo()}}function zF(t,e){1&t&&(No(0,"span"),Da(1,"-"),Fo())}function jF(t,e){if(1&t&&(No(0,"div",47),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),Pa("",t.atk," / ",t.def,"")}}function HF(t,e){if(1&t){const t=Ho();No(0,"div",57),qo("contextmenu",(function(){Je(t);const e=Ko().$implicit,n=Ko().$implicit,i=Ko();return i.removeCollectionItem(n,e,i.Position.MAIN_DECK)}))("click",(function(){Je(t);const e=Ko().$implicit,n=Ko().$implicit,i=Ko();return i.addCollectionItem(n,e,i.Position.MAIN_DECK)})),Da(1),Fo()}if(2&t){const t=Ko().$implicit,e=Ko().$implicit;_r(1),Ra("",null!=e&&null!=e.mapMainDeckQuantity&&e.mapMainDeckQuantity.get(t)?null==e?null:e.mapMainDeckQuantity.get(t):"M"," ")}}function UF(t,e){if(1&t){const t=Ho();No(0,"div",58),qo("contextmenu",(function(){Je(t);const e=Ko().$implicit,n=Ko().$implicit,i=Ko();return i.removeCollectionItem(n,e,i.Position.EXTRA_DECK)}))("click",(function(){Je(t);const e=Ko().$implicit,n=Ko().$implicit,i=Ko();return i.addCollectionItem(n,e,i.Position.EXTRA_DECK)})),Da(1),Fo()}if(2&t){const t=Ko().$implicit,e=Ko().$implicit;_r(1),Ra(" ",null!=e&&null!=e.mapExtraDeckQuantity&&e.mapExtraDeckQuantity.get(t)?null==e?null:e.mapExtraDeckQuantity.get(t):"E"," ")}}function $F(t,e){if(1&t){const t=Ho();No(0,"div",52),No(1,"div",53),Da(2),Fo(),Oo(3,HF,2,1,"div",54),Oo(4,UF,2,1,"div",55),No(5,"div",56),qo("contextmenu",(function(){Je(t);const n=e.$implicit,i=Ko().$implicit,r=Ko();return r.removeCollectionItem(i,n,r.Position.SIDE_DECK)}))("click",(function(){Je(t);const n=e.$implicit,i=Ko().$implicit,r=Ko();return r.addCollectionItem(i,n,r.Position.SIDE_DECK)})),Da(6),Fo(),Fo()}if(2&t){const t=e.$implicit,n=Ko().$implicit,i=Ko();_r(2),Aa(t),_r(1),Mo("ngIf",i.mainDeckMap.get(n.type)),_r(1),Mo("ngIf","Spell Card"!==n.type&&"Trap Card"!==n.type),_r(2),Ra("",null!=n&&null!=n.mapSideDeckQuantity&&n.mapSideDeckQuantity.get(t)?null==n?null:n.mapSideDeckQuantity.get(t):"S"," ")}}function qF(t,e){1&t&&Bo(0,"app-tooltip-card",59),2&t&&Mo("card",Ko().$implicit)}function WF(t,e){if(1&t&&(No(0,"div",42),No(1,"div",43),Bo(2,"img",44),Fo(),No(3,"div",45),No(4,"div",46),Da(5),Fo(),No(6,"div",47),Da(7),Oo(8,zF,2,0,"span",48),Da(9),Fo(),Oo(10,jF,2,2,"div",49),Fo(),No(11,"div"),Oo(12,$F,7,4,"div",50),Fo(),Oo(13,qF,1,1,"ng-template",null,51,Sc),Fo()),2&t){const t=e.$implicit,n=Do(14),i=Ko();Mo("ngbTooltip",n)("container","body"),_r(2),ta("src",i.backEndCardUrl+t.apiId+"/image",er),_r(3),Aa(t.name),_r(2),Ra("",t.attribute," "),_r(1),Mo("ngIf","Spell Card"!==t.type&&"Trap Card"!==t.type),_r(1),Ra(" ",t.race,""),_r(1),Mo("ngIf","Spell Card"!==t.type&&"Trap Card"!==t.type),_r(2),Mo("ngForOf",t.setCodes)}}function GF(t,e){if(1&t){const t=Ho();No(0,"button",60),qo("click",(function(){return Je(t),Ko().deckSearchValue=""})),No(1,"mat-icon"),Da(2,"close"),Fo(),Fo()}}function YF(t,e){if(1&t&&(No(0,"span"),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),Ra(" - ",t.set.code,"")}}function XF(t,e){1&t&&Bo(0,"app-tooltip-card",59),2&t&&Mo("card",Ko().$implicit.card)}function KF(t,e){if(1&t){const t=Ho();No(0,"div",61),No(1,"div",62),No(2,"strong",63),Da(3),Fo(),No(4,"div",64),No(5,"div"),Da(6),Oo(7,YF,2,1,"span",48),Fo(),No(8,"div"),No(9,"mat-icon",65),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().addCollectionItemSimple(n)})),Da(10,"add_circle"),Fo(),No(11,"mat-icon",65),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().removeCollectionItemSimple(n)})),Da(12,"remove_circle"),Fo(),Fo(),Fo(),Fo(),Oo(13,XF,1,1,"ng-template",null,51,Sc),Fo()}if(2&t){const t=e.$implicit,n=Do(14),i=Ko();Mo("className",t.card.type+"| card-container")("ngbTooltip",n)("container","body"),_r(1),fa("background-color",i.mainDeckMap.get(t.card.type)),_r(2),Ra("",t.quantity,"x"),_r(3),Ra("",t.card.name," "),_r(1),Mo("ngIf",null==t.set?null:t.set.code)}}function ZF(t,e){if(1&t&&(No(0,"span"),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),Ra(" - ",t.set.code,"")}}function QF(t,e){1&t&&Bo(0,"app-tooltip-card",59),2&t&&Mo("card",Ko().$implicit.card)}function JF(t,e){if(1&t){const t=Ho();No(0,"div",61),No(1,"div",62),No(2,"strong",63),Da(3),Fo(),No(4,"div",64),No(5,"div"),Da(6),Oo(7,ZF,2,1,"span",48),Fo(),No(8,"div"),No(9,"mat-icon",65),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().addCollectionItemSimple(n)})),Da(10,"add_circle"),Fo(),No(11,"mat-icon",65),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().removeCollectionItemSimple(n)})),Da(12,"remove_circle"),Fo(),Fo(),Fo(),Fo(),Oo(13,QF,1,1,"ng-template",null,51,Sc),Fo()}if(2&t){const t=e.$implicit,n=Do(14),i=Ko();Mo("className",t.card.type+"| card-container")("ngbTooltip",n)("container","body"),_r(1),fa("background-color",i.mainDeckMap.get(t.card.type)),_r(2),Ra("",t.quantity,"x"),_r(3),Ra("",t.card.name," "),_r(1),Mo("ngIf",null==t.set?null:t.set.code)}}function tB(t,e){if(1&t&&(No(0,"span"),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),Ra(" - ",t.set.code,"")}}function eB(t,e){1&t&&Bo(0,"app-tooltip-card",59),2&t&&Mo("card",Ko().$implicit.card)}function nB(t,e){if(1&t){const t=Ho();No(0,"div",61),No(1,"div",62),No(2,"strong",63),Da(3),Fo(),No(4,"div",64),No(5,"div"),Da(6),Oo(7,tB,2,1,"span",48),Fo(),No(8,"div"),No(9,"mat-icon",65),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().addCollectionItemSimple(n)})),Da(10,"add_circle"),Fo(),No(11,"mat-icon",65),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().removeCollectionItemSimple(n)})),Da(12,"remove_circle"),Fo(),Fo(),Fo(),Fo(),Oo(13,eB,1,1,"ng-template",null,51,Sc),Fo()}if(2&t){const t=e.$implicit,n=Do(14),i=Ko();Mo("className",t.card.type+"| card-container")("ngbTooltip",n)("container","body"),_r(1),fa("background-color",i.mainDeckMap.get(t.card.type)),_r(2),Ra("",t.quantity,"x"),_r(3),Ra("",t.card.name," "),_r(1),Mo("ngIf",null==t.set?null:t.set.code)}}function iB(t,e){if(1&t&&(No(0,"span"),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),Ra(" - ",t.set.code,"")}}function rB(t,e){1&t&&Bo(0,"app-tooltip-card",59),2&t&&Mo("card",Ko().$implicit.card)}function sB(t,e){if(1&t){const t=Ho();No(0,"div",61),No(1,"div",62),No(2,"strong",63),Da(3),Fo(),No(4,"div",64),No(5,"div"),Da(6),Oo(7,iB,2,1,"span",48),Fo(),No(8,"div"),No(9,"mat-icon",65),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().addCollectionItemSimple(n)})),Da(10,"add_circle"),Fo(),No(11,"mat-icon",65),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().removeCollectionItemSimple(n)})),Da(12,"remove_circle"),Fo(),Fo(),Fo(),Oo(13,rB,1,1,"ng-template",null,51,Sc),Fo(),Fo()}if(2&t){const t=e.$implicit,n=Do(14),i=Ko();Mo("className",t.card.type+"| card-container")("ngbTooltip",n)("container","body"),_r(1),fa("background-color",i.extraDeckMap.get(t.card.type)),_r(2),Ra("",t.quantity,"x"),_r(3),Ra("",t.card.name," "),_r(1),Mo("ngIf",null==t.set?null:t.set.code)}}function oB(t,e){if(1&t&&(No(0,"span"),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),Ra(" - ",t.set.code,"")}}function aB(t,e){1&t&&Bo(0,"app-tooltip-card",59),2&t&&Mo("card",Ko().$implicit.card)}function lB(t,e){if(1&t){const t=Ho();No(0,"div",61),No(1,"div",62),No(2,"strong",63),Da(3),Fo(),No(4,"div",64),No(5,"div"),Da(6),Oo(7,oB,2,1,"span",48),Fo(),No(8,"div"),No(9,"mat-icon",65),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().addCollectionItemSimple(n)})),Da(10,"add_circle"),Fo(),No(11,"mat-icon",65),qo("click",(function(){Je(t);const n=e.$implicit;return Ko().removeCollectionItemSimple(n)})),Da(12,"remove_circle"),Fo(),Fo(),Fo(),Fo(),Oo(13,aB,1,1,"ng-template",null,51,Sc),Fo()}if(2&t){const t=e.$implicit,n=Do(14),i=Ko();Mo("className",t.card.type+"| card-container")("ngbTooltip",n)("container","body"),_r(1),fa("background-color",i.extraDeckMap.get(t.card.type)),_r(2),Ra("",t.quantity,"x"),_r(3),Ra("",t.card.name," "),_r(1),Mo("ngIf",null==t.set?null:t.set.code)}}const cB=function(){return{color:"black"}};function hB(t,e){if(1&t){const t=Ho();No(0,"div",73),No(1,"img",74),qo("click",(function(){Je(t);const e=Ko().$implicit;return Ko(3).openFullWidthImageDialog(e)})),Fo(),No(2,"mat-icon",75),qo("click",(function(){Je(t);const e=Ko().$implicit;return Ko(3).deleteImage(e)})),Da(3,"delete "),Fo(),Fo()}if(2&t){const t=Ko().$implicit,e=Ko(3);_r(1),ta("src",e.backEndCollectionsUrl+e.collection.id+"/images/"+t.id,er),_r(1),Mo("ngStyle",Kl(2,cB))}}function uB(t,e){if(1&t&&(No(0,"div",71),Oo(1,hB,4,3,"div",72),Fo()),2&t){const t=e.$implicit;_r(1),Mo("ngIf",t.id)}}function dB(t,e){if(1&t&&(No(0,"div"),Oo(1,uB,2,1,"div",70),Fo()),2&t){const t=Ko(2);_r(1),Mo("ngForOf",t.collection.images)}}function pB(t,e){if(1&t){const t=Ho();No(0,"div",21),No(1,"textarea",66),qo("ngModelChange",(function(e){return Je(t),Ko().collection.comment=e})),Da(2,"\n        "),Fo(),No(3,"button",67),qo("click",(function(){return Je(t),Do(6).click()})),Da(4,"Ajouter Image "),No(5,"input",68,69),qo("change",(function(e){return Je(t),Ko().uploadFile(e)})),Fo(),Fo(),Oo(7,dB,2,1,"div",48),Fo()}if(2&t){const t=Ko();_r(1),Mo("ngModel",t.collection.comment),_r(6),Mo("ngIf",null==t.collection?null:t.collection.images)}}let fB=(()=>{class t{constructor(t,e,n,i,r,s){this.yugiohService=t,this.snackBar=e,this.route=n,this.dialog=i,this.dragulaService=s,this.backEndCardUrl=ZC+"/cards/",this.backEndCollectionsUrl=ZC+"/collections/",this.canSave=!1,this.cards=[],this.Position=EF,this.sort=AF.levelRankLinkDesc,this.noDeckItems=[],this.mainDeckMonstersItems=[],this.mainDeckSpellsItems=[],this.mainDeckTrapsItems=[],this.extraDeckItems=[],this.sideDeckItems=[],this.searchSub$=new k,this.mainDeckMap=new Map([["Effect Monster","rgba(139, 98, 32, 0.3)"],["Flip Effect Monster","rgba(139, 98, 32, 0.3)"],["Flip Tuner Effect Monster","rgba(139, 98, 32, 0.3)"],["Gemini Monster","rgba(139, 98, 32, 0.3)"],["Normal Monster","rgba(237, 227, 213, 1)"],["Normal Tuner Monster","rgba(237, 227, 213, 1)"],["Pendulum Effect Monster","rgba(115, 131, 112, 1)"],["Pendulum Flip Effect Monster","rgba(115, 131, 112 , 1)"],["Pendulum Normal Monster","rgba(115, 131, 112 , 1)"],["Pendulum Tuner Effect Monster","rgba(115, 131, 112 , 1)"],["Ritual Effect Monster","rgba(200, 210, 234, 1)"],["Ritual Monster","rgba(200, 210, 234 , 1)"],["Skill Card","rgb(233, 219, 223)"],["Spell Card","rgb(220, 234, 236)"],["Spirit Monster","rgba(139, 98, 32, 0.3)"],["Toon Monster","rgba(139, 98, 32, 0.3)"],["Trap Card","rgb(233, 219, 223)"],["Tuner Monster","rgba(139, 98, 32, 0.3)"],["Union Effect Monster","rgba(139, 98, 32, 0.3)"]]),this.extraDeckMap=new Map([["Fusion Monster","rgb(216 206 231)"],["Link Monster","rgb(57 93 168)"],["Pendulum Effect Fusion Monster","rgb(216 206 231)"],["Synchro Monster","rgb(238 238 238)"],["Synchro Pendulum Effect Monster","rgb(238 238 238)"],["Synchro Tuner Monster","rgb(238 238 238)"],["XYZ Monster","rgb(193 193 193)"],["XYZ Pendulum Effect Monster","rgb(193 193 193)"]]),this.subs=new u,this.dragulaName="CARDS",r.openDelay=400,this.subs.add(s.dropModel(this.dragulaName).subscribe(({target:t,item:e})=>{const n=e;n.position="id-main-monsters"===t.id||"id-main-spells"===t.id||"id-main-traps"===t.id?EF.MAIN_DECK:"id-side"===t.id?EF.SIDE_DECK:EF.EXTRA_DECK;const i=this.collection.items.filter(t=>t.card.apiId===n.card.apiId&&n.position===t.position&&t.set.code===n.set.code);console.log(i),2===i.length&&(i[0].quantity+=i[1].quantity,this.collection.items.splice(this.collection.items.indexOf(i[1]),1)),console.log("UPDATE LOCALE COLLECTION"),setTimeout(()=>{this.localUpdateCollection(!0)},25)})),s.createGroup(this.dragulaName,{accepts:(t,e,n,i)=>{const r=t.classList.value.split("|")[0];switch(console.log(r),n.id){case"id-main-monsters":return"id-main-monsters"===e.id||"id-side"===e.id;case"id-main-spells":return"id-main-spells"===e.id||"id-side"===e.id;case"id-main-traps":return"id-main-traps"===e.id||"id-side"===e.id;case"id-extra":return"id-extra"===e.id||"id-side"===e.id;case"id-side":return"id-main-monsters"===e.id?(console.log(this.mainDeckMap.get(r)&&void 0!==r.toLowerCase().includes("monster")),this.mainDeckMap.get(r)&&void 0!==r.toLowerCase().includes("monster")):"id-main-spells"===e.id?(console.log(this.mainDeckMap.get(r)&&void 0!==r.toLowerCase().includes("spell")),this.mainDeckMap.get(r)&&void 0!==r.toLowerCase().includes("spell")):"id-main-traps"===e.id?(console.log(this.mainDeckMap.get(r)&&void 0!==r.toLowerCase().includes("trap")),this.mainDeckMap.get(r)&&void 0!==r.toLowerCase().includes("trap")):"id-extra"!==e.id||(console.log(this.extraDeckMap.get(r)),void 0!==this.extraDeckMap.get(r));default:return!0}}})}ngOnInit(){this.yugiohService.getCards().subscribe(t=>{this.cards=t,this.collection&&this.refreshCollectionView()}),this.deckSearchValue=this.route.snapshot.queryParamMap.get("cardSearchValue"),this.yugiohService.getCollectionById(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.collection=t,this.refreshCollectionView()}),this.yugiohService.getSets().subscribe(t=>this.sets=t,()=>this.openSnackBar("Erreur lors de la r\xe9cup\xe9ration des sets","OK")),this.searchSub$.pipe(zv(400),kg()).subscribe(t=>{this.yugiohService.getCards(t.trim().toLowerCase()).subscribe(t=>{this.cards=t,this.collection&&this.refreshCollectionView()})})}ngAfterViewInit(){}ngOnDestroy(){this.subs.unsubscribe(),this.dragulaService.destroy(this.dragulaName)}applyCardFilter(t,e){let n;n=t?t.target.value:"",this.searchCardValue=n,this.searchSub$.next(n),e.focus()}addCollectionItemSimple(t){t.quantity<3&&(t.quantity+=1,this.localUpdateCollection(!0))}removeCollectionItemSimple(t){console.log(this.collection.items.length),t.quantity>1?t.quantity-=1:this.collection.items.splice(this.collection.items.indexOf(t),1),this.localUpdateCollection(!0)}addCollectionItem(t,e,n){var i;let r=!1;const s=this.sets.filter(t=>t.code===e)[0];for(const o of this.collection.items)if(o.card.id===t.id&&o.position===n&&(null===(i=null==o?void 0:o.set)||void 0===i?void 0:i.code)===(null==s?void 0:s.code)){if(!(o.quantity<3))return;o.quantity+=1,r=!0}r||this.collection.items.push(new IF(n,t,s)),this.localUpdateCollection(!0)}removeCollectionItem(t,e,n){var i;console.log("removeCollectionItem");const r=this.sets.filter(t=>t.code===e)[0];for(const s of this.collection.items)s.card.id===t.id&&s.position===n&&(null===(i=null==s?void 0:s.set)||void 0===i?void 0:i.code)===r.code&&(s.quantity>1?s.quantity-=1:this.collection.items.splice(this.collection.items.indexOf(s),1));return this.localUpdateCollection(!0),!1}openSnackBar(t,e){this.snackBar.open(t,e,{duration:3e3})}refreshCollectionView(){this.mainDeckSpellsItems=[],this.mainDeckTrapsItems=[],this.mainDeckMonstersItems=[],this.extraDeckItems=[],this.sideDeckItems=[],this.nbMainDeckMonstersItems=0,this.nbMainDeckSpellsItems=0,this.nbMainDeckTrapsItems=0,this.nbExtraDeckItems=0,this.nbSideDeckItems=0,console.log(this.collection.items),console.log(this.collection.items);for(const t of this.collection.items)if(!(this.deckSearchValue&&this.deckSearchValue.length>0)||t.card.name.toLowerCase().includes(this.deckSearchValue.toLowerCase()))switch(t.position){case EF.MAIN_DECK:"Spell Card"===t.card.type?this.mainDeckSpellsItems.push(t):"Trap Card"===t.card.type?this.mainDeckTrapsItems.push(t):this.mainDeckMonstersItems.push(t);break;case EF.EXTRA_DECK:this.extraDeckItems.push(t);break;case EF.SIDE_DECK:this.sideDeckItems.push(t)}for(const t of this.mainDeckMonstersItems)this.nbMainDeckMonstersItems+=t.quantity;for(const t of this.mainDeckSpellsItems)this.nbMainDeckSpellsItems+=t.quantity;for(const t of this.mainDeckTrapsItems)this.nbMainDeckTrapsItems+=t.quantity;for(const t of this.extraDeckItems)this.nbExtraDeckItems+=t.quantity;for(const t of this.sideDeckItems)this.nbSideDeckItems+=t.quantity;this.mainDeckMonstersItems.sort((t,e)=>t.card.name.localeCompare(e.card.name)),this.mainDeckSpellsItems.sort((t,e)=>t.card.name.localeCompare(e.card.name)),this.mainDeckTrapsItems.sort((t,e)=>t.card.name.localeCompare(e.card.name)),this.extraDeckItems.sort((t,e)=>t.card.name.localeCompare(e.card.name)),this.mainDeckTrapsItems.sort((t,e)=>t.card.name.localeCompare(e.card.name)),this.populateCardValues()}sortList(t,e,n){switch(console.log(this.sort),console.log(t),this.sort){case AF.atkAsc:t.sort((t,e)=>t.card.atk-e.card.atk);break;case AF.atkDesc:t.sort((t,e)=>e.card.atk-t.card.atk);break;case AF.defAsc:t.sort((t,e)=>t.card.def-e.card.def);break;case AF.defDesc:t.sort((t,e)=>e.card.def-t.card.def);break;case AF.levelRankLinkAsc:t.sort((t,e)=>t.card.level-e.card.level);break;case AF.levelRankLinkDesc:t.sort((t,e)=>e.card.level-t.card.level);break;case AF.nbOwnedAsc:t.sort(e);break;case AF.nbOwnedDesc:t.sort(n)}}openImportDialog(t){this.dialog.open(TF,{width:"400px",data:t}).afterClosed().subscribe(e=>{console.log("The dialog was closed");const n=e.split(/[\r\n]+/);console.log(n);const i=new Array,r=n.findIndex(t=>t.includes("main")),s=n.findIndex(t=>t.includes("extra")),o=n.findIndex(t=>t.includes("side"));for(let t=r+1;t<n.length;t++){t!==s&&t!==o||t++;const e=n[t];if(console.log(e),e&&e.trim().length>0){const n=e.trim().split(/ +/),r=this.sets.filter(t=>(null==t?void 0:t.code.toLowerCase())===n[n.length-1].toLowerCase()),a=n[0].charAt(0),l=t<s?0:t<o?1:2;let c="";const h=r&&r.length>0?r[0].code:null;for(let t=1;t<(h?n.length-1:n.length);t++)n[t]&&n.length>0&&(c+=n[t]+" ");i.push(new OF(a,c.trim(),h,l))}}this.yugiohService.importCollection(t.id,i).subscribe(t=>{this.collection=t.collection,this.localUpdateCollection(!1),this.openSnackBar(t.notAddedPojos.toString(),"OK")})})}download(){const t=new Array;t.push("main deck"),this.mainDeckMonstersItems.forEach(e=>{var n,i;let r;r=(null===(n=e.set)||void 0===n?void 0:n.code)?null===(i=e.set)||void 0===i?void 0:i.code:"",t.push(e.quantity+" "+e.card.name+" "+r)}),this.mainDeckSpellsItems.forEach(e=>{var n,i;let r;r=(null===(n=e.set)||void 0===n?void 0:n.code)?null===(i=e.set)||void 0===i?void 0:i.code:"",t.push(e.quantity+" "+e.card.name+" "+r)}),this.mainDeckTrapsItems.forEach(e=>{var n,i;let r;r=(null===(n=e.set)||void 0===n?void 0:n.code)?null===(i=e.set)||void 0===i?void 0:i.code:"",t.push(e.quantity+" "+e.card.name+" "+r)}),t.push("extra deck"),this.extraDeckItems.forEach(e=>{var n,i;let r;r=(null===(n=e.set)||void 0===n?void 0:n.code)?null===(i=e.set)||void 0===i?void 0:i.code:"",t.push(e.quantity+" "+e.card.name+" "+r)}),t.push("side deck"),this.sideDeckItems.forEach(e=>{var n,i;let r;r=(null===(n=e.set)||void 0===n?void 0:n.code)?null===(i=e.set)||void 0===i?void 0:i.code:"",t.push(e.quantity+" "+e.card.name+" "+r)});const e=t.join("\r\n"),n=new Blob([e],{type:"text/plain;charset=utf-8"}),i=this.collection.name+".json";Object(LF.saveAs)(n,i,{autoBom:!1})}populateCardValues(){this.cards.forEach(t=>{var e;t.mapMainDeckQuantity=new Map,t.mapExtraDeckQuantity=new Map,t.mapSideDeckQuantity=new Map,null===(e=this.collection)||void 0===e||e.items.forEach(e=>{e.card.name===t.name&&e.set&&(0===e.position?t.mapMainDeckQuantity.set(e.set.code,e.quantity):1===e.position?t.mapExtraDeckQuantity.set(e.set.code,e.quantity):2===e.position&&t.mapSideDeckQuantity.set(e.set.code,e.quantity))})})}uploadFile(t){const e=t.target.files[0];this.collection.images||(this.collection.images=[]);const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{const t=n.result.toString().split(",")[1];this.collection.images?this.collection.images.push(new MF(t)):this.collection.images=[new MF(t)],this.localUpdateCollection(!0)}}openFullWidthImageDialog(t){this.dialog.open(DF,{maxWidth:"100vw",maxHeight:"100vh",height:"100%",width:"100%",panelClass:"full-screen-modal",data:ZC+"/collections/"+this.collection.id+"/images/"+t.id})}deleteImage(t){this.collection.images.splice(this.collection.images.indexOf(t),1),this.localUpdateCollection(!0)}openSortDialog(){this.dialog.open(PF,{width:"300px",data:this.sort?this.sort:null}).afterClosed().subscribe(t=>{this.sort=t,this.refreshCollectionView()})}filter(){}saveDeck(){this.mainDeckMonstersItems.forEach(t=>t.position=EF.MAIN_DECK),this.mainDeckSpellsItems.forEach(t=>t.position=EF.MAIN_DECK),this.mainDeckTrapsItems.forEach(t=>t.position=EF.MAIN_DECK),this.extraDeckItems.forEach(t=>t.position=EF.EXTRA_DECK),this.sideDeckItems.forEach(t=>t.position=EF.SIDE_DECK),this.yugiohService.addOrUpdateCollection(this.collection).subscribe(t=>{this.collection=t,this.refreshCollectionView(),this.localUpdateCollection(!1)},()=>this.openSnackBar("Erreur lors de la sauvegarde","OK"))}localUpdateCollection(t){this.canSave=t,console.log(this.collection),this.refreshCollectionView(),window.onbeforeunload=t?t=>(t&&(t.returnValue="Are you sure?"),"Are you sure?"):null}canDeactivate(){return this.canSave?!!confirm("Les modification apport\xe9es au deck n'ont pas \xe9t\xe9 sauvegard\xe9es. Quitter quand m\xeame ?")&&(window.onbeforeunload=null,!0):(window.onbeforeunload=null,!0)}onClick(t){t.preventDefault(),2===t.which&&window.open("/")}}return t.\u0275fac=function(e){return new(e||t)(Ao(YN),Ao(_F),Ao(nf),Ao(Iw),Ao(gI),Ao(yM))},t.\u0275cmp=ge({type:t,selectors:[["app-deck"]],features:[nl([gI])],decls:79,vars:33,consts:[[1,"navbar","navbar-light","stroke","bottom-border",2,"background-color","rgb(31 31 31) !important","padding","0 !important"],["id","navbarSupportedContent",1,"navbar",2,"width","100%","display","flex","justify-content","space-between"],["mat-button","","routerLink","/",2,"padding","0","min-width","42px",3,"auxclick"],["src","../assets/images/smash-logo.png","alt","website icon",2,"width","42px","height","42px","border","0","cursor","pointer","filter","invert(1)"],[2,"display","flex","justify-content","center"],[2,"color","white","position","relative","left","-8px",3,"click"],[2,"color","white","position","relative","left","-8px","transform","rotate(180deg)",3,"click"],[2,"color","white"],[2,"color","white","position","relative","left","8px",3,"click"],["mat-stroked-button","","style","color: white",3,"click",4,"ngIf"],[2,"display","flex"],[2,"width","25vw","min-width","200px","display","flex","flex-direction","column","height","calc(100vh - 58px)","overflow-y","auto","background-color","rgb(15 15 15)","padding-left","4px","padding-right","4px"],[1,"bAXgkK"],[1,"qmUrg"],["id","sidebar-search-input","placeholder","Rechercher une carte","tabindex","0",3,"ngModel","ngModelChange","keyup"],["inputElement",""],[1,"jNdboZ",3,"click"],["style","display:flex; width: 100%;",3,"ngbTooltip","container",4,"ngFor","ngForOf"],[2,"width","100%","max-height","calc(100vh - 58px)"],["label","Cartes"],[1,"container-fluid",2,"display","flex","flex-direction","column","height","100%","overflow-y","auto","padding-right","0"],[2,"width","100%"],[2,"width","80%","margin-left","10%"],["appearance","outline",2,"width","100%"],["matInput","","type","text","accept","image/png, image/jpeg",3,"ngModel","ngModelChange","keyup"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[1,"row",2,"width","100%"],[1,"col-lg-6",2,"padding-right","1vw","padding-left","1vw","padding-bottom","1vh"],["multi",""],[3,"expanded"],[1,"category-cards",2,"margin-top","0"],["id","id-main-monsters",2,"min-height","20px",3,"dragula","dragulaModel","dragulaModelChange"],[3,"className","ngbTooltip","container",4,"ngFor","ngForOf"],[1,"category-cards"],["id","id-main-spells",2,"min-height","20px",3,"dragula","dragulaModel","dragulaModelChange"],["id","id-main-traps",2,"min-height","20px",3,"dragula","dragulaModel","dragulaModelChange"],[1,"col-lg-6",2,"padding-right","16px","padding-left","16px"],["id","id-extra",2,"min-height","20px",3,"dragula","dragulaModel","dragulaModelChange"],["id","id-side",2,"min-height","20px",3,"dragula","dragulaModel","dragulaModelChange"],["label","Commentaires & Images"],["style","width: 100%;",4,"ngIf"],["mat-stroked-button","",2,"color","white",3,"click"],[2,"display","flex","width","100%",3,"ngbTooltip","container"],[2,"width","20%"],["alt","Character picture",1,"img-fluid",2,"margin-right","4px",3,"src"],[2,"width","45%"],[1,"list-card-name"],[1,"list-card-content"],[4,"ngIf"],["class","list-card-content",4,"ngIf"],["style","display: flex; align-items: center",4,"ngFor","ngForOf"],["tipContent",""],[2,"display","flex","align-items","center"],[1,"list-card-content",2,"width","38px"],["class","list-card-mat-icon","style","border-radius: 6px 0 0 6px;",3,"contextmenu","click",4,"ngIf"],["class","list-card-mat-icon",3,"contextmenu","click",4,"ngIf"],[1,"list-card-mat-icon",2,"border-radius","0 6px 6px 0",3,"contextmenu","click"],[1,"list-card-mat-icon",2,"border-radius","6px 0 0 6px",3,"contextmenu","click"],[1,"list-card-mat-icon",3,"contextmenu","click"],[3,"card"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"className","ngbTooltip","container"],[1,"card-container-inside"],[1,"card-quantity"],[1,"card-name"],[3,"click"],["matInput","","placeholder","Commentaire...",2,"width","90%","height","90px","border","#3b3b3b 1px solid","padding","8px","margin","8px",3,"ngModel","ngModelChange"],["mat-raised-button","",2,"margin","8px",3,"click"],["id","inputImage","hidden","","type","file",3,"change"],["fileInput",""],["style","margin: 16px",4,"ngFor","ngForOf"],[2,"margin","16px"],["class","file-preview",4,"ngIf"],[1,"file-preview"],["height","120px",2,"height","150px","margin-right","16px",3,"src","click"],["aria-hidden","false","aria-label","Delte icon",1,"delete-file",3,"ngStyle","click"]],template:function(t,e){if(1&t){const t=Ho();No(0,"nav",0),No(1,"div",1),No(2,"div"),No(3,"button",2),qo("auxclick",(function(t){return e.onClick(t)})),Bo(4,"img",3),Fo(),Fo(),No(5,"div",4),No(6,"mat-icon",5),qo("click",(function(){return e.filter()})),Da(7," filter_alt "),Fo(),No(8,"mat-icon",6),qo("click",(function(){return e.openImportDialog(e.collection)})),Da(9," download "),Fo(),No(10,"div",7),Da(11),Fo(),No(12,"mat-icon",8),qo("click",(function(){return e.download()})),Da(13," download "),Fo(),No(14,"mat-icon",8),qo("click",(function(){return e.openSortDialog()})),Da(15," sort "),Fo(),Fo(),No(16,"div"),Oo(17,VF,2,0,"button",9),Fo(),Fo(),Fo(),No(18,"div",10),No(19,"div",11),No(20,"div",12),No(21,"div",13),No(22,"input",14,15),qo("ngModelChange",(function(t){return e.searchCardValue=t}))("keyup",(function(n){Je(t);const i=Do(23);return e.applyCardFilter(n,i)})),Fo(),No(24,"mat-icon",16),qo("click",(function(){Je(t);const n=Do(23);return e.applyCardFilter(null,n)})),Da(25," clear "),Fo(),Fo(),Fo(),Oo(26,WF,15,9,"div",17),Fo(),No(27,"mat-tab-group",18),No(28,"mat-tab",19),No(29,"div",20),No(30,"div",21),No(31,"div",22),No(32,"mat-form-field",23),No(33,"mat-label"),Da(34,"Recherche de carte dans le deck"),Fo(),No(35,"input",24),qo("ngModelChange",(function(t){return e.deckSearchValue=t}))("keyup",(function(){return e.refreshCollectionView()})),Fo(),Oo(36,GF,3,0,"button",25),Fo(),Fo(),Fo(),No(37,"div",26),No(38,"div",27),No(39,"mat-accordion",28),No(40,"mat-expansion-panel",29),No(41,"mat-expansion-panel-header"),No(42,"mat-panel-title"),No(43,"div",30),Da(44),Fo(),Fo(),Fo(),No(45,"div",31),qo("dragulaModelChange",(function(t){return e.mainDeckMonstersItems=t})),Oo(46,KF,15,8,"div",32),Fo(),Fo(),No(47,"mat-expansion-panel",29),No(48,"mat-expansion-panel-header"),No(49,"mat-panel-title"),No(50,"div",33),Da(51),Fo(),Fo(),Fo(),No(52,"div",34),qo("dragulaModelChange",(function(t){return e.mainDeckSpellsItems=t})),Oo(53,JF,15,8,"div",32),Fo(),Fo(),No(54,"mat-expansion-panel",29),No(55,"mat-expansion-panel-header"),No(56,"mat-panel-title"),No(57,"div",33),Da(58),Fo(),Fo(),Fo(),No(59,"div",35),qo("dragulaModelChange",(function(t){return e.mainDeckTrapsItems=t})),Oo(60,nB,15,8,"div",32),Fo(),Fo(),Fo(),Fo(),No(61,"div",36),No(62,"mat-accordion",28),No(63,"mat-expansion-panel",29),No(64,"mat-expansion-panel-header"),No(65,"mat-panel-title"),No(66,"div",30),Da(67),Fo(),Fo(),Fo(),No(68,"div",37),qo("dragulaModelChange",(function(t){return e.extraDeckItems=t})),Oo(69,sB,15,8,"div",32),Fo(),Fo(),No(70,"mat-expansion-panel",29),No(71,"mat-expansion-panel-header"),No(72,"mat-panel-title"),No(73,"div",33),Da(74),Fo(),Fo(),Fo(),No(75,"div",38),qo("dragulaModelChange",(function(t){return e.sideDeckItems=t})),Oo(76,lB,15,8,"div",32),Fo(),Fo(),Fo(),Fo(),Fo(),Fo(),Fo(),No(77,"mat-tab",39),Oo(78,pB,8,2,"div",40),Fo(),Fo(),Fo()}2&t&&(_r(11),Ra("Deck ",null==e.collection?null:e.collection.name,""),_r(6),Mo("ngIf",e.canSave),_r(5),Mo("ngModel",e.searchCardValue),_r(4),Mo("ngForOf",e.cards),_r(9),Mo("ngModel",e.deckSearchValue),_r(1),Mo("ngIf",e.deckSearchValue),_r(4),Mo("expanded",!0),_r(4),Pa(" Main Deck (",e.nbMainDeckMonstersItems+e.nbMainDeckSpellsItems+e.nbMainDeckTrapsItems,"), Monstres (",e.nbMainDeckMonstersItems,") "),_r(1),Mo("dragula",e.dragulaName)("dragulaModel",e.mainDeckMonstersItems),_r(1),Mo("ngForOf",e.mainDeckMonstersItems),_r(1),Mo("expanded",!0),_r(4),Ra(" Magies (",e.nbMainDeckSpellsItems,") "),_r(1),Mo("dragula",e.dragulaName)("dragulaModel",e.mainDeckSpellsItems),_r(1),Mo("ngForOf",e.mainDeckSpellsItems),_r(1),Mo("expanded",!0),_r(4),Ra(" Pi\xe8ges (",e.nbMainDeckTrapsItems,") "),_r(1),Mo("dragula",e.dragulaName)("dragulaModel",e.mainDeckTrapsItems),_r(1),Mo("ngForOf",e.mainDeckTrapsItems),_r(3),Mo("expanded",!0),_r(4),Ra(" Extra Deck (",e.nbExtraDeckItems,") "),_r(1),Mo("dragula",e.dragulaName)("dragulaModel",e.extraDeckItems),_r(1),Mo("ngForOf",e.extraDeckItems),_r(1),Mo("expanded",!0),_r(4),Ra(" Side Deck (",e.nbSideDeckItems,") "),_r(1),Mo("dragula",e.dragulaName)("dragulaModel",e.sideDeckItems),_r(1),Mo("ngForOf",e.sideDeckItems),_r(2),Mo("ngIf",e.collection))},directives:[jE,OI,dm,Wk,Qh,Hw,Xw,Jx,Kh,_O,cO,tk,WS,hk,xA,yA,bA,wA,bM,bI,BF,XS,su],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer}.list-card-name[_ngcontent-%COMP%]{font-weight:bolder;color:#fff}.mat-divider[_ngcontent-%COMP%]{border-top-color:#fff}.list-card-content[_ngcontent-%COMP%], .list-card-mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:12px}.list-card-mat-icon[_ngcontent-%COMP%]{font-weight:700;background-color:#373737;padding:8px;display:flex;align-content:center;justify-content:center;cursor:pointer;margin-top:1px;margin-bottom:1px}.list-card-mat-icon[_ngcontent-%COMP%]:hover{background-color:#3a86ff}.category-cards[_ngcontent-%COMP%]{margin-bottom:.25rem;margin-top:.25rem;color:#000;font-size:1rem;font-weight:800;align-items:center;display:flex;justify-content:space-between;transition:all .1s ease 0s}.card-container[_ngcontent-%COMP%]{display:block;padding:1px;text-decoration:none;width:100%}.card-container[_ngcontent-%COMP%]:hover{border:1px solid #424548}.card-container-inside[_ngcontent-%COMP%]{border-radius:2px;color:#000;font-size:1rem;font-weight:500;padding:0 .5rem 0 25px;position:relative;align-items:center;display:flex}.card-quantity[_ngcontent-%COMP%]{background:#fff;border-right:1px solid #fff;color:#777;font-size:.9rem;font-weight:400;position:absolute;top:0;left:0;height:100%;width:25px}.card-name[_ngcontent-%COMP%], .card-quantity[_ngcontent-%COMP%]{align-items:center;display:flex}.card-name[_ngcontent-%COMP%]{flex:1 1 0%;white-space:pre-line;overflow:hidden;justify-content:space-between;padding:8px}.card-text[_ngcontent-%COMP%]{color:#000;font-size:1rem;font-weight:500}.bAXgkK[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;align-items:center;display:flex;padding:.5rem 1rem;background:#000}.qmUrg[_ngcontent-%COMP%]{background:#fff;border-radius:3px;height:38px;width:100%;display:flex}.bAXgkK[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:0;height:100%;padding:.5rem;width:100%;box-shadow:none!important}.jNdboZ[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}"]}),t})();class mB{canDeactivate(t){return t.canDeactivate()}}function gB(t,e){if(1&t){const t=Ho();No(0,"button",19),qo("click",(function(){return Je(t),Ko().saveDeck()})),Da(1,"Sauvegarder"),Fo()}}function vB(t,e){1&t&&(No(0,"span"),Da(1,"-"),Fo())}function yB(t,e){if(1&t&&(No(0,"div",25),Da(1),Fo()),2&t){const t=Ko().$implicit;_r(1),Pa("",t.atk," / ",t.def,"")}}function bB(t,e){if(1&t){const t=Ho();No(0,"div",30),No(1,"div",31),Da(2),Fo(),No(3,"div",32),qo("contextmenu",(function(){Je(t);const n=e.$implicit,i=Ko().$implicit,r=Ko();return r.removeCollectionItem(i,n,r.Position.MAIN_DECK)}))("click",(function(){Je(t);const n=e.$implicit,i=Ko().$implicit,r=Ko();return r.addCollectionItem(i,n,r.Position.MAIN_DECK)})),Da(4),Fo(),Fo()}if(2&t){const t=e.$implicit,n=Ko().$implicit;_r(2),Aa(t),_r(2),Ra("",null!=n&&null!=n.mapMainDeckQuantity&&n.mapMainDeckQuantity.get(t)?null==n?null:n.mapMainDeckQuantity.get(t):"C"," ")}}function _B(t,e){1&t&&Bo(0,"app-tooltip-card",33),2&t&&Mo("card",Ko().$implicit)}function wB(t,e){if(1&t&&(No(0,"div",20),No(1,"div",21),Bo(2,"img",22),Fo(),No(3,"div",23),No(4,"div",24),Da(5),Fo(),No(6,"div",25),Da(7),Oo(8,vB,2,0,"span",26),Da(9),Fo(),Oo(10,yB,2,2,"div",27),Fo(),No(11,"div"),Oo(12,bB,5,2,"div",28),Fo(),Oo(13,_B,1,1,"ng-template",null,29,Sc),Fo()),2&t){const t=e.$implicit,n=Do(14),i=Ko();Mo("ngbTooltip",n)("container","body"),_r(2),ta("src",i.backEndCardUrl+t.apiId+"/image",er),_r(3),Aa(t.name),_r(2),Ra("",t.attribute," "),_r(1),Mo("ngIf","Spell Card"!==t.type&&"Trap Card"!==t.type),_r(1),Ra(" ",t.race,""),_r(1),Mo("ngIf","Spell Card"!==t.type&&"Trap Card"!==t.type),_r(2),Mo("ngForOf",t.setCodes)}}function xB(t,e){1&t&&(No(0,"div",34),No(1,"div",35),No(2,"div",36),Bo(3,"mat-spinner"),Fo(),Fo(),Fo())}function CB(t,e){if(1&t){const t=Ho();No(0,"button",44),qo("click",(function(){return Je(t),Ko(2).deckSearchValue=""})),No(1,"mat-icon"),Da(2,"close"),Fo(),Fo()}}function SB(t,e){1&t&&Bo(0,"app-tooltip-card",33),2&t&&Mo("card",Ko().$implicit.card)}function kB(t,e){if(1&t){const t=Ho();No(0,"div",49),No(1,"div",50),No(2,"strong",51),Da(3),Fo(),No(4,"div",52),No(5,"div"),Da(6),Fo(),No(7,"div"),No(8,"mat-icon",53),qo("click",(function(){Je(t);const n=e.$implicit;return Ko(3).addCollectionItemSimple(n)})),Da(9,"add_circle"),Fo(),No(10,"mat-icon",53),qo("click",(function(){Je(t);const n=e.$implicit;return Ko(3).removeCollectionItemSimple(n)})),Da(11,"remove_circle"),Fo(),Fo(),Fo(),Fo(),Oo(12,SB,1,1,"ng-template",null,29,Sc),Fo()}if(2&t){const t=e.$implicit,n=Do(13),i=Ko(3);Mo("ngbTooltip",n)("container","body"),_r(1),fa("background-color",i.mainDeckMap.get(t.card.type)),_r(2),Ra("",t.quantity,"x"),_r(3),Aa(t.card.name)}}function EB(t,e){if(1&t&&(No(0,"mat-expansion-panel",45),No(1,"mat-expansion-panel-header"),No(2,"mat-panel-title"),No(3,"div",46),Da(4),Fo(),Fo(),Fo(),No(5,"div",47),Oo(6,kB,14,6,"div",48),Fo(),Fo()),2&t){const t=e.$implicit,n=Ko(2);Mo("expanded",!0),_r(4),La(" ",t," ",n.getSetName(t)," - ",n.setNumberOfCardsMap.get(t)," ",n.getSetNumberOfCards(t)," cartes "),_r(2),Mo("ngForOf",n.setMap.get(t))}}function IB(t,e){if(1&t){const t=Ho();No(0,"div",34),No(1,"div",35),No(2,"div",37),No(3,"mat-form-field",38),No(4,"mat-label"),Da(5,"Recherche de carte dans le deck"),Fo(),No(6,"input",39),qo("ngModelChange",(function(e){return Je(t),Ko().deckSearchValue=e}))("keyup",(function(){return Je(t),Ko().refreshCollectionView()})),Fo(),Oo(7,CB,3,0,"button",40),Fo(),Fo(),Fo(),No(8,"div",41),No(9,"mat-accordion",42),Oo(10,EB,7,6,"mat-expansion-panel",43),Fo(),Fo(),Fo()}if(2&t){const t=Ko();_r(6),Mo("ngModel",t.deckSearchValue),_r(1),Mo("ngIf",t.deckSearchValue),_r(3),Mo("ngForOf",t.getKeys())}}let TB=(()=>{class t{constructor(t,e,n,i,r){this.yugiohService=t,this.snackBar=e,this.route=n,this.dialog=i,this.backEndCardUrl=ZC+"/cards/",this.canSave=!1,this.cards=[],this.Position=EF,this.sort=AF.levelRankLinkDesc,this.setMap=new Map,this.setNumberOfCardsMap=new Map,this.searchSub$=new k,this.isFullCollection=!1,this.mainDeckMap=new Map([["Effect Monster","rgba(139, 98, 32, 0.3)"],["Flip Effect Monster","rgba(139, 98, 32, 0.3)"],["Flip Tuner Effect Monster","rgba(139, 98, 32, 0.3)"],["Gemini Monster","rgba(139, 98, 32, 0.3)"],["Normal Monster","rgba(237, 227, 213, 1)"],["Normal Tuner Monster","rgba(237, 227, 213, 1)"],["Pendulum Effect Monster","rgba(115, 131, 112, 1)"],["Pendulum Flip Effect Monster","rgba(115, 131, 112 , 1)"],["Pendulum Normal Monster","rgba(115, 131, 112 , 1)"],["Pendulum Tuner Effect Monster","rgba(115, 131, 112 , 1)"],["Ritual Effect Monster","rgba(200, 210, 234, 1)"],["Ritual Monster","rgba(200, 210, 234 , 1)"],["Skill Card","rgb(233, 219, 223)"],["Spell Card","rgb(220, 234, 236)"],["Spirit Monster","rgba(139, 98, 32, 0.3)"],["Toon Monster","rgba(139, 98, 32, 0.3)"],["Trap Card","rgb(233, 219, 223)"],["Tuner Monster","rgba(139, 98, 32, 0.3)"],["Union Effect Monster","rgba(139, 98, 32, 0.3)"],["Fusion Monster","rgb(216 206 231)"],["Link Monster","rgb(57 93 168)"],["Pendulum Effect Fusion Monster","rgb(216 206 231)"],["Synchro Monster","rgb(238 238 238)"],["Synchro Pendulum Effect Monster","rgb(238 238 238)"],["Synchro Tuner Monster","rgb(238 238 238)"],["XYZ Monster","rgb(193 193 193)"],["XYZ Pendulum Effect Monster","rgb(193 193 193)"]]),r.openDelay=400}ngOnInit(){this.yugiohService.getCards().subscribe(t=>{console.log(t),this.cards=t,this.collection&&this.refreshCollectionView()}),this.deckSearchValue=this.route.snapshot.queryParamMap.get("cardSearchValue"),this.yugiohService.getCollectionById(this.route.snapshot.paramMap.get("id")).subscribe(t=>{this.collection=t,this.isFullCollection=!0,this.refreshCollectionView()}),this.yugiohService.getSets().subscribe(t=>this.sets=t,()=>this.openSnackBar("Erreur lors de la r\xe9cup\xe9ration des sets","OK")),this.searchSub$.pipe(zv(400),kg()).subscribe(t=>{this.yugiohService.getCards(t.trim().toLowerCase()).subscribe(t=>{this.cards=t,this.collection&&this.refreshCollectionView()})})}ngAfterViewInit(){}applyCardFilter(t,e){let n;n=t?t.target.value:"",this.cardSearchValue=n,this.searchSub$.next(n),e.focus()}addCollectionItemSimple(t){t.quantity+=1,this.localUpdateCollection(!0)}removeCollectionItemSimple(t){console.log(this.collection.items.length),t.quantity>1?t.quantity-=1:this.collection.items.splice(this.collection.items.indexOf(t),1),this.localUpdateCollection(!0)}addCollectionItem(t,e,n){var i;let r=!1;const s=this.sets.filter(t=>t.code===e)[0];for(const o of this.collection.items)o.card.id===t.id&&o.position===n&&(null===(i=null==o?void 0:o.set)||void 0===i?void 0:i.code)===s.code&&(o.quantity+=1,r=!0);r||this.collection.items.push(new IF(n,t,s)),this.localUpdateCollection(!0)}removeCollectionItem(t,e,n){var i;const r=this.sets.filter(t=>t.code===e)[0];for(const s of this.collection.items)s.card.id===t.id&&s.position===n&&(null===(i=null==s?void 0:s.set)||void 0===i?void 0:i.code)===r.code&&(s.quantity>1?s.quantity-=1:this.collection.items.splice(this.collection.items.indexOf(s),1));return this.localUpdateCollection(!0),!1}openSnackBar(t,e){this.snackBar.open(t,e,{duration:3e3})}getKeys(){return Array.from(this.setMap.keys())}getSetNumberOfCards(t){var e;const n=null===(e=this.sets.find(e=>t===e.code))||void 0===e?void 0:e.numCards;return n?" / "+n:""}getSetName(t){var e;if(this.sets){const n=null===(e=this.sets.find(e=>t===e.code))||void 0===e?void 0:e.name;return n?"  ("+n+") ":""}}refreshCollectionView(){this.setMap.clear(),this.setNumberOfCardsMap.clear(),this.setMap.set("SANS CODE",new Array),this.setNumberOfCardsMap.set("SANS CODE",0),this.collection.items.filter(t=>!this.deckSearchValue||0===this.deckSearchValue.length||t.card.name.toLowerCase().includes(this.deckSearchValue.toLowerCase())).forEach(t=>{t.set?this.setMap.has(t.set.code)?(this.setMap.get(t.set.code).push(t),this.setNumberOfCardsMap.set(t.set.code,this.setNumberOfCardsMap.get(t.set.code)+1)):(this.setMap.set(t.set.code,[t]),this.setNumberOfCardsMap.set(t.set.code,1)):(this.setMap.get("SANS CODE").push(t),this.setNumberOfCardsMap.set("SANS CODE",this.setNumberOfCardsMap.get("SANS CODE")+1))}),this.setMap.forEach(t=>{t.sort((t,e)=>t.card.type.localeCompare(e.card.type)||t.card.name.localeCompare(e.card.name))}),this.populateCardValues()}sortByMultipleKey(t){return(e,n)=>{if(0===t.length)return 0;const i=t[0];return e[i]<n[i]?-1:e[i]>n[i]?1:this.sortByMultipleKey(t.slice(1))(e,n)}}openImportDialog(t){this.dialog.open(TF,{width:"400px",data:t}).afterClosed().subscribe(e=>{console.log("The dialog was closed");const n=e.split(/[\r\n]+/);console.log(n);const i=new Array;for(const t of n)if(t&&t.trim().length>0&&t.charAt(0)>="0"&&t.charAt(0)<="9"){const e=t.trim().split(/ +/),n=this.sets.filter(t=>t.code.toLowerCase()===e[e.length-1].toLowerCase()),r=e[0].charAt(0);let s="";const o=n&&n.length>0?n[0].code:null;for(let t=1;t<(o?e.length-1:e.length);t++)e[t]&&e.length>0&&(s+=e[t]+" ");i.push(new OF(r,s.trim(),o,0))}this.yugiohService.importCollection(t.id,i).subscribe(t=>{this.collection=t.collection,this.localUpdateCollection(!1),this.openSnackBar(t.notAddedPojos.toString(),"OK")})})}download(){var t,e;const n=new Array;for(const o of this.collection.items){let i;i=(null===(t=null==o?void 0:o.set)||void 0===t?void 0:t.code)?null===(e=null==o?void 0:o.set)||void 0===e?void 0:e.code:"",n.push(o.quantity+" "+o.card.name+" "+i)}const i=n.join("\r\n"),r=new Blob([i],{type:"text/plain;charset=utf-8"}),s=this.collection.name+".json";Object(LF.saveAs)(r,s,{autoBom:!1})}populateCardValues(){this.cards.forEach(t=>{var e;t.mapMainDeckQuantity=new Map,null===(e=this.collection)||void 0===e||e.items.forEach(e=>{if(e.card.name===t.name&&e.set)return console.log(e),void t.mapMainDeckQuantity.set(e.set.code,e.quantity)})})}openSortDialog(){this.dialog.open(PF,{width:"300px",data:this.sort?this.sort:null}).afterClosed().subscribe(t=>{this.sort=t,this.refreshCollectionView()})}filter(){}saveDeck(){this.yugiohService.addOrUpdateCollection(this.collection).subscribe(t=>{this.collection=t,this.refreshCollectionView(),this.localUpdateCollection(!1)},()=>this.openSnackBar("Erreur lors de la sauvegarde","OK"))}localUpdateCollection(t){this.canSave=t,this.refreshCollectionView(),window.onbeforeunload=t?t=>(t&&(t.returnValue="Are you sure?"),"Are you sure?"):null}canDeactivate(){return this.canSave?!!confirm("Les modification apport\xe9es \xe0 la collection n'ont pas \xe9t\xe9 sauvegard\xe9es. Quitter quand m\xeame ?")&&(window.onbeforeunload=null,!0):(window.onbeforeunload=null,!0)}onClick(t){t.preventDefault(),2===t.which&&window.open("/")}}return t.\u0275fac=function(e){return new(e||t)(Ao(YN),Ao(_F),Ao(nf),Ao(Iw),Ao(gI))},t.\u0275cmp=ge({type:t,selectors:[["app-collection-new"]],decls:29,vars:6,consts:[[1,"navbar","navbar-light","stroke","bottom-border",2,"background-color","rgb(31 31 31) !important","padding","0 !important"],["id","navbarSupportedContent",1,"navbar",2,"width","100%","display","flex","justify-content","space-between"],["mat-button","","routerLink","/",2,"padding","0","min-width","42px",3,"auxclick"],["src","../assets/images/smash-logo.png","alt","website icon",2,"width","42px","height","42px","border","0","cursor","pointer","filter","invert(1)"],[2,"display","flex","justify-content","center"],[2,"color","white","position","relative","left","-8px",3,"click"],[2,"color","white","position","relative","left","-8px","transform","rotate(180deg)",3,"click"],[2,"color","white"],[2,"color","white","position","relative","left","8px",3,"click"],["mat-stroked-button","","style","color: white",3,"click",4,"ngIf"],[2,"display","flex"],[2,"width","25vw","min-width","200px","display","flex","flex-direction","column","height","calc(100vh - 58px)","overflow-y","auto","background-color","rgb(15 15 15)","padding-left","4px","padding-right","4px"],[1,"bAXgkK"],[1,"qmUrg"],["id","sidebar-search-input","placeholder","Rechercher une carte","tabindex","0",3,"ngModel","ngModelChange","keyup"],["inputElement",""],[1,"jNdboZ",3,"click"],["style","display:flex; width: 100%;",3,"ngbTooltip","container",4,"ngFor","ngForOf"],["style","flex-grow: 1; max-height: calc(100vh - 58px); overflow-y: auto;",4,"ngIf"],["mat-stroked-button","",2,"color","white",3,"click"],[2,"display","flex","width","100%",3,"ngbTooltip","container"],[2,"width","20%"],["alt","Character picture",1,"img-fluid",2,"margin-right","4px",3,"src"],[2,"width","65%"],[1,"list-card-name"],[1,"list-card-content"],[4,"ngIf"],["class","list-card-content",4,"ngIf"],["style","display: flex; align-items: center",4,"ngFor","ngForOf"],["tipContent",""],[2,"display","flex","align-items","center"],[1,"list-card-content",2,"width","38px"],[1,"list-card-mat-icon",2,"border-radius","6px",3,"contextmenu","click"],[3,"card"],[2,"flex-grow","1","max-height","calc(100vh - 58px)","overflow-y","auto"],[2,"width","100%"],[2,"display","flex","align-items","center","justify-content","center","margin-top","20vh"],[2,"width","80%","margin-left","10%"],["appearance","outline",2,"width","100%"],["matInput","","type","text",3,"ngModel","ngModelChange","keyup"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[2,"padding-bottom","1vh"],["multi",""],[3,"expanded",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"expanded"],[1,"category-cards"],[1,"card-group-container"],["class","card-container",3,"ngbTooltip","container",4,"ngFor","ngForOf"],[1,"card-container",3,"ngbTooltip","container"],[1,"card-container-inside"],[1,"card-quantity"],[1,"card-name"],[3,"click"]],template:function(t,e){if(1&t){const t=Ho();No(0,"nav",0),No(1,"div",1),No(2,"div"),No(3,"button",2),qo("auxclick",(function(t){return e.onClick(t)})),Bo(4,"img",3),Fo(),Fo(),No(5,"div",4),No(6,"mat-icon",5),qo("click",(function(){return e.filter()})),Da(7," filter_alt "),Fo(),No(8,"mat-icon",6),qo("click",(function(){return e.openImportDialog(e.collection)})),Da(9," download "),Fo(),No(10,"div",7),Da(11),Fo(),No(12,"mat-icon",8),qo("click",(function(){return e.download()})),Da(13," download "),Fo(),No(14,"mat-icon",8),qo("click",(function(){return e.openSortDialog()})),Da(15," sort "),Fo(),Fo(),No(16,"div"),Oo(17,gB,2,0,"button",9),Fo(),Fo(),Fo(),No(18,"div",10),No(19,"div",11),No(20,"div",12),No(21,"div",13),No(22,"input",14,15),qo("ngModelChange",(function(t){return e.cardSearchValue=t}))("keyup",(function(n){Je(t);const i=Do(23);return e.applyCardFilter(n,i)})),Fo(),No(24,"mat-icon",16),qo("click",(function(){Je(t);const n=Do(23);return e.applyCardFilter(null,n)})),Da(25," clear "),Fo(),Fo(),Fo(),Oo(26,wB,15,9,"div",17),Fo(),Oo(27,xB,4,0,"div",18),Oo(28,IB,11,3,"div",18),Fo()}2&t&&(_r(11),Ra("Collection ",null==e.collection?null:e.collection.name,""),_r(6),Mo("ngIf",e.canSave),_r(5),Mo("ngModel",e.cardSearchValue),_r(4),Mo("ngForOf",e.cards),_r(1),Mo("ngIf",!e.isFullCollection),_r(1),Mo("ngIf",e.isFullCollection))},directives:[jE,OI,dm,Wk,Qh,Hw,Xw,Jx,Kh,bI,BF,RT,tk,WS,hk,xA,XS,yA,bA,wA],styles:["mat-icon[_ngcontent-%COMP%]{cursor:pointer}.card-group-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.list-card-name[_ngcontent-%COMP%]{font-weight:bolder;color:#fff}.list-card-content[_ngcontent-%COMP%], .list-card-mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:12px}.list-card-mat-icon[_ngcontent-%COMP%]{font-weight:700;background-color:#373737;padding:8px;display:flex;align-content:center;justify-content:center;cursor:pointer;margin-top:1px;margin-bottom:1px}.list-card-mat-icon[_ngcontent-%COMP%]:hover{background-color:#3a86ff}.category-cards[_ngcontent-%COMP%]{margin-bottom:.25rem;margin-top:.25rem;color:#000;font-size:1rem;font-weight:800;align-items:center;display:flex;justify-content:space-between;transition:all .1s ease 0s}.card-container[_ngcontent-%COMP%]{display:block;text-decoration:none;width:50%;padding:1px 16px}@media (max-width:992px){.card-container[_ngcontent-%COMP%]{width:100%}}.card-container[_ngcontent-%COMP%]:hover{border:1px solid #424548}.card-container-inside[_ngcontent-%COMP%]{border-radius:2px;color:#000;font-size:1rem;font-weight:500;padding:0 .5rem 0 25px;position:relative;align-items:center;display:flex}.card-quantity[_ngcontent-%COMP%]{background:#fff;border-right:1px solid #fff;color:#777;font-size:.9rem;font-weight:400;position:absolute;top:0;left:0;height:100%;width:25px}.card-name[_ngcontent-%COMP%], .card-quantity[_ngcontent-%COMP%]{align-items:center;display:flex}.card-name[_ngcontent-%COMP%]{flex:1 1 0%;white-space:pre-line;overflow:hidden;justify-content:space-between;padding:8px}.card-text[_ngcontent-%COMP%]{color:#000;font-size:1rem;font-weight:500}.bAXgkK[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;align-items:center;display:flex;padding:.5rem 1rem;background:#000}.qmUrg[_ngcontent-%COMP%]{background:#fff;border-radius:3px;height:38px;width:100%;display:flex}.bAXgkK[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:0;height:100%;padding:.5rem;width:100%;box-shadow:none!important}.jNdboZ[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}"]}),t})();class OB{canDeactivate(t,e,n,i){return t.canDeactivate()}}const DB=[{path:"",component:kF},{path:"characters",component:HN},{path:"moveset",component:vT},{path:"character/:name",component:LN},{path:"match",component:wN},{path:"match/:char1/:char2",component:wN},{path:"yu-gi-oh/2",component:JN},{path:"yu-gi-oh/3",component:rF},{path:"yu-gi-oh/collections",component:kF},{path:"yu-gi-oh/collections/:id",component:TB,canDeactivate:[OB]},{path:"yu-gi-oh/decks/:id",component:fB,canDeactivate:[mB]},{path:"not-found",component:UN},{path:"**",redirectTo:"not-found"}];let AB=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[Em.forRoot(DB)],Em]}),t})();const RB=["mainPage"],PB=["services"],MB=["projets"],LB=["contact"],NB=["sidenav"],BB=["globalnav"];let VB=(()=>{class t{constructor(t,e,n){this.translate=t,this.loginService=e,this.yugiohService=n,this.title="angularDemo",this.isFrench=!0,this.canScroll=!0,this.isOpen=!1,this.scrollInProgress=!1,t.addLangs(["en","fr"]);const i=t.getBrowserLang();t.use(i.match(/en|fr/)?i:"en"),this.englishCheck="en"===t.currentLang}ngOnInit(){}toggleLanguage(t){this.translate.use(t.checked?"en":"fr")}signInWithGoogle(){this.loginService.signInWithGoogle()}signOut(){this.loginService.signOut()}}return t.\u0275fac=function(e){return new(e||t)(Ao(yS),Ao(dT),Ao(YN))},t.\u0275cmp=ge({type:t,selectors:[["app-root"]],viewQuery:function(t,e){var n;1&t&&(mc(RB,!0),mc(PB,!0),mc(MB,!0),mc(LB,!0),mc(NB,!0),mc(BB,!0)),2&t&&(pc(n=_c())&&(e.mainPage=n.first),pc(n=_c())&&(e.servicesPage=n.first),pc(n=_c())&&(e.projectPage=n.first),pc(n=_c())&&(e.contactProject=n.first),pc(n=_c())&&(e.sidenav=n.first),pc(n=_c())&&(e.globalnav=n.first))},decls:1,vars:0,template:function(t,e){1&t&&Bo(0,"router-outlet")},directives:[gm],styles:['button[_ngcontent-%COMP%]{transition:all .5s}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;text-align:center}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:5px;text-decoration:none;color:#f5f0f0;font-weight:500;text-transform:uppercase;margin:0 10px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{transition:all .5s}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f5f0f0}nav.fill[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], nav.stroke[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative}nav.fill[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after, nav.stroke[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{position:absolute;bottom:0;left:0;right:0;margin:auto;width:0;content:".";color:transparent;background:#f5f0f0;height:1px}nav.stroke[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{width:100%}nav.fill[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:all 2s}nav.fill[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:after{text-align:left;content:".";margin:0;opacity:0}nav.fill[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f5f0f0;z-index:1}nav.fill[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:after{z-index:-10;animation:fill 1s forwards;-webkit-animation:fill 1s forwards;-moz-animation:fill 1s forwards;opacity:1}@-webkit-keyframes fill{0%{width:0;height:1px}50%{width:100%;height:1px}to{width:100%;height:100%;background:#333}}'],data:{animation:[Nm("openClose",[jm("open",zm({transform:"rotate(360deg)"})),jm("closed",zm({transform:"rotate(-360deg)"})),Um("* => *",[Fm("1s")])]),Nm("sideNavOpenClose",[jm("open",zm({transform:"translateX(0)"})),jm("closed",zm({transform:"translateX(-100%)"})),Um("* => *",[Fm("0.5s")])])]}}),t})(),zB=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,M_,lv,Zg],M_]}),t})();class jB{constructor(t,e="/assets/i18n/",n=".json"){this.http=t,this.prefix=e,this.suffix=n}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}function HB(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}function UB(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function $B(t,e){const n=e?"":"none";UB(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function qB(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function WB(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}const GB=nv({passive:!0}),YB=nv({passive:!1});class XB{constructor(t,e,n,i,r,s){this._config=e,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new k,this._pointerMoveSubscription=u.EMPTY,this._pointerUpSubscription=u.EMPTY,this._scrollSubscription=u.EMPTY,this._resizeSubscription=u.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new k,this.started=new k,this.released=new k,this.ended=new k,this.entered=new k,this.exited=new k,this.dropped=new k,this.moved=this._moveEvents.asObservable(),this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{if(!this._hasStartedDragging){const e=this._getPointerPositionOnPage(t);if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+(this.dragStartDelay||0)))return void this._endDragSequence(t);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const e=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,t.preventDefault(),this._updatePointerDirectionDelta(e),this._dropContainer)this._updateActiveDropContainer(e);else{const t=this._activeTransform;t.x=e.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=e.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:e,event:t,distance:this._getDragDistance(e),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=ug(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}withHandles(t){return this._handles=t.map(t=>gg(t)),this._handles.forEach(t=>$B(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=gg(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),e.addEventListener("mousedown",this._pointerDown,YB),e.addEventListener("touchstart",this._pointerDown,GB),this._initialTransform=void 0,this._rootElement=e),this}withBoundaryElement(t){return this._boundaryElement=t?gg(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&JB(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._nextSibling=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&JB(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&JB(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){if(this.started.next({source:this}),tV(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions(),this._dropContainer){const t=this._rootElement;this._nextSibling=t.nextSibling;const n=this._preview=this._createPreviewElement(),i=this._placeholder=this._createPlaceholderElement();t.style.display="none",this._document.body.appendChild(t.parentNode.replaceChild(i,t)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(n),this._dropContainer.start()}var e}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),i=tV(e),r=!i&&0!==e.button,s=this._rootElement,o=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||o)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor,s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._initialContainer=this._dropContainer,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.pipe(Nd(null)).subscribe(()=>{this._scrollPosition=this._viewportRuler.getViewportScrollPosition()}),this._boundaryElement&&(this._boundaryRect=this._boundaryElement.getBoundingClientRect()),this._pickupPositionInElement=this._previewTemplate&&this._previewTemplate.template?{x:0,y:0}:this._getPointerPositionInElement(t,e);const a=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){this._rootElement.style.display="",this._nextSibling?this._nextSibling.parentNode.insertBefore(this._rootElement,this._nextSibling):gg(this._initialContainer.element).appendChild(this._rootElement),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),i=this._getPointerPositionOnPage(t),r=this._getDragDistance(this._getPointerPositionOnPage(t)),s=e._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialContainer.getItemIndex(this),container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:r}),e.drop(this,n,this._initialContainer,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e}){let n=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!n&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(n=this._initialContainer),n&&n!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=n,this._dropContainer.enter(this,t,e),this.entered.next({item:this,container:n,currentIndex:n.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(t,e),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=KB(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=t?t.template:null;let n;if(e){const i=t.viewContainer.createEmbeddedView(e,t.context);n=eV(i,this._document),this._previewRef=i,n.style.transform=KB(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement,e=t.getBoundingClientRect();n=ZB(t),n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,n.style.transform=KB(e.left,e.top)}return UB(n.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"1000"}),$B(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=KB(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=WB(e,"transition-property"),i=n.find(t=>"transform"===t||"all"===t);if(!i)return 0;const r=n.indexOf(i),s=WB(e,"transition-duration"),o=WB(e,"transition-delay");return qB(s[r])+qB(o[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(i))},i=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),n=eV(this._placeholderRef,this._document)):n=ZB(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,s=tV(e)?e.targetTouches[0]:e;return{x:r.left-n.left+(s.pageX-r.left-this._scrollPosition.left),y:r.top-n.top+(s.pageY-r.top-this._scrollPosition.top)}}_getPointerPositionOnPage(t){const e=tV(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.pageX-this._scrollPosition.left,y:e.pageY-this._scrollPosition.top}}_getConstrainedPointerPosition(t){const e=this._getPointerPositionOnPage(t),n=this.constrainPosition?this.constrainPosition(e,this):e,i=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===i?n.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==i||(n.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,i=this._boundaryRect,r=this._previewRect,s=i.top+e,o=i.bottom-(r.height-e);n.x=QB(n.x,i.left+t,i.right-(r.width-t)),n.y=QB(n.y,s,o)}return n}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-r.x),o=Math.abs(n-r.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,$B(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,YB),t.removeEventListener("touchstart",this._pointerDown,GB)}_applyRootElementTransform(t,e){const n=KB(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect(),r=n.left-i.left,s=i.right-n.right,o=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(r>0&&(t+=r),s>0&&(t-=s)):t=0,n.height>i.height?(o>0&&(e+=o),a>0&&(e-=a)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}}function KB(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function ZB(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.querySelectorAll("canvas");e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");if(i.length){const t=e.querySelectorAll("canvas");for(let e=0;e<i.length;e++){const n=t[e].getContext("2d");n&&n.drawImage(i[e],0,0)}}return e}function QB(t,e,n){return Math.max(e,Math.min(n,t))}function JB(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function tV(t){return"t"===t.type[0]}function eV(t,e){const n=t.rootNodes[0];if(n.nodeType!==e.ELEMENT_NODE){const t=e.createElement("div");return t.appendChild(n),t}return n}function nV(t,e){return Math.max(0,Math.min(e,t))}let iV=0;class rV{constructor(t,e,n,i,r){this._dragDropRegistry=e,this._ngZone=i,this._viewportRuler=r,this.id=`cdk-drop-list-ref-${iV++}`,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new k,this.entered=new k,this.exited=new k,this.dropped=new k,this.sorted=new k,this._isDragging=!1,this._itemPositions=[],this._scrollPosition={top:0,left:0},this._viewportScrollPosition={top:0,left:0},this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=u.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new k,this._handleScroll=()=>{if(!this.isDragging())return;const t=gg(this.element);this._updateAfterScroll(this._scrollPosition,t.scrollTop,t.scrollLeft)},this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=Tg){return(!Ag(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Tg),new _(n=>(n.add(e.schedule(HB,t,{subscriber:n,counter:0,period:t})),n))}(0,Sg).pipe(Lg(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?cV(t,-2):2===this._verticalScrollDirection&&cV(t,2),1===this._horizontalScrollDirection?hV(t,-2):2===this._horizontalScrollDirection&&hV(t,2)})};const s=this.element=gg(t);this._shadowRoot=function(t){if(iv()){const e=t.getRootNode?t.getRootNode():null;if(e instanceof ShadowRoot)return e}return null}(s)||n,e.registerDropContainer(this)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._removeListeners(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=gg(this.element);this.beforeStarted.next(),this._isDragging=!0,this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._removeListeners(),this._ngZone?this._ngZone.runOutsideAngular(()=>t.addEventListener("scroll",this._handleScroll)):t.addEventListener("scroll",this._handleScroll),this._viewportRuler&&this._listenToScrollEvents()}enter(t,e,n){this.start();let i=this.sortingDisabled?this._draggables.indexOf(t):-1;-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n));const r=this._activeDraggables,s=r.indexOf(t),o=t.getPlaceholderElement();let a=r[i];if(a===t&&(a=r[i+1]),s>-1&&r.splice(s,1),a&&!this._dragDropRegistry.isDragging(a)){const e=a.getRootElement();e.parentElement.insertBefore(o,e),r.splice(i,0,t)}else gg(this.element).appendChild(o),r.push(t);o.style.transform="",this._cacheItemPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,i,r={x:0,y:0}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n.getItemIndex(t),container:this,previousContainer:n,isPointerOverContainer:i,distance:r})}withItems(t){return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&this._cacheItems(),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}getItemIndex(t){return this._isDragging?oV("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,i){if(this.sortingDisabled||!this._isPointerNearDropContainer(e,n))return;const r=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,n,i);if(-1===s&&r.length>0)return;const o="horizontal"===this._orientation,a=oV(r,e=>e.drag===t),l=r[s],c=r[a].clientRect,h=l.clientRect,u=a>s?1:-1;this._previousSwap.drag=l.drag,this._previousSwap.delta=o?i.x:i.y;const d=this._getItemOffsetPx(c,h,u),p=this._getSiblingOffsetPx(a,r,u),f=r.slice();!function(t,e,n){const i=nV(e,t.length-1),r=nV(n,t.length-1);if(i===r)return;const s=t[i],o=r<i?-1:1;for(let a=i;a!==r;a+=o)t[a]=t[a+o];t[r]=s}(r,a,s),this.sorted.next({previousIndex:a,currentIndex:s,container:this,item:t}),r.forEach((e,n)=>{if(f[n]===e)return;const i=e.drag===t,r=i?d:p,s=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,o?(s.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,sV(e.clientRect,0,r)):(s.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,sV(e.clientRect,r,0))})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._isPointerNearDropContainer(t,e)){const s=gg(this.element);[i,r]=function(t,e,n,i){const r=uV(e,i),s=dV(e,n);let o=0,a=0;if(r){const e=t.scrollTop;1===r?e>0&&(o=1):t.scrollHeight-e>t.clientHeight&&(o=2)}if(s){const e=t.scrollLeft;1===s?e>0&&(a=1):t.scrollWidth-e>t.clientWidth&&(a=2)}return[o,a]}(s,this._clientRect,t,e),(i||r)&&(n=s)}if(this._viewportRuler&&!i&&!r){const{width:s,height:o}=this._viewportRuler.getViewportSize(),a={width:s,height:o,top:0,right:s,bottom:o,left:0};i=uV(a,e),r=dV(a,t),n=window}!n||i===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone?this._ngZone.runOutsideAngular(this._startScrollInterval):this._startScrollInterval():this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheOwnPosition(){const t=gg(this.element);this._clientRect=lV(t),this._scrollPosition={top:t.scrollTop,left:t.scrollLeft}}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=this._dragDropRegistry.isDragging(t)?t.getPlaceholderElement():t.getRootElement();return{drag:t,offset:0,clientRect:lV(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1,this._activeDraggables.forEach(t=>t.getRootElement().style.transform=""),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._removeListeners()}_getSiblingOffsetPx(t,e,n){const i="horizontal"===this._orientation,r=e[t].clientRect,s=e[t+-1*n];let o=r[i?"width":"height"]*n;if(s){const t=i?"left":"top",e=i?"right":"bottom";-1===n?o-=s.clientRect[t]-r[e]:o+=r[t]-s.clientRect[e]}return o}_isPointerNearDropContainer(t,e){const{top:n,right:i,bottom:r,left:s,width:o,height:a}=this._clientRect,l=.05*o,c=.05*a;return e>n-c&&e<r+c&&t>s-l&&t<i+l}_getItemOffsetPx(t,e,n){const i="horizontal"===this._orientation;let r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}_getItemIndexFromPointerPosition(t,e,n,i){const r="horizontal"===this._orientation;return oV(this._itemPositions,({drag:s,clientRect:o},a,l)=>{if(s===t)return l.length<2;if(i){const t=r?i.x:i.y;if(s===this._previousSwap.drag&&t===this._previousSwap.delta)return!1}return r?e>=Math.floor(o.left)&&e<=Math.floor(o.right):n>=Math.floor(o.top)&&n<=Math.floor(o.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheOwnPosition()}_updateAfterScroll(t,e,n,i){const r=t.top-e,s=t.left-n;i&&sV(i,r,s),this._itemPositions.forEach(({clientRect:t})=>{sV(t,r,s)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}),t.top=e,t.left=n}_removeListeners(){gg(this.element).removeEventListener("scroll",this._handleScroll),this._viewportScrollSubscription.unsubscribe()}_isOverContainer(t,e){return aV(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(i=>i._canReceive(t,e,n))}_canReceive(t,e,n){if(!this.enterPredicate(t,this)||!aV(this._clientRect,e,n))return!1;const i=this._shadowRoot.elementFromPoint(e,n);if(!i)return!1;const r=gg(this.element);return i===r||r.contains(i)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheOwnPosition(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(()=>{if(this.isDragging()){const t=this._viewportRuler.getViewportScrollPosition();this._updateAfterScroll(this._viewportScrollPosition,t.top,t.left,this._clientRect)}else this.isReceiving()&&this._cacheOwnPosition()})}}function sV(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function oV(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function aV(t,e,n){const{top:i,bottom:r,left:s,right:o}=t;return n>=i&&n<=r&&e>=s&&e<=o}function lV(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function cV(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function hV(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function uV(t,e){const{top:n,bottom:i,height:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}function dV(t,e){const{left:n,right:i,width:r}=t,s=.05*r;return e>=n-s&&e<=n+s?1:e>=i-s&&e<=i+s?2:0}const pV=nv({passive:!1,capture:!0});let fV=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new k,this.pointerUp=new k,this.scroll=new k,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._document=e}registerDropContainer(t){if(!this._dropInstances.has(t)){if(this.getDropContainer(t.id))throw Error(`Drop instance with id "${t.id}" has already been registered.`);this._dropInstances.add(t)}}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,pV)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,pV)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch"),n=t?"touchend":"mouseup";this._globalListeners.set(t?"touchmove":"mousemove",{handler:t=>this.pointerMove.next(t),options:pV}).set(n,{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:pV}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}getDropContainer(t){return Array.from(this._dropInstances).find(e=>e.id===t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(Zt(Yc),Zt(Eh))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Yc),Zt(Eh))},token:t,providedIn:"root"}),t})();const mV={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let gV=(()=>{class t{constructor(t,e,n,i){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(t,e=mV){return new XB(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new rV(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(Zt(Eh),Zt(Yc),Zt(cv),Zt(fV))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=pt({factory:function(){return new t(Zt(Eh),Zt(Yc),Zt(cv),Zt(fV))},token:t,providedIn:"root"}),t})(),vV=(()=>{class t{}return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[gV]}),t})(),yV=(()=>{let t=class{};return t.\u0275mod=_e({type:t}),t.\u0275inj=ft({factory:function(e){return new(e||t)},imports:[[fu,qM,UM,XM,KM,ZM,JM]]}),t})(),bV=(()=>{class t{constructor(t){this.loginService=t}intercept(t,e){const n=JSON.parse(sessionStorage.getItem("user"));return n&&(t=t.clone({setHeaders:{Authorization:`Bearer ${n.idToken}`}})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(Zt(dT))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();function _V(t,e){if(1&t&&(No(0,"div",5),Da(1),Fo()),2&t){const t=Ko();_r(1),Ra("Service ",t.data.endpoint," executed with success")}}function wV(t,e){if(1&t&&(No(0,"div"),Bo(1,"br"),Da(2),Fo()),2&t){const t=Ko(2);_r(2),Aa(t.data.extraMessage)}}function xV(t,e){if(1&t&&(No(0,"div",5),Da(1),Oo(2,wV,3,1,"div",6),Fo()),2&t){const t=Ko();_r(1),Ra("Service ",t.data.endpoint," failed "),_r(1),Mo("ngIf",t.data.extraMessage)}}let CV=(()=>{class t{constructor(t){this.data=t}ngOnInit(){console.log(this.data)}doAction(){this.data.doAction()}}return t.\u0275fac=function(e){return new(e||t)(Ao(pF))},t.\u0275cmp=ge({type:t,selectors:[["app-snack-bar"]],decls:6,vars:3,consts:[[2,"display","flex","justify-content","space-between","word-break","break-word","align-items","center"],["style","width:70%;",4,"ngIf"],[2,"width","30%"],["mat-stroked-button","",2,"float","right",3,"click"],[3,"translate"],[2,"width","70%"],[4,"ngIf"]],template:function(t,e){1&t&&(No(0,"div",0),Oo(1,_V,2,1,"div",1),Oo(2,xV,3,2,"div",1),No(3,"div",2),No(4,"button",3),qo("click",(function(){return e.doAction()})),Bo(5,"span",4),Fo(),Fo(),Fo()),2&t&&(_r(1),Mo("ngIf",e.data.isSuccess),_r(1),Mo("ngIf",!e.data.isSuccess),_r(3),Mo("translate",e.data.isSuccess?"OK":"RETRY"))},directives:[Qh,OI,bS],styles:[""]}),t})(),SV=(()=>{class t{constructor(t,e,n){this.snackBar=t,this.router=e,this.translate=n}intercept(t,e){return e.handle(t).pipe(Ud(e=>{if(e instanceof RC){const n=t.url.split("/"),i=n[n.length-1];0!==t.method.localeCompare("GET")&&0!==i.localeCompare("login")&&0!==i.localeCompare("logout")&&2===Math.floor(e.status/100)&&this.snackBar.openFromComponent(CV,{data:{isSuccess:!0,body:t.body,endpoint:i,url:t.url,extraMessage:null,doAction:()=>this.snackBar.dismiss()},duration:5e3})}},e=>{if(e instanceof PC){const n=t.url.split("/");404===e.status?this.router.navigateByUrl("/not-found",{replaceUrl:!0}):401===e.status?this.translate.get("UNAUTHORIZED").subscribe(e=>{this.snackBar.openFromComponent(CV,{data:{isSuccess:!1,body:t.body,endpoint:n[n.length-1],url:t.url,extraMessage:e,doAction:()=>{console.log("ok"),this.snackBar.dismiss()}},duration:2e5})}):Math.floor(e.status/100)>=4&&this.snackBar.openFromComponent(CV,{data:{isSuccess:!1,body:t.body,endpoint:n[n.length-1],url:t.url,extraMessage:null,doAction:()=>{console.log("ok"),this.snackBar.dismiss()}},duration:2e5})}}))}}return t.\u0275fac=function(e){return new(e||t)(Zt(_F),Zt(um),Zt(yS))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})();class kV{canDeactivate(t,e,n,i){return t.canDeactivate()}}const EV=new iT([{id:cT.PROVIDER_ID,provider:new cT("554774137176-p6pr1qe22srgmp5ab9qmjeh2hfaftrh4.apps.googleusercontent.com",{scope:"profile email"})}]);function IV(){return EV}function TV(t){return new jB(t)}let OV=(()=>{class t{}return t.\u0275mod=_e({type:t,bootstrap:[VB]}),t.\u0275inj=ft({factory:function(e){return new(e||t)},providers:[{provide:iT,useFactory:IV},{provide:FC,useClass:bV,multi:!0},{provide:FC,useClass:SV,multi:!0},kV,OB,mB],imports:[[Ku,KC,wS.forRoot({loader:{provide:eS,useFactory:TV,deps:[LC]}}),AB,S_,vC,yC,eT,ek,CI,DI,zB,hE,J_,Gk,yF,uk,Dk,Mw,dD,TO,fP,JA,fR,BT,vV,OP,zO,SA,_M.forRoot(),yV,iL,oT,PT]]}),t})();(function(){if(ki)throw new Error("Cannot enable prod mode after platform setup.");Si=!1})(),Yu().bootstrapModule(OV).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);